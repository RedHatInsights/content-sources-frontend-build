{"version":3,"file":"js/236.1694810672326.6f0eab0730ec60f5be2e.js","mappings":"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","sources":["webpack:///./src/App.tsx","webpack:///./src/AppEntry.tsx","webpack:///./src/Hooks/useDebounce.tsx","webpack:///./src/Hooks/useDeepCompareEffect.tsx","webpack:///./src/Hooks/useErrorNotification.tsx","webpack:///./src/Hooks/useNotification.tsx","webpack:///./src/Hooks/useRootPath.tsx","webpack:///./src/Pages/AdminTaskTable/AdminTaskTable.tsx","webpack:///./src/Pages/AdminTaskTable/components/AdminTaskFilters.tsx","webpack:///./src/Pages/AdminTaskTable/components/StatusIcon.tsx","webpack:///./src/Pages/AdminTaskTable/components/ViewPayloadModal/ViewPayloadModal.tsx","webpack:///./src/Pages/AdminTaskTable/components/ViewPayloadModal/components/AdminTaskInfo.tsx","webpack:///./src/Pages/ContentListTable/ContentListTable.tsx","webpack:///./src/Pages/ContentListTable/components/AddContent/AddContent.tsx","webpack:///./src/Pages/ContentListTable/components/AddContent/components/ContentValidity.tsx","webpack:///./src/Pages/ContentListTable/components/AddContent/helpers.ts","webpack:///./src/Pages/ContentListTable/components/ContentListFilters.tsx","webpack:///./src/Pages/ContentListTable/components/EditContentModal/EditContentForm.tsx","webpack:///./src/Pages/ContentListTable/components/EditContentModal/EditContentModal.tsx","webpack:///./src/Pages/ContentListTable/components/EditContentModal/helpers.ts","webpack:///./src/Pages/ContentListTable/components/PackageCount.tsx","webpack:///./src/Pages/ContentListTable/components/PackageModal/PackageModal.tsx","webpack:///./src/Pages/ContentListTable/components/PackageModal/components/EmptyPackageState.tsx","webpack:///./src/Pages/ContentListTable/components/SnapshotListModal/SnapshotListModal.tsx","webpack:///./src/Pages/ContentListTable/components/SnapshotListModal/components/ChangedArrows.tsx","webpack:///./src/Pages/ContentListTable/components/StatusIcon.tsx","webpack:///./src/Pages/PopularRepositoriesTable/PopularRepositoriesTable.tsx","webpack:///./src/Pages/PopularRepositoriesTable/helper.ts","webpack:///./src/Routes/Layout.tsx","webpack:///./src/Routes/index.tsx","webpack:///./src/Routes/useTabbedRoutes.tsx","webpack:///./src/components/ConditionalTooltip/ConditionalTooltip.tsx","webpack:///./src/components/DeleteKebab/DeleteKebab.tsx","webpack:///./src/components/DropdownSelect/DropdownSelect.tsx","webpack:///./src/components/EmptyTableState/EmptyTableState.tsx","webpack:///./src/components/Error/ErrorPage.tsx","webpack:///./src/components/Header/Header.tsx","webpack:///./src/components/Hide/Hide.tsx","webpack:///./src/components/NoPermissionsPage/NoPermissionsPage.tsx","webpack:///./src/components/QuickStart/QuickStart.tsx","webpack:///./src/components/StatusText/StatusText.tsx","webpack:///./src/components/UrlWithLinkIcon/UrlWithLinkIcon.tsx","webpack:///./src/middleware/AppContext.tsx","webpack:///./src/services/AdminTasks/AdminTaskApi.ts","webpack:///./src/services/AdminTasks/AdminTaskQueries.ts","webpack:///./src/services/Content/ContentApi.ts","webpack:///./src/services/Content/ContentQueries.ts","webpack:///./src/services/Features/FeatureApi.ts","webpack:///./src/services/Features/FeatureQueries.ts","webpack:///./src/store/index.tsx"],"sourcesContent":["import '@redhat-cloud-services/frontend-components-utilities/styles/_all';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport Routes from './Routes';\nimport { useAppContext } from './middleware/AppContext';\nimport { NoPermissionsPage } from './components/NoPermissionsPage/NoPermissionsPage';\n\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n\nexport default function App() {\n  const { rbac, isFetchingFeatures } = useAppContext();\n\n  switch (true) {\n    case !rbac || isFetchingFeatures:\n      return (\n        <Bullseye>\n          <Spinner size='xl' />\n        </Bullseye>\n      );\n    case rbac?.read:\n      return (\n        <>\n          <NotificationsPortal />\n          <Routes />\n        </>\n      );\n\n    default:\n      return <NoPermissionsPage />;\n  }\n}\n","import React, { useEffect } from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport * as Redux from 'redux';\n\nimport App from './App';\nimport { ContextProvider } from './middleware/AppContext';\nimport { createStore, resetStore } from './store';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false, // TODO: Have a conversation about this\n    },\n  },\n});\n\ninterface AppEntryProps {\n  logger?: Redux.Middleware;\n}\n\nexport default function AppEntry({ logger }: AppEntryProps) {\n  const store = React.useMemo(() => {\n    resetStore();\n    if (logger) {\n      return createStore(logger).store;\n    }\n    return createStore().store;\n  }, [logger]);\n\n  useEffect(() => {\n    insights?.chrome?.appAction?.('view-list-page');\n  }, []);\n\n  return (\n    <ReduxProvider store={store}>\n      <QueryClientProvider client={queryClient}>\n        <ContextProvider>\n          <App />\n        </ContextProvider>\n      </QueryClientProvider>\n    </ReduxProvider>\n  );\n}\n","import { isEqual } from 'lodash';\nimport { useEffect, useState } from 'react';\n\nfunction useDebounce<T>(value: T, delay?: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    // We need to make sure that we compare-deep here as the default useEffect deps do not.\n    if (!isEqual(value, debouncedValue)) {\n      const timer = setTimeout(() => setDebouncedValue(value), delay || 500);\n\n      return () => {\n        clearTimeout(timer);\n      };\n    }\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport default useDebounce;\n","import { isEqual } from 'lodash';\nimport { useEffect, useRef } from 'react';\n\nfunction useDeepCompareMemoize(value) {\n  const ref = useRef();\n  // it can be done by using useMemo as well\n  // but useRef is rather cleaner and easier\n\n  if (!isEqual(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n\nexport default function useDeepCompareEffect(callback, dependencies) {\n  useEffect(callback, dependencies.map(useDeepCompareMemoize));\n}\n","import { AlertVariant } from '@patternfly/react-core';\nimport useNotification from './useNotification';\n\nexport default function useErrorNotification() {\n  const { notify } = useNotification();\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const errorNotifier = (defaultTitle: string, defaultDescription: string, err: any) => {\n    let title = defaultTitle;\n    let description = defaultDescription;\n\n    switch (typeof err?.response?.data) {\n      case 'string':\n        description = err.response.data;\n        break;\n      case 'object':\n        // Only show the first error\n        err?.response?.data.errors?.find(\n          ({ title: errTitle, detail, description: errDescription }) => {\n            if (errTitle) title = errTitle;\n            if (errDescription) description = errDescription;\n            if (detail) description = detail;\n            if (errTitle || errDescription || detail) return true;\n          },\n        );\n        break;\n      default:\n        break;\n    }\n\n    notify({\n      variant: AlertVariant.danger,\n      title,\n      description,\n    });\n  };\n\n  return errorNotifier;\n}\n","import { AlertVariant } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { useDispatch } from 'react-redux';\n\nexport interface NotificationPayload {\n  title: React.ReactNode | string;\n  variant: AlertVariant;\n  description?: React.ReactNode | string;\n  dismissable?: boolean;\n}\n\nexport default function useNotification() {\n  const dispatch = useDispatch();\n  const notify: (payload: NotificationPayload) => void = (payload: NotificationPayload) =>\n    dispatch(addNotification(payload));\n\n  return { notify };\n}\n","import { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nfunction useRootPath(): string {\n  const { pathname } = useLocation();\n  const rootPath = useMemo(\n    () => pathname.split('content')[0] + 'content',\n    [pathname.split('content')[0]],\n  );\n\n  return rootPath;\n}\n\nexport default useRootPath;\n","import {\n  Bullseye,\n  Button,\n  Flex,\n  FlexItem,\n  Grid,\n  OnPerPageSelect,\n  OnSetPage,\n  Pagination,\n  PaginationVariant,\n  Spinner,\n} from '@patternfly/react-core';\nimport {\n  TableComposable,\n  TableVariant,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  ThProps,\n  Tr,\n} from '@patternfly/react-table';\nimport { global_BackgroundColor_100 } from '@patternfly/react-tokens';\nimport { useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { SkeletonTable } from '@redhat-cloud-services/frontend-components';\nimport Hide from '../../components/Hide/Hide';\nimport EmptyTableState from '../../components/EmptyTableState/EmptyTableState';\nimport AdminTaskFilters from './components/AdminTaskFilters';\nimport dayjs from 'dayjs';\nimport StatusIcon from './components/StatusIcon';\nimport { useAdminTaskListQuery } from '../../services/AdminTasks/AdminTaskQueries';\nimport { AdminTaskFilterData, AdminTask } from '../../services/AdminTasks/AdminTaskApi';\nimport { Outlet, useNavigate } from 'react-router-dom';\n\nconst useStyles = createUseStyles({\n  mainContainer: {\n    backgroundColor: global_BackgroundColor_100.value,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  mainContainer100Height: {\n    composes: ['$mainContainer'], // This extends another class within this stylesheet\n    minHeight: '100%',\n  },\n  topContainer: {\n    justifyContent: 'space-between',\n    padding: '16px 24px', // This is needed\n    height: 'fit-content',\n  },\n  bottomContainer: {\n    justifyContent: 'space-between',\n    height: 'fit-content',\n  },\n  invisible: {\n    opacity: 0,\n  },\n});\n\nexport const formatDate = (date: string): string => dayjs(date).format('DD MMM YYYY HH:mm UTCZ');\n\nconst perPageKey = 'adminTaskPerPage';\n\nconst AdminTaskTable = () => {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const storedPerPage = Number(localStorage.getItem(perPageKey)) || 20;\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(storedPerPage);\n  const [activeSortIndex, setActiveSortIndex] = useState<number>(3); // queued_at\n  const [activeSortDirection, setActiveSortDirection] = useState<'asc' | 'desc'>('desc');\n\n  const [filterData, setFilterData] = useState<AdminTaskFilterData>({\n    accountId: '',\n    orgId: '',\n    statuses: [],\n  });\n\n  const clearFilters = () => setFilterData({ statuses: [], accountId: '', orgId: '' });\n\n  const notFiltered =\n    filterData.statuses.length === 0 && filterData.accountId === '' && filterData.orgId === '';\n\n  const columnSortAttributes = [\n    'org_id',\n    'account_id',\n    'typename',\n    'queued_at',\n    'started_at',\n    'finished_at',\n    'status',\n  ];\n\n  const sortString = useMemo(\n    () => columnSortAttributes[activeSortIndex] + ':' + activeSortDirection,\n    [activeSortIndex, activeSortDirection],\n  );\n\n  const {\n    isLoading,\n    error,\n    isError,\n    isFetching,\n    data = { data: [], meta: { count: 0, limit: 20, offset: 0 } },\n  } = useAdminTaskListQuery(page, perPage, filterData, sortString);\n\n  const actionTakingPlace = isFetching;\n\n  const onSetPage: OnSetPage = (_, newPage) => setPage(newPage);\n\n  const onPerPageSelect: OnPerPageSelect = (_, newPerPage, newPage) => {\n    // Save this value through page refresh for use on next reload\n    localStorage.setItem(perPageKey, newPerPage.toString());\n    setPerPage(newPerPage);\n    setPage(newPage);\n  };\n\n  const sortParams = (columnIndex: number): ThProps['sort'] => ({\n    sortBy: {\n      index: activeSortIndex,\n      direction: activeSortDirection,\n      defaultDirection: 'asc', // starting sort direction when first sorting a column. Defaults to 'asc'\n    },\n    onSort: (_event, index, direction) => {\n      setActiveSortIndex(index);\n      setActiveSortDirection(direction);\n    },\n    columnIndex,\n  });\n\n  const columnHeaders = ['Org ID', 'Account ID', 'Type', 'Queued At', 'Status'];\n\n  // Error is caught in the wrapper component\n  if (isError) throw error;\n\n  const {\n    data: adminTaskList = [],\n    meta: { count = 0 },\n  } = data;\n\n  const itemName = 'tasks';\n  const notFilteredBody = 'Certain actions, such as repository introspection, will start a task';\n\n  const countIsZero = count === 0;\n\n  if (countIsZero && notFiltered && !isLoading)\n    return (\n      <Bullseye data-ouia-safe={!actionTakingPlace} data-ouia-component-id='admin_task_list_page'>\n        <EmptyTableState\n          notFiltered={notFiltered}\n          clearFilters={clearFilters}\n          itemName={itemName}\n          notFilteredBody={notFilteredBody}\n        />\n      </Bullseye>\n    );\n\n  return (\n    <Grid\n      data-ouia-safe={!actionTakingPlace}\n      data-ouia-component-id='admin_task_list_page'\n      className={countIsZero ? classes.mainContainer100Height : classes.mainContainer}\n    >\n      <Outlet />\n      <Flex className={classes.topContainer}>\n        <AdminTaskFilters\n          isLoading={isLoading}\n          setFilterData={(values) => {\n            setFilterData(values);\n            setPage(1);\n          }}\n          filterData={filterData}\n        />\n        <FlexItem>\n          <Hide hide={countIsZero}>\n            <Pagination\n              id='top-pagination-id'\n              widgetId='topPaginationWidgetId'\n              perPageComponent='button'\n              isDisabled={isLoading}\n              itemCount={count}\n              perPage={perPage}\n              page={page}\n              onSetPage={onSetPage}\n              isCompact\n              onPerPageSelect={onPerPageSelect}\n            />\n          </Hide>\n        </FlexItem>\n      </Flex>\n      <Hide hide={!isLoading}>\n        <Grid className={classes.mainContainer}>\n          <SkeletonTable\n            rowSize={perPage}\n            colSize={columnHeaders.length}\n            variant={TableVariant.compact}\n          />\n        </Grid>\n      </Hide>\n      <Hide hide={countIsZero || isLoading}>\n        <>\n          <TableComposable\n            aria-label='Admin tasks table'\n            ouiaId='admin_tasks_table'\n            variant='compact'\n          >\n            <Thead>\n              <Tr>\n                {columnHeaders.map((columnHeader, index) => (\n                  <Th key={columnHeader + 'column'} sort={sortParams(index)}>\n                    {columnHeader}\n                  </Th>\n                ))}\n                <Th>\n                  <Spinner size='md' className={actionTakingPlace ? '' : classes.invisible} />\n                </Th>\n              </Tr>\n            </Thead>\n            <Tbody>\n              {adminTaskList.map((adminTask: AdminTask, index) => (\n                <Tr key={adminTask.uuid + index + ''}>\n                  <Td>{adminTask.org_id}</Td>\n                  <Td>{adminTask.account_id ? adminTask.account_id : 'Unknown'}</Td>\n                  <Td>{adminTask.typename}</Td>\n                  <Td>{formatDate(adminTask.queued_at)}</Td>\n                  <Td>\n                    <StatusIcon status={adminTask.status} />\n                  </Td>\n                  <Td width={10}>\n                    <Button\n                      onClick={() => navigate(adminTask.uuid)}\n                      variant='secondary'\n                      ouiaId='view_task_details'\n                    >\n                      View Details\n                    </Button>\n                  </Td>\n                </Tr>\n              ))}\n            </Tbody>\n          </TableComposable>\n          <Flex className={classes.bottomContainer}>\n            <FlexItem />\n            <FlexItem>\n              <Pagination\n                id='bottom-pagination-id'\n                widgetId='bottomPaginationWidgetId'\n                perPageComponent='button'\n                itemCount={count}\n                perPage={perPage}\n                page={page}\n                onSetPage={onSetPage}\n                variant={PaginationVariant.bottom}\n                onPerPageSelect={onPerPageSelect}\n              />\n            </FlexItem>\n          </Flex>\n        </>\n      </Hide>\n      <Hide hide={!countIsZero || isLoading}>\n        <EmptyTableState\n          notFiltered={notFiltered}\n          clearFilters={clearFilters}\n          itemName={itemName}\n          notFilteredBody={notFilteredBody}\n        />\n      </Hide>\n    </Grid>\n  );\n};\n\nexport default AdminTaskTable;\n","import { useEffect, useMemo, useState } from 'react';\nimport {\n  Button,\n  Chip,\n  ChipGroup,\n  Flex,\n  FlexItem,\n  InputGroup,\n  SelectVariant,\n  TextInput,\n} from '@patternfly/react-core';\nimport DropdownSelect from '../../../components/DropdownSelect/DropdownSelect';\nimport { FilterIcon, SearchIcon } from '@patternfly/react-icons';\nimport { global_BackgroundColor_100, global_secondary_color_100 } from '@patternfly/react-tokens';\nimport Hide from '../../../components/Hide/Hide';\nimport useDebounce from '../../../Hooks/useDebounce';\nimport { createUseStyles } from 'react-jss';\nimport { AdminTaskFilterData } from '../../../services/AdminTasks/AdminTaskApi';\n\ninterface Props {\n  isLoading?: boolean;\n  setFilterData: (filterData: AdminTaskFilterData) => void;\n  filterData: AdminTaskFilterData;\n}\n\nconst useStyles = createUseStyles({\n  chipsContainer: {\n    backgroundColor: global_BackgroundColor_100.value,\n    paddingTop: '16px',\n  },\n  clearFilters: {\n    marginLeft: '16px',\n  },\n  searchInput: {\n    paddingRight: '35px',\n    marginRight: '-23px',\n  },\n  searchIcon: {\n    color: global_secondary_color_100.value,\n    position: 'relative',\n    top: '3px',\n    left: '-5px',\n    pointerEvents: 'none',\n  },\n});\n\nconst statusValues = ['Running', 'Failed', 'Completed', 'Canceled', 'Pending'];\nconst filters = ['Account ID', 'Org ID', 'Status'];\nexport type AdminTaskFilters = 'Account ID' | 'Org ID' | 'Status';\n\nconst AdminTaskFilters = ({ isLoading, setFilterData, filterData }: Props) => {\n  const classes = useStyles();\n  const [filterType, setFilterType] = useState<AdminTaskFilters>('Account ID');\n  const [accountId, setAccountId] = useState('');\n  const [orgId, setOrgId] = useState('');\n  const [selectedStatuses, setSelectedStatuses] = useState<string[]>([]);\n\n  const clearFilters = () => {\n    setAccountId('');\n    setOrgId('');\n    setSelectedStatuses([]);\n    setFilterData({ accountId: '', orgId: '', statuses: [] });\n  };\n\n  const deleteItem = (id: string, chips, setChips) => {\n    const copyOfChips = [...chips];\n    const filteredCopy = copyOfChips.filter((chip) => chip !== id);\n    setChips(filteredCopy);\n  };\n\n  useEffect(() => {\n    // If the filters get cleared at the top level, sense that and clear them here.\n    if (\n      filterData.accountId === '' &&\n      filterData.orgId === '' &&\n      filterData.statuses.length === 0 &&\n      (accountId !== '' || orgId !== '' || selectedStatuses.length !== 0)\n    ) {\n      clearFilters();\n    }\n  }, [filterData]);\n\n  const {\n    accountId: debouncedAccountId,\n    orgId: debouncedOrgId,\n    selectedStatuses: debouncedSelectedStatuses,\n  } = useDebounce({\n    accountId,\n    orgId,\n    selectedStatuses,\n  });\n\n  useEffect(() => {\n    setFilterData({\n      accountId: debouncedAccountId,\n      orgId: debouncedOrgId,\n      statuses: debouncedSelectedStatuses,\n    });\n  }, [debouncedAccountId, debouncedOrgId, debouncedSelectedStatuses]);\n\n  const Filter = useMemo(() => {\n    switch (filterType) {\n      case 'Account ID':\n        return (\n          <Flex>\n            <TextInput\n              isDisabled={isLoading}\n              id='account-id'\n              ouiaId='filter_account_id'\n              placeholder='Filter by account ID'\n              value={accountId}\n              onChange={(value) => setAccountId(value)}\n              className={classes.searchInput}\n            />\n            <SearchIcon size='sm' className={classes.searchIcon} />\n          </Flex>\n        );\n      case 'Org ID':\n        return (\n          <Flex>\n            <TextInput\n              isDisabled={isLoading}\n              id='org-id'\n              ouiaId='filter_org_id'\n              placeholder='Filter by org ID'\n              value={orgId}\n              onChange={(value) => setOrgId(value)}\n              className={classes.searchInput}\n            />\n            <SearchIcon size='sm' className={classes.searchIcon} />\n          </Flex>\n        );\n      case 'Status':\n        return (\n          <DropdownSelect\n            toggleAriaLabel='filter status'\n            toggleId='statusSelect'\n            ouiaId='filter_status'\n            isDisabled={isLoading}\n            options={statusValues}\n            variant={SelectVariant.checkbox}\n            selectedProp={selectedStatuses}\n            setSelected={setSelectedStatuses}\n            placeholderText='Filter by status'\n          />\n        );\n      default:\n        return <></>;\n    }\n  }, [filterType, isLoading, accountId, orgId, selectedStatuses]);\n\n  return (\n    <Flex>\n      <FlexItem>\n        <InputGroup>\n          <FlexItem>\n            <DropdownSelect\n              toggleId='filterSelectionDropdown'\n              ouiaId='filter_type'\n              isDisabled={isLoading}\n              options={filters}\n              variant={SelectVariant.single}\n              selectedProp={filterType}\n              setSelected={setFilterType}\n              placeholderText='filter'\n              toggleIcon={<FilterIcon />}\n            />\n          </FlexItem>\n          <FlexItem>{Filter}</FlexItem>\n        </InputGroup>\n      </FlexItem>\n      <Hide hide={!(accountId !== '' || orgId !== '' || selectedStatuses.length)}>\n        <FlexItem fullWidth={{ default: 'fullWidth' }} className={classes.chipsContainer}>\n          <ChipGroup categoryName='Status'>\n            {selectedStatuses.map((status) => (\n              <Chip\n                key={status}\n                onClick={() => deleteItem(status, selectedStatuses, setSelectedStatuses)}\n              >\n                {status}\n              </Chip>\n            ))}\n          </ChipGroup>\n          {orgId !== '' && (\n            <ChipGroup categoryName='Org ID'>\n              <Chip key='org_id_chip' onClick={() => setOrgId('')}>\n                {orgId}\n              </Chip>\n            </ChipGroup>\n          )}\n          {accountId !== '' && (\n            <ChipGroup categoryName='Account ID'>\n              <Chip key='account_id_chip' onClick={() => setAccountId('')}>\n                {accountId}\n              </Chip>\n            </ChipGroup>\n          )}\n          {((debouncedAccountId !== '' && accountId !== '') ||\n            (debouncedOrgId !== '' && orgId !== '') ||\n            !!selectedStatuses?.length) && (\n            <Button className={classes.clearFilters} onClick={clearFilters} variant='link' isInline>\n              Clear filters\n            </Button>\n          )}\n        </FlexItem>\n      </Hide>\n    </Flex>\n  );\n};\n\nexport default AdminTaskFilters;\n","import {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  BanIcon,\n  ClockIcon,\n} from '@patternfly/react-icons';\nimport { Flex, FlexItem, Spinner } from '@patternfly/react-core';\nimport StatusText from '../../../components/StatusText/StatusText';\nimport {\n  global_danger_color_100,\n  global_success_color_100,\n  global_warning_color_100,\n} from '@patternfly/react-tokens';\nimport { createUseStyles } from 'react-jss';\nimport { AdminTask } from '../../../services/AdminTasks/AdminTaskApi';\n\nconst red = global_danger_color_100.value;\nconst green = global_success_color_100.value;\nconst gold = global_warning_color_100.value;\n\nconst useStyles = createUseStyles({\n  spinner: {\n    animationDuration: '6s !important',\n    margin: '-3px 0',\n  },\n});\n\ninterface Props {\n  status: AdminTask['status'];\n}\n\nconst StatusIcon = ({ status }: Props) => {\n  const classes = useStyles();\n\n  switch (status) {\n    case 'running':\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <Spinner size='md' className={classes.spinner} />\n          </FlexItem>\n          <FlexItem>\n            <StatusText color='blue'>Running</StatusText>\n          </FlexItem>\n        </Flex>\n      );\n    case 'failed':\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <ExclamationCircleIcon color={red} />\n          </FlexItem>\n          <FlexItem>\n            <StatusText color='green'>Failed</StatusText>\n          </FlexItem>\n        </Flex>\n      );\n    case 'completed':\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <CheckCircleIcon color={green} />\n          </FlexItem>\n          <FlexItem>\n            <StatusText color='green'>Completed</StatusText>\n          </FlexItem>\n        </Flex>\n      );\n    case 'canceled':\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <BanIcon color={red} />\n          </FlexItem>\n          <FlexItem>\n            <StatusText color='green'>Canceled</StatusText>\n          </FlexItem>\n        </Flex>\n      );\n    case 'pending':\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <ClockIcon color={gold} />\n          </FlexItem>\n          <FlexItem>\n            <StatusText color='blue'>Pending</StatusText>\n          </FlexItem>\n        </Flex>\n      );\n    default:\n      return <></>;\n  }\n};\n\nexport default StatusIcon;\n","import {\n  Bullseye,\n  Modal,\n  ModalVariant,\n  Spinner,\n  Tab,\n  TabContent,\n  TabTitleText,\n  Tabs,\n} from '@patternfly/react-core';\nimport { createUseStyles } from 'react-jss';\nimport { createRef, useEffect, useMemo, useState } from 'react';\nimport { AdminTask } from '../../../../services/AdminTasks/AdminTaskApi';\nimport AdminTaskInfo from './components/AdminTaskInfo';\nimport ReactJson from 'react-json-view';\nimport Hide from '../../../../components/Hide/Hide';\nimport { useFetchAdminTaskQuery } from '../../../../services/AdminTasks/AdminTaskQueries';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { ADMIN_TASKS_ROUTE } from '../../../../Routes/useTabbedRoutes';\nimport useRootPath from '../../../../Hooks/useRootPath';\n\nconst useStyles = createUseStyles({\n  jsonView: {\n    fontSize: '12px',\n  },\n});\n\nexport interface TabData {\n  title: string;\n  data: object;\n  contentRef: React.RefObject<HTMLElement>;\n}\n\nconst ViewPayloadModal = () => {\n  const { taskUUID: uuid } = useParams();\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const rootPath = useRootPath();\n\n  const onClose = () => navigate(`${rootPath}/${ADMIN_TASKS_ROUTE}`);\n\n  const [activeTabKey, setActiveTabKey] = useState<string | number>(0);\n  const detailRef = createRef<HTMLElement>();\n\n  const { isLoading, isFetching, data: adminTask, isError } = useFetchAdminTaskQuery(uuid);\n\n  const handleTabClick = (_, tabIndex: string | number) => {\n    setActiveTabKey(tabIndex);\n  };\n\n  useEffect(() => {\n    if (isError) {\n      onClose();\n    }\n  }, [isError]);\n\n  const tabs = useMemo(() => {\n    const tabs: TabData[] = [];\n\n    if (!adminTask) {\n      return tabs;\n    }\n\n    if (adminTask.payload) {\n      tabs.push({\n        title: 'Payload',\n        data: adminTask.payload,\n        contentRef: createRef<HTMLElement>(),\n      });\n    }\n\n    switch (adminTask.typename) {\n      case 'snapshot': {\n        const pulp = adminTask.pulp;\n        if (pulp) {\n          if (pulp.sync) {\n            tabs.push({\n              title: 'Sync',\n              data: pulp.sync,\n              contentRef: createRef<HTMLElement>(),\n            });\n          }\n          if (pulp.distribution) {\n            tabs.push({\n              title: 'Distribution',\n              data: pulp.distribution,\n              contentRef: createRef<HTMLElement>(),\n            });\n          }\n          if (pulp.publication) {\n            tabs.push({\n              title: 'Publication',\n              data: pulp.publication,\n              contentRef: createRef<HTMLElement>(),\n            });\n          }\n        }\n        break;\n      }\n    }\n    return tabs;\n  }, [adminTask?.uuid, isFetching]);\n\n  const actionTakingPlace = isFetching && !!adminTask;\n  const showLoading = isLoading || !adminTask;\n  return (\n    <Modal\n      position='top'\n      variant={ModalVariant.medium}\n      ouiaId='task_details'\n      ouiaSafe={!actionTakingPlace}\n      aria-label='Task details'\n      isOpen\n      onClose={onClose}\n      header={\n        <Hide hide={isLoading}>\n          <Tabs\n            activeKey={activeTabKey}\n            onSelect={handleTabClick}\n            aria-label='Task tabs'\n            ouiaId='task-tabs'\n          >\n            <Tab\n              title={<TabTitleText>Task details</TabTitleText>}\n              aria-label='Task details'\n              ouiaId='task-details'\n              eventKey={0}\n              tabContentRef={detailRef}\n            />\n            {tabs.map(({ title, contentRef }) => (\n              <Tab\n                key={title}\n                eventKey={title}\n                aria-label={title}\n                ouiaId={title}\n                tabContentRef={contentRef}\n                title={<TabTitleText>{title}</TabTitleText>}\n              />\n            ))}\n          </Tabs>\n        </Hide>\n      }\n    >\n      <Hide hide={!showLoading}>\n        <Bullseye>\n          <Spinner />\n        </Bullseye>\n      </Hide>\n      <Hide hide={showLoading}>\n        <TabContent aria-label='Task details' eventKey={0} id='task-details' ref={detailRef}>\n          {/* Hide \"isLoading\" checks if adminTask is not null */}\n          <AdminTaskInfo adminTask={adminTask as AdminTask} />\n        </TabContent>\n        {tabs.map(({ title, data, contentRef }, index) => (\n          <TabContent\n            key={index}\n            eventKey={title}\n            aria-label={title}\n            id={title}\n            className={classes.jsonView}\n            ref={contentRef}\n            hidden\n          >\n            <ReactJson\n              name={null}\n              src={data}\n              enableClipboard={(copy) => {\n                navigator.clipboard.writeText(JSON.stringify(copy.src, null, '\\t'));\n              }}\n            />\n          </TabContent>\n        ))}\n      </Hide>\n    </Modal>\n  );\n};\n\nexport default ViewPayloadModal;\n","import {\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n} from '@patternfly/react-core';\nimport { AdminTask } from '../../../../../services/AdminTasks/AdminTaskApi';\nimport { formatDate } from '../../../AdminTaskTable';\n\nexport interface AdminTaskInfoProps {\n  adminTask: AdminTask;\n}\nconst AdminTaskInfo = ({ adminTask }: AdminTaskInfoProps) => (\n  <DescriptionList>\n    <DescriptionListGroup>\n      <DescriptionListTerm>UUID</DescriptionListTerm>\n      <DescriptionListDescription>{adminTask.uuid}</DescriptionListDescription>\n    </DescriptionListGroup>\n    <DescriptionListGroup>\n      <DescriptionListTerm>Account ID</DescriptionListTerm>\n      <DescriptionListDescription>\n        {adminTask.account_id ? adminTask.account_id : 'Unknown; repository configuration deleted'}\n      </DescriptionListDescription>\n    </DescriptionListGroup>\n    <DescriptionListGroup>\n      <DescriptionListTerm>Org ID</DescriptionListTerm>\n      <DescriptionListDescription>{adminTask.org_id}</DescriptionListDescription>\n    </DescriptionListGroup>\n    <DescriptionListGroup>\n      <DescriptionListTerm>Type</DescriptionListTerm>\n      <DescriptionListDescription>{adminTask.typename}</DescriptionListDescription>\n    </DescriptionListGroup>\n    <DescriptionListGroup>\n      <DescriptionListTerm>Status</DescriptionListTerm>\n      <DescriptionListDescription>{adminTask.status}</DescriptionListDescription>\n    </DescriptionListGroup>\n    <DescriptionListGroup>\n      <DescriptionListTerm>Queued At</DescriptionListTerm>\n      <DescriptionListDescription>{formatDate(adminTask.queued_at)}</DescriptionListDescription>\n    </DescriptionListGroup>\n    <DescriptionListGroup>\n      <DescriptionListTerm>Started At</DescriptionListTerm>\n      <DescriptionListDescription>\n        {adminTask.started_at ? formatDate(adminTask.started_at) : 'Not started'}\n      </DescriptionListDescription>\n    </DescriptionListGroup>\n    <DescriptionListGroup>\n      <DescriptionListTerm>Finished At</DescriptionListTerm>\n      <DescriptionListDescription>\n        {adminTask.finished_at ? formatDate(adminTask.finished_at) : 'Not finished'}\n      </DescriptionListDescription>\n    </DescriptionListGroup>\n    <DescriptionListGroup>\n      <DescriptionListTerm>Error</DescriptionListTerm>\n      <DescriptionListDescription>\n        {adminTask.error ? adminTask.error : 'None'}\n      </DescriptionListDescription>\n    </DescriptionListGroup>\n  </DescriptionList>\n);\n\nexport default AdminTaskInfo;\n","import {\n  Bullseye,\n  Button,\n  Flex,\n  FlexItem,\n  Grid,\n  OnPerPageSelect,\n  OnSetPage,\n  Pagination,\n  PaginationVariant,\n  Spinner,\n} from '@patternfly/react-core';\nimport {\n  ActionsColumn,\n  IAction,\n  TableComposable,\n  TableVariant,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  ThProps,\n  Tr,\n} from '@patternfly/react-table';\nimport { global_BackgroundColor_100 } from '@patternfly/react-tokens';\nimport { useCallback, useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport {\n  ContentItem,\n  FilterData,\n  IntrospectRepositoryRequestItem,\n} from '../../services/Content/ContentApi';\nimport { SkeletonTable } from '@redhat-cloud-services/frontend-components';\n\nimport {\n  useBulkDeleteContentItemMutate,\n  useContentListQuery,\n  useDeleteContentItemMutate,\n  useIntrospectRepositoryMutate,\n  useRepositoryParams,\n} from '../../services/Content/ContentQueries';\nimport ContentListFilters from './components/ContentListFilters';\nimport Hide from '../../components/Hide/Hide';\nimport EmptyTableState from '../../components/EmptyTableState/EmptyTableState';\nimport { useQueryClient } from 'react-query';\nimport StatusIcon from './components/StatusIcon';\nimport UrlWithExternalIcon from '../../components/UrlWithLinkIcon/UrlWithLinkIcon';\nimport PackageCount from './components/PackageCount';\nimport { useAppContext } from '../../middleware/AppContext';\nimport ConditionalTooltip from '../../components/ConditionalTooltip/ConditionalTooltip';\nimport dayjs from 'dayjs';\nimport { Outlet, useNavigate, useOutletContext } from 'react-router-dom';\n\nconst useStyles = createUseStyles({\n  mainContainer: {\n    backgroundColor: global_BackgroundColor_100.value,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  mainContainer100Height: {\n    composes: ['$mainContainer'], // This extends another class within this stylesheet\n    minHeight: '100%',\n  },\n  topContainer: {\n    justifyContent: 'space-between',\n    padding: '16px 24px', // This is needed\n    height: 'fit-content',\n  },\n  bottomContainer: {\n    justifyContent: 'space-between',\n    height: 'fit-content',\n  },\n  invisible: {\n    opacity: 0,\n  },\n  checkboxMinWidth: {\n    minWidth: '45px!important',\n  },\n});\n\nconst perPageKey = 'contentListPerPage';\n\nconst ContentListTable = () => {\n  const classes = useStyles();\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n  const { rbac, features } = useAppContext();\n  const storedPerPage = Number(localStorage.getItem(perPageKey)) || 20;\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(storedPerPage);\n  const [activeSortIndex, setActiveSortIndex] = useState<number>(0);\n  const [activeSortDirection, setActiveSortDirection] = useState<'asc' | 'desc'>('asc');\n  const [checkedRepositories, setCheckedRepositories] = useState(new Set<string>());\n\n  const [filterData, setFilterData] = useState<FilterData>({\n    searchQuery: '',\n    versions: [],\n    arches: [],\n    statuses: [],\n  });\n\n  const clearFilters = () =>\n    setFilterData({ searchQuery: '', versions: [], arches: [], statuses: [] });\n\n  const notFiltered =\n    !filterData.arches?.length &&\n    filterData.searchQuery === '' &&\n    !filterData.versions?.length &&\n    !filterData.statuses?.length;\n\n  const {\n    isLoading: repositoryParamsLoading,\n    error: repositoryParamsError,\n    isError: repositoryParamsIsError,\n    data: { distribution_versions: distVersions, distribution_arches: distArches } = {\n      distribution_versions: [],\n      distribution_arches: [],\n    },\n  } = useRepositoryParams();\n\n  const columnSortAttributes = [\n    'name',\n    'distribution_arch',\n    'distribution_versions',\n    'package_count',\n    'last_introspection_time',\n    'status',\n  ];\n\n  const sortString = (): string =>\n    columnSortAttributes[activeSortIndex] + ':' + activeSortDirection;\n\n  const {\n    isLoading,\n    error,\n    isError,\n    isFetching,\n    data = { data: [], meta: { count: 0, limit: 20, offset: 0 } },\n  } = useContentListQuery(page, perPage, filterData, sortString());\n\n  const { mutateAsync: deleteItem, isLoading: isDeleting } = useDeleteContentItemMutate(\n    queryClient,\n    page,\n    perPage,\n    filterData,\n    sortString(),\n  );\n\n  const { mutateAsync: introspectRepository, isLoading: isIntrospecting } =\n    useIntrospectRepositoryMutate(queryClient, page, perPage, filterData, sortString());\n\n  const introspectRepoForUuid = (uuid: string): Promise<void> =>\n    introspectRepository({ uuid: uuid, reset_count: true } as IntrospectRepositoryRequestItem);\n\n  const { mutateAsync: deleteItems, isLoading: isDeletingItems } = useBulkDeleteContentItemMutate(\n    queryClient,\n    checkedRepositories,\n    page,\n    perPage,\n    filterData,\n    sortString(),\n  );\n\n  // Other update actions will be added to this later.\n  const actionTakingPlace =\n    isDeleting || isFetching || repositoryParamsLoading || isIntrospecting || isDeletingItems;\n\n  const onSetPage: OnSetPage = (_, newPage) => setPage(newPage);\n\n  const onPerPageSelect: OnPerPageSelect = (_, newPerPage, newPage) => {\n    // Save this value through page refresh for use on next reload\n    localStorage.setItem(perPageKey, newPerPage.toString());\n    setPerPage(newPerPage);\n    setPage(newPage);\n  };\n\n  const sortParams = (columnIndex: number): ThProps['sort'] => ({\n    sortBy: {\n      index: activeSortIndex,\n      direction: activeSortDirection,\n      defaultDirection: 'asc', // starting sort direction when first sorting a column. Defaults to 'asc'\n    },\n    onSort: (_event, index, direction) => {\n      setActiveSortIndex(index);\n      setActiveSortDirection(direction);\n    },\n    columnIndex,\n  });\n\n  const columnHeaders = [\n    'Name',\n    'Architecture',\n    'Versions',\n    'Packages',\n    'Last Introspection',\n    'Status',\n  ];\n\n  const archesDisplay = (arch: string) => distArches.find(({ label }) => arch === label)?.name;\n\n  const versionDisplay = (versions: Array<string>): string =>\n    distVersions\n      .filter(({ label }) => versions?.includes(label))\n      .map(({ name }) => name)\n      .join(', ');\n\n  const lastIntrospectionDisplay = (time?: string): string =>\n    time === '' || time === undefined ? 'Never' : dayjs(time).fromNow();\n\n  // Error is caught in the wrapper component\n  if (isError) throw error;\n  if (repositoryParamsIsError) throw repositoryParamsError;\n\n  const {\n    data: contentList = [],\n    meta: { count = 0 },\n  } = data;\n\n  const rowActions = useCallback(\n    (rowData: ContentItem): IAction[] => [\n      {\n        isDisabled: actionTakingPlace,\n        title: 'Edit',\n        onClick: () => {\n          navigate(`edit-repository?repoUUIDS=${rowData.uuid}`);\n        },\n      },\n      ...(features?.snapshots?.accessible\n        ? [\n            {\n              isDisabled:\n                actionTakingPlace ||\n                !rowData.snapshot ||\n                !(rowData.snapshot && rowData.last_snapshot_uuid),\n              title:\n                rowData.snapshot && rowData.last_snapshot_uuid\n                  ? 'View all snapshots'\n                  : 'No snapshots yet',\n              onClick: () => {\n                navigate(`${rowData.uuid}/snapshots`);\n              },\n            },\n          ]\n        : []),\n      {\n        isDisabled: actionTakingPlace || rowData?.status == 'Retrying',\n        title: 'Introspect Now',\n        onClick: () => introspectRepoForUuid(rowData?.uuid).then(clearCheckedRepositories),\n      },\n      { isSeparator: true },\n      {\n        title: 'Delete',\n        onClick: () =>\n          deleteItem(rowData?.uuid).then(() => {\n            clearCheckedRepositories();\n            // If this is the last item on a page, go to previous page.\n            if (page > 1 && count / perPage + 1 >= page && (count - 1) % perPage === 0) {\n              setPage(page - 1);\n            }\n          }),\n      },\n    ],\n    [actionTakingPlace, checkedRepositories],\n  );\n\n  const clearCheckedRepositories = () => setCheckedRepositories(new Set<string>());\n\n  // Applied to all repos on current page\n  const selectAllRepos = (_, checked: boolean) => {\n    if (checked) {\n      const newSet = new Set<string>(checkedRepositories);\n      data.data\n        .filter((contentItem) => repoCanBeChecked(contentItem))\n        .forEach((contentItem) => newSet.add(contentItem.uuid));\n      setCheckedRepositories(newSet);\n    } else {\n      const newSet = new Set<string>(checkedRepositories);\n      for (const contentItem of data.data) {\n        newSet.delete(contentItem.uuid);\n      }\n      setCheckedRepositories(newSet);\n    }\n  };\n\n  const repoCanBeChecked = (contentItem: ContentItem) => contentItem.status !== 'Pending';\n\n  const atLeastOneRepoChecked = useMemo(() => checkedRepositories.size >= 1, [checkedRepositories]);\n\n  const areAllReposPending = useMemo(\n    () => data.data.every((contentItem) => !repoCanBeChecked(contentItem)),\n    [data],\n  );\n\n  const areAllReposSelected = useMemo(() => {\n    let atLeastOneSelectedOnPage = false;\n    const allSelectedOrPending = data.data.every((contentItem) => {\n      if (checkedRepositories.has(contentItem.uuid)) {\n        atLeastOneSelectedOnPage = true;\n      }\n      return !repoCanBeChecked(contentItem) || checkedRepositories.has(contentItem.uuid);\n    });\n    // Returns false if all repos on current page are pending (none selected)\n    return allSelectedOrPending && atLeastOneSelectedOnPage;\n  }, [data, checkedRepositories]);\n\n  const onSelectRepo = (uuid: string, value: boolean) => {\n    const newSet = new Set<string>(checkedRepositories);\n    if (value) {\n      newSet.add(uuid);\n    } else {\n      newSet.delete(uuid);\n    }\n    setCheckedRepositories(newSet);\n  };\n\n  const deleteCheckedRepos = () =>\n    deleteItems(checkedRepositories).then(() => {\n      const newMaxPage = Math.ceil((count - checkedRepositories.size) / perPage);\n      if (page > 1 && newMaxPage < page) {\n        setPage(newMaxPage);\n      }\n      clearCheckedRepositories();\n    });\n\n  const itemName = 'custom repositories';\n  const notFilteredBody = 'To get started, create a custom repository';\n\n  const countIsZero = count === 0;\n  const showLoader = countIsZero && notFiltered && !isLoading;\n  return (\n    <>\n      <Outlet context={{ clearCheckedRepositories }} />\n      {showLoader ? (\n        <Bullseye data-ouia-safe={!actionTakingPlace} data-ouia-component-id='content_list_page'>\n          <EmptyTableState\n            notFiltered={notFiltered}\n            clearFilters={clearFilters}\n            itemName={itemName}\n            notFilteredBody={notFilteredBody}\n            notFilteredButton={\n              <ConditionalTooltip\n                content='You do not have the required permissions to perform this action.'\n                show={!rbac?.write}\n                setDisabled\n              >\n                <Button\n                  id='createContentSourceButton'\n                  ouiaId='create_content_source'\n                  variant='primary'\n                  isDisabled={isLoading}\n                  onClick={() => navigate('add-repository')}\n                >\n                  Add repositories\n                </Button>\n              </ConditionalTooltip>\n            }\n          />\n        </Bullseye>\n      ) : (\n        <Grid\n          data-ouia-safe={!actionTakingPlace}\n          data-ouia-component-id='content_list_page'\n          className={countIsZero ? classes.mainContainer100Height : classes.mainContainer}\n        >\n          <Flex className={classes.topContainer}>\n            <ContentListFilters\n              isLoading={isLoading}\n              setFilterData={(values) => {\n                setFilterData(values);\n                setPage(1);\n              }}\n              filterData={filterData}\n              atLeastOneRepoChecked={atLeastOneRepoChecked}\n              numberOfReposChecked={checkedRepositories.size}\n              deleteCheckedRepos={deleteCheckedRepos}\n            />\n            <FlexItem>\n              <Hide hide={countIsZero}>\n                <Pagination\n                  id='top-pagination-id'\n                  widgetId='topPaginationWidgetId'\n                  perPageComponent='button'\n                  isDisabled={isLoading}\n                  itemCount={count}\n                  perPage={perPage}\n                  page={page}\n                  onSetPage={onSetPage}\n                  isCompact\n                  onPerPageSelect={onPerPageSelect}\n                />\n              </Hide>\n            </FlexItem>\n          </Flex>\n          <Hide hide={!isLoading}>\n            <Grid className={classes.mainContainer}>\n              <SkeletonTable\n                rowSize={perPage}\n                colSize={columnHeaders.length}\n                variant={TableVariant.compact}\n              />\n            </Grid>\n          </Hide>\n          <Hide hide={countIsZero || isLoading}>\n            <>\n              <TableComposable\n                aria-label='Custom repositories table'\n                ouiaId='custom_repositories_table'\n                variant='compact'\n              >\n                <Thead>\n                  <Tr>\n                    <Hide hide={!rbac?.write}>\n                      <Th\n                        className={classes.checkboxMinWidth}\n                        select={{\n                          onSelect: selectAllRepos,\n                          isSelected: areAllReposSelected,\n                          isHeaderSelectDisabled: areAllReposPending,\n                        }}\n                      />\n                    </Hide>\n                    {columnHeaders.map((columnHeader, index) => (\n                      <Th key={columnHeader + 'column'} sort={sortParams(index)}>\n                        {columnHeader}\n                      </Th>\n                    ))}\n                    <Th>\n                      <Spinner size='md' className={actionTakingPlace ? '' : classes.invisible} />\n                    </Th>\n                  </Tr>\n                </Thead>\n                <Tbody>\n                  {contentList.map((rowData: ContentItem, index) => {\n                    const {\n                      uuid,\n                      name,\n                      url,\n                      distribution_arch,\n                      distribution_versions,\n                      last_introspection_time,\n                    } = rowData;\n                    return (\n                      <Tr key={uuid}>\n                        <Hide hide={!rbac?.write}>\n                          <Td\n                            select={{\n                              rowIndex: index,\n                              onSelect: (_event, isSelecting) =>\n                                onSelectRepo(rowData.uuid, isSelecting),\n                              isSelected: checkedRepositories.has(rowData.uuid),\n                              disable: !repoCanBeChecked(rowData),\n                            }}\n                          />\n                        </Hide>\n                        <Td>\n                          {name}\n                          <br />\n                          <UrlWithExternalIcon href={url} />\n                        </Td>\n                        <Td>{archesDisplay(distribution_arch)}</Td>\n                        <Td>{versionDisplay(distribution_versions)}</Td>\n                        <Td>\n                          <PackageCount rowData={rowData} />\n                        </Td>\n                        <Td>{lastIntrospectionDisplay(last_introspection_time)}</Td>\n                        <Td>\n                          <StatusIcon rowData={rowData} retryHandler={introspectRepoForUuid} />\n                        </Td>\n                        <Td isActionCell>\n                          <ConditionalTooltip\n                            content={\n                              rowData?.status == 'Pending'\n                                ? 'Introspection is in progress'\n                                : 'You do not have the required permissions to perform this action.'\n                            }\n                            show={!rbac?.write || rowData?.status === 'Pending'}\n                            setDisabled\n                          >\n                            <ActionsColumn items={rowActions(rowData)} />\n                          </ConditionalTooltip>\n                        </Td>\n                      </Tr>\n                    );\n                  })}\n                </Tbody>\n              </TableComposable>\n              <Flex className={classes.bottomContainer}>\n                <FlexItem />\n                <FlexItem>\n                  <Pagination\n                    id='bottom-pagination-id'\n                    widgetId='bottomPaginationWidgetId'\n                    perPageComponent='button'\n                    itemCount={count}\n                    perPage={perPage}\n                    page={page}\n                    onSetPage={onSetPage}\n                    variant={PaginationVariant.bottom}\n                    onPerPageSelect={onPerPageSelect}\n                  />\n                </FlexItem>\n              </Flex>\n            </>\n          </Hide>\n          <Hide hide={!countIsZero || isLoading}>\n            <EmptyTableState\n              notFiltered={notFiltered}\n              clearFilters={clearFilters}\n              itemName={itemName}\n              notFilteredBody={notFilteredBody}\n              notFilteredButton={\n                <ConditionalTooltip\n                  content='You do not have the required permissions to perform this action.'\n                  show={!rbac?.write}\n                  setDisabled\n                >\n                  <Button\n                    id='createContentSourceButton'\n                    ouiaId='create_content_source'\n                    variant='primary'\n                    isDisabled={isLoading}\n                    onClick={() => navigate('add-repository')}\n                  >\n                    Add repositories\n                  </Button>\n                </ConditionalTooltip>\n              }\n            />\n          </Hide>\n        </Grid>\n      )}\n    </>\n  );\n};\n\nexport const useContentListOutletContext = () =>\n  useOutletContext<{ clearCheckedRepositories: () => void }>();\n\nexport default ContentListTable;\n","import {\n  Button,\n  Switch,\n  FileUpload,\n  Form,\n  FormGroup,\n  Modal,\n  ModalVariant,\n  Popover,\n  Radio,\n  SelectVariant,\n  Stack,\n  StackItem,\n  TextInput,\n  Tooltip,\n  Alert,\n} from '@patternfly/react-core';\nimport {\n  OutlinedQuestionCircleIcon,\n  PlusCircleIcon,\n  MinusCircleIcon,\n} from '@patternfly/react-icons';\nimport { TableComposable, Tbody, Td, Tr } from '@patternfly/react-table';\nimport { global_Color_200, global_link_Color } from '@patternfly/react-tokens';\nimport { useFormik } from 'formik';\nimport { useEffect, useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport Hide from '../../../../components/Hide/Hide';\nimport {\n  isValidURL,\n  mapFormikToAPIValues,\n  mapValidationData,\n  makeValidationSchema,\n  FormikValues,\n  maxUploadSize,\n  failedFileUpload,\n  getDefaultFormikValues,\n} from './helpers';\nimport useNotification from '../../../../Hooks/useNotification';\nimport ContentValidity from './components/ContentValidity';\nimport {\n  REPOSITORY_PARAMS_KEY,\n  useAddContentQuery,\n  useFetchGpgKey,\n  useValidateContentList,\n} from '../../../../services/Content/ContentQueries';\nimport { RepositoryParamsResponse } from '../../../../services/Content/ContentApi';\nimport DropdownSelect from '../../../../components/DropdownSelect/DropdownSelect';\nimport { useQueryClient } from 'react-query';\nimport ConditionalTooltip from '../../../../components/ConditionalTooltip/ConditionalTooltip';\nimport { isEmpty, isEqual } from 'lodash';\nimport useDeepCompareEffect from '../../../../Hooks/useDeepCompareEffect';\nimport useDebounce from '../../../../Hooks/useDebounce';\nimport { useNavigate } from 'react-router-dom';\nimport { useContentListOutletContext } from '../../ContentListTable';\nimport useRootPath from '../../../../Hooks/useRootPath';\nimport { useAppContext } from '../../../../middleware/AppContext';\n\nconst useStyles = createUseStyles({\n  description: {\n    paddingTop: '12px', // 4px on the title bottom padding makes this the \"standard\" 16 total padding\n    color: global_Color_200.value,\n  },\n  removeSideBorder: {\n    '&:after': {\n      borderLeft: 'none!important',\n    },\n  },\n  toggleAllRow: {\n    composes: ['$removeSideBorder'],\n    cursor: 'pointer',\n    borderBottom: 'none!important',\n    '& td': {\n      color: global_link_Color.value + '!important',\n      padding: '8px 0!important',\n    },\n    '& svg': {\n      fill: global_link_Color.value + '!important',\n      padding: '',\n    },\n  },\n  colHeader: {\n    '& td': {\n      '&:not(:last-child)': { cursor: 'pointer' },\n      padding: '8px 0!important',\n    },\n  },\n  mainContentCol: {\n    composes: ['$removeSideBorder'],\n    padding: '16px 0px 16px 36px!important',\n  },\n  toggleAction: {\n    composes: ['$removeSideBorder'],\n    '& button': {\n      padding: '8px',\n    },\n  },\n  addRepositoryButton: {\n    marginBottom: '24px',\n  },\n  saveButton: {\n    marginRight: '36px',\n    transition: 'unset!important',\n  },\n  removeButton: {\n    display: 'flex!important',\n    justifyContent: 'flex-end',\n  },\n  singleContentCol: {\n    padding: '8px 0px 0px !important',\n  },\n  gpgKeyInput: {\n    '& .pf-c-form-control': {\n      backgroundPositionX: 'calc(100% - 1.3em)',\n    },\n  },\n});\n\nconst defaultTouchedState = { name: false, url: false, gpgKey: false };\n\nconst AddContent = () => {\n  const navigate = useNavigate();\n  const rootPath = useRootPath();\n  const [changeVerified, setChangeVerified] = useState(false);\n  const [gpgKeyList, setGpgKeyList] = useState<Array<string>>(['']);\n  const { features } = useAppContext();\n  const snapshottingEnabled = useMemo(\n    () => !!features?.snapshots?.enabled && !!features?.snapshots?.accessible,\n    [!!features?.snapshots?.enabled],\n  );\n  const classes = useStyles();\n  const queryClient = useQueryClient();\n  const formik = useFormik({\n    initialValues: [getDefaultFormikValues({ snapshot: snapshottingEnabled })],\n    validateOnBlur: false,\n    validateOnChange: false,\n    validationSchema: makeValidationSchema(),\n    initialTouched: [defaultTouchedState],\n    onSubmit: () => undefined,\n  });\n\n  const { clearCheckedRepositories } = useContentListOutletContext();\n\n  const updateGpgKey = (index: number, value: string) => {\n    setChangeVerified(false);\n    const updatedData: Array<string> = [...gpgKeyList];\n    updatedData[index] = value;\n    setGpgKeyList(updatedData);\n  };\n\n  const { fetchGpgKey, isLoading: isFetchingGpgKey } = useFetchGpgKey();\n\n  const debouncedGpgKeyList = useDebounce(gpgKeyList, 300);\n\n  const updateGpgKeyList = async (list: Array<string>) => {\n    const updatedData = await Promise.all(\n      [...formik.values].map(async (values, index) => {\n        const updateValue = list[index];\n        if (isValidURL(updateValue)) {\n          const result = await fetchGpgKey(updateValue);\n          // If successful\n          if (result !== updateValue) {\n            updateGpgKey(index, result);\n            return {\n              ...values,\n              gpgKey: result,\n              ...(values.gpgKey === '' && !!updateValue\n                ? {\n                    metadataVerification:\n                      !!validationList?.[index]?.url?.metadata_signature_present,\n                  }\n                : {}),\n            };\n          }\n        }\n        return {\n          ...values,\n          gpgKey: updateValue,\n          ...(values.gpgKey === '' && !!updateValue\n            ? {\n                metadataVerification: !!validationList?.[index]?.url?.metadata_signature_present,\n              }\n            : {}),\n        };\n      }),\n    );\n\n    formik.setValues(updatedData);\n  };\n\n  const { distribution_arches: distArches = [], distribution_versions: distVersions = [] } =\n    queryClient.getQueryData<RepositoryParamsResponse>(REPOSITORY_PARAMS_KEY) || {};\n\n  useEffect(() => {\n    updateGpgKeyList(debouncedGpgKeyList);\n  }, [debouncedGpgKeyList]);\n\n  const { distributionArches, distributionVersions } = useMemo(() => {\n    const distributionArches = {};\n    const distributionVersions = {};\n    distArches.forEach(({ name, label }) => (distributionArches[name] = label));\n    distVersions.forEach(({ name, label }) => (distributionVersions[name] = label));\n    return { distributionArches, distributionVersions };\n  }, [distArches, distVersions]);\n\n  const onClose = () => navigate(rootPath);\n\n  const { mutateAsync: addContent, isLoading: isAdding } = useAddContentQuery(\n    queryClient,\n    mapFormikToAPIValues(formik.values),\n  );\n\n  const onSave = () => {\n    addContent().then(() => {\n      onClose();\n      clearCheckedRepositories();\n    });\n  };\n\n  const createDataLengthOf1 = formik.values.length === 1;\n\n  const allExpanded = !formik.values.some(({ expanded }) => !expanded);\n\n  const expandAllToggle = () => {\n    formik.setValues([...formik.values.map((vals) => ({ ...vals, expanded: !allExpanded }))]);\n    setTouchedOnLastItemIfUntouchedAndCollapsed();\n  };\n\n  const updateVariable = (index: number, newValue, callback?: () => void) => {\n    setChangeVerified(false);\n    const updatedData = [...formik.values];\n    updatedData[index] = { ...updatedData[index], ...newValue };\n    formik.setValues(updatedData).then(callback);\n  };\n\n  const addRepository = () => {\n    formik.setTouched([...formik.touched, defaultTouchedState]);\n    formik.setValues([\n      ...formik.values.map((vals) => ({ ...vals, expanded: false })),\n      getDefaultFormikValues({ snapshot: snapshottingEnabled }),\n    ]);\n    setChangeVerified(false);\n  };\n\n  const removeRepository = (index: number) => {\n    const newValues = formik.values;\n    newValues.splice(index, 1);\n\n    const newTouched = formik.touched;\n    newTouched.splice(index, 1);\n\n    const newErrors = formik.errors;\n    newErrors.splice(index, 1);\n\n    formik.setTouched(newTouched);\n    formik.setErrors(newErrors);\n    formik.setValues(newValues);\n  };\n\n  const getFieldValidation = (\n    index: number,\n    field: keyof FormikValues,\n  ): 'default' | 'success' | 'error' => {\n    const value = !!formik.values[index]?.[field];\n    const errors = !!formik.errors[index]?.[field];\n    const touched = formik.touched[index]?.[field];\n    switch (true) {\n      case errors && touched:\n        return 'error';\n      case field === 'gpgKey':\n        return 'default';\n      case value && touched:\n        return 'success';\n      default:\n        return 'default';\n    }\n  };\n\n  // The below sets the item as touched if the user closes the expansion without touching any fields\n  // This is to ensure that the user understands that the item needs attention (and is in error)\n  const setTouchedOnLastItemIfUntouchedAndCollapsed = () => {\n    const lastItem = formik.touched?.length - 1 || 0;\n    const { name, url } = formik.touched[lastItem] || {};\n    if (!name && !url) {\n      const updatedTouched = [...formik.touched];\n      updatedTouched[lastItem] = { ...updatedTouched[lastItem], name: true, url: true };\n      formik.setTouched(updatedTouched);\n    }\n  };\n\n  let debouncedValues = useDebounce(formik.values) || []; // Initial value of []\n\n  const {\n    mutateAsync: validateContentList,\n    data: validationList,\n    isLoading: isValidating,\n  } = useValidateContentList();\n\n  useDeepCompareEffect(() => {\n    // If validate is getting called to often, we could useDeepCompare\n    if (debouncedValues.length !== formik.values.length) debouncedValues = formik.values;\n    const newTouchedValues = [...formik.touched];\n    validateContentList(\n      debouncedValues.map(({ name, url, gpgKey, metadataVerification }, index) => {\n        if (!newTouchedValues[index]?.name && name) {\n          newTouchedValues[index] = { ...newTouchedValues[index], name: true };\n        }\n        if (!newTouchedValues[index]?.url && url) {\n          newTouchedValues[index] = { ...newTouchedValues[index], url: true };\n        }\n        if (!newTouchedValues[index]?.gpgKey && gpgKey) {\n          newTouchedValues[index] = { ...newTouchedValues[index], gpgKey: true };\n        }\n        return {\n          name,\n          url,\n          gpg_key: gpgKey,\n          metadata_verification: metadataVerification,\n        };\n      }),\n    ).then(async (validationData) => {\n      const formikErrors = await formik.validateForm(debouncedValues);\n      const mappedErrorData = mapValidationData(validationData, formikErrors);\n      formik.setErrors(mappedErrorData);\n      setChangeVerified(true);\n      formik.setTouched(newTouchedValues);\n    });\n  }, [debouncedValues, debouncedValues.length]);\n\n  const onToggle = (index: number) => {\n    if (formik.values[index]?.expanded) {\n      updateVariable(index, { ...formik.values[index], expanded: false });\n      setTouchedOnLastItemIfUntouchedAndCollapsed();\n    } else updateVariable(index, { ...formik.values[index], expanded: true });\n  };\n\n  const updateArchAndVersion = (index: number) => {\n    const url = formik.values[index]?.url;\n    if (\n      isValidURL(url) &&\n      (formik.values[index]?.arch === 'any' || formik.values[index].versions[0] === 'any')\n    ) {\n      const arch =\n        (formik.values[index]?.arch !== 'any' && formik.values[index]?.arch) ||\n        distArches.find(({ name, label }) => url.includes(name) || url.includes(label))?.label ||\n        'any';\n\n      let versions: Array<string> = [];\n      if (formik.values[index]?.versions?.length && formik.values[index].versions[0] !== 'any') {\n        versions = formik.values[index]?.versions;\n      } else {\n        const newVersion = distVersions.find(\n          ({ name, label }) => url.includes(name) || url.includes('/' + label),\n        )?.label;\n        if (newVersion) versions = [newVersion];\n        if (isEmpty(versions)) versions = ['any'];\n      }\n      if (formik.values[index]?.arch !== arch && !isEqual(versions, formik.values[index]?.arch)) {\n        const updatedData = [...formik.values];\n        updatedData[index] = { ...updatedData[index], ...{ arch, versions } };\n        formik.setValues(updatedData);\n      }\n    }\n  };\n\n  const setVersionSelected = (value: string[], index: number) => {\n    let valueToUpdate = value.map((val) => distributionVersions[val]);\n    if (value.length === 0 || valueToUpdate[value.length - 1] === 'any') {\n      valueToUpdate = ['any'];\n    }\n    if (valueToUpdate.length > 1 && valueToUpdate.includes('any')) {\n      valueToUpdate = valueToUpdate.filter((val) => val !== 'any');\n    }\n\n    updateVariable(index, {\n      versions: valueToUpdate,\n    });\n  };\n\n  const { notify } = useNotification();\n\n  const actionTakingPlace = isFetchingGpgKey || isAdding || isValidating || !changeVerified;\n\n  return (\n    <Modal\n      position='top'\n      variant={ModalVariant.medium}\n      title='Add custom repositories'\n      ouiaId='add_custom_repository'\n      ouiaSafe={!actionTakingPlace}\n      help={\n        <Popover\n          headerContent={<div>Add a custom repository</div>}\n          bodyContent={<div>Use this form to enter the values for a new repository.</div>}\n        >\n          <Button variant='plain' aria-label='Help'>\n            <OutlinedQuestionCircleIcon />\n          </Button>\n        </Popover>\n      }\n      description={\n        <p className={classes.description}>\n          Add by completing the form. Default values may be provided automatically.\n        </p>\n      }\n      isOpen\n      onClose={onClose}\n      footer={\n        <Stack>\n          <StackItem>\n            <Button\n              isDisabled={!formik.isValid || formik.values.length > 19}\n              className={classes.addRepositoryButton}\n              variant='link'\n              onClick={addRepository}\n              icon={<PlusCircleIcon />}\n              ouiaId='add_row'\n            >\n              Add another repository\n            </Button>\n          </StackItem>\n          <StackItem>\n            <Button\n              className={classes.saveButton}\n              key='confirm'\n              ouiaId='modal_save'\n              variant='primary'\n              isLoading={actionTakingPlace}\n              isDisabled={\n                !changeVerified ||\n                !formik.isValid ||\n                actionTakingPlace ||\n                formik.values?.length !== debouncedValues?.length\n              }\n              onClick={onSave}\n            >\n              Save\n            </Button>\n            <Button key='cancel' variant='link' onClick={onClose} ouiaId='modal_cancel'>\n              Cancel\n            </Button>\n          </StackItem>\n        </Stack>\n      }\n    >\n      <TableComposable aria-label='Table for repo add modal' ouiaId='add_modal_table'>\n        <Hide hide={createDataLengthOf1}>\n          <Tbody isExpanded={allExpanded}>\n            <Tr onClick={expandAllToggle} className={classes.toggleAllRow}>\n              <Td\n                className={classes.toggleAction}\n                isActionCell\n                expand={{\n                  rowIndex: 0,\n                  isExpanded: allExpanded,\n                }}\n              />\n              <Td dataLabel='expand-collapse'>{allExpanded ? 'Collapse all' : 'Expand all'}</Td>\n            </Tr>\n          </Tbody>\n        </Hide>\n        {formik.values.map(\n          (\n            {\n              expanded,\n              name,\n              url,\n              arch,\n              gpgKey,\n              versions,\n              gpgLoading,\n              metadataVerification,\n              snapshot,\n            },\n            index,\n          ) => (\n            <Tbody key={index} isExpanded={createDataLengthOf1 ? undefined : expanded}>\n              <Hide hide={createDataLengthOf1}>\n                <Tr className={classes.colHeader}>\n                  <Td\n                    onClick={() => onToggle(index)}\n                    className={classes.toggleAction}\n                    isActionCell\n                    expand={{\n                      rowIndex: index,\n                      isExpanded: expanded,\n                    }}\n                  />\n                  <Td width={35} onClick={() => onToggle(index)} dataLabel={name}>\n                    {name || 'New content'}\n                  </Td>\n                  <Td onClick={() => onToggle(index)} dataLabel='validity'>\n                    <ContentValidity\n                      touched={formik.touched[index]}\n                      errors={formik.errors[index]}\n                    />\n                  </Td>\n                  <Td dataLabel='removeButton' className={classes.removeButton}>\n                    <Hide hide={formik.values.length === 1}>\n                      <Button\n                        onClick={() => removeRepository(index)}\n                        variant='link'\n                        icon={<MinusCircleIcon />}\n                      >\n                        Remove\n                      </Button>\n                    </Hide>\n                  </Td>\n                </Tr>\n              </Hide>\n              <Tr isExpanded={createDataLengthOf1 ? undefined : expanded}>\n                <Td\n                  colSpan={4}\n                  className={\n                    createDataLengthOf1 ? classes.singleContentCol : classes.mainContentCol\n                  }\n                >\n                  <Form>\n                    <Hide hide={!snapshottingEnabled}>\n                      <FormGroup fieldId='snapshot'>\n                        <Switch\n                          id={'snapshot-switch-' + index}\n                          hasCheckIcon\n                          label='Snapshot creation enabled'\n                          labelOff='Snapshot creation disabled'\n                          isChecked={snapshot}\n                          onChange={() => {\n                            updateVariable(index, { snapshot: !snapshot });\n                          }}\n                        />\n                        <Tooltip content='Automatically create daily snapshots of this repository.'>\n                          <OutlinedQuestionCircleIcon\n                            className='pf-u-ml-xs'\n                            color={global_Color_200.value}\n                          />\n                        </Tooltip>\n                        <Hide hide={snapshot}>\n                          <Alert\n                            variant='warning'\n                            style={{ paddingTop: '10px' }}\n                            title='Disabling snapshots may result in a higher risk of losing content or unintentionally modifying it irreversibly.'\n                            isInline\n                            isPlain\n                          />\n                        </Hide>\n                      </FormGroup>\n                    </Hide>\n                    <FormGroup\n                      label='Name'\n                      isRequired\n                      fieldId='namegroup'\n                      validated={getFieldValidation(index, 'name')}\n                      helperTextInvalid={formik.errors[index]?.name}\n                    >\n                      <TextInput\n                        isRequired\n                        id='name'\n                        name='name'\n                        label='Name'\n                        ouiaId='input_name'\n                        type='text'\n                        validated={getFieldValidation(index, 'name')}\n                        onChange={(value) => {\n                          updateVariable(index, { name: value });\n                        }}\n                        value={name || ''}\n                        placeholder='Enter name'\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      label='URL'\n                      isRequired\n                      fieldId='url'\n                      validated={getFieldValidation(index, 'url')}\n                      helperTextInvalid={formik.errors[index]?.url}\n                    >\n                      <TextInput\n                        isRequired\n                        type='url'\n                        validated={getFieldValidation(index, 'url')}\n                        onBlur={() => updateArchAndVersion(index)}\n                        onChange={(value) => {\n                          if (url !== value) {\n                            updateVariable(index, { url: value });\n                          }\n                        }}\n                        value={url || ''}\n                        placeholder='https://'\n                        id='url'\n                        name='url'\n                        label='Url'\n                        ouiaId='input_url'\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      label='Restrict architecture'\n                      aria-label='restrict_to_architecture'\n                      labelIcon={\n                        <Tooltip content='Optional: Select value to restrict package architecture'>\n                          <OutlinedQuestionCircleIcon\n                            className='pf-u-ml-xs'\n                            color={global_Color_200.value}\n                          />\n                        </Tooltip>\n                      }\n                      fieldId='arch'\n                    >\n                      <DropdownSelect\n                        ouiaId='restrict_to_architecture'\n                        menuAppendTo={document.body}\n                        toggleId={'archSelection' + index}\n                        options={Object.keys(distributionArches)}\n                        variant={SelectVariant.single}\n                        selectedProp={Object.keys(distributionArches).find(\n                          (key: string) => arch === distributionArches[key],\n                        )}\n                        setSelected={(value) =>\n                          updateVariable(index, { arch: distributionArches[value] })\n                        }\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      label='Restrict OS version'\n                      aria-label='restrict_to_os_version'\n                      labelIcon={\n                        <Tooltip content='Optional: Select value to restrict package OS version'>\n                          <OutlinedQuestionCircleIcon\n                            className='pf-u-ml-xs'\n                            color={global_Color_200.value}\n                          />\n                        </Tooltip>\n                      }\n                      fieldId='version'\n                    >\n                      <DropdownSelect\n                        ouiaId='restrict_to_os_version'\n                        menuAppendTo={document.body}\n                        toggleId={'versionSelection' + index}\n                        options={Object.keys(distributionVersions)}\n                        variant={SelectVariant.typeaheadMulti}\n                        selectedProp={Object.keys(distributionVersions).filter((key: string) =>\n                          versions?.includes(distributionVersions[key]),\n                        )}\n                        placeholderText={versions?.length ? '' : 'Any version'}\n                        setSelected={(value) => setVersionSelected(value, index)}\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      label='GPG key'\n                      labelIcon={\n                        <Tooltip content='Optional: Add GPG Key file or URL'>\n                          <OutlinedQuestionCircleIcon\n                            className='pf-u-ml-xs'\n                            color={global_Color_200.value}\n                          />\n                        </Tooltip>\n                      }\n                      fieldId='gpgKey'\n                      validated={getFieldValidation(index, 'gpgKey')}\n                      helperTextInvalid={formik.errors[index]?.gpgKey}\n                    >\n                      <FileUpload\n                        className={classes.gpgKeyInput}\n                        validated={getFieldValidation(index, 'gpgKey')}\n                        id='gpgKey-uploader'\n                        aria-label='gpgkey_file_to_upload'\n                        type='text'\n                        filenamePlaceholder='Drag a file here or upload one'\n                        textAreaPlaceholder='Paste GPG key or URL here'\n                        value={gpgKeyList[index]}\n                        isLoading={gpgLoading}\n                        spellCheck={false}\n                        onDataChange={(value) => updateGpgKey(index, value)}\n                        onTextChange={(value) => updateGpgKey(index, value)}\n                        onClearClick={() => updateGpgKey(index, '')}\n                        dropzoneProps={{\n                          maxSize: maxUploadSize,\n                          onDropRejected: (files) => failedFileUpload(files, notify),\n                        }}\n                        allowEditingUploadedText\n                        browseButtonText='Upload'\n                      />\n                    </FormGroup>\n                    <Hide hide={!gpgKey}>\n                      <FormGroup fieldId='metadataVerification' label='Use GPG key for' isInline>\n                        <Radio\n                          id='package-verification-only'\n                          name='package-verification-only'\n                          label='Package verification only'\n                          isChecked={!metadataVerification}\n                          onChange={() => updateVariable(index, { metadataVerification: false })}\n                        />\n                        <ConditionalTooltip\n                          show={validationList?.[index]?.url?.metadata_signature_present === false}\n                          content=\"This repository's metadata is not signed, metadata verification is not possible.\"\n                        >\n                          <Radio\n                            id='package-and-repository-verification'\n                            name='package-and-repository-verification'\n                            label='Package and metadata verification'\n                            isChecked={metadataVerification}\n                            onChange={() => updateVariable(index, { metadataVerification: true })}\n                          />\n                        </ConditionalTooltip>\n                      </FormGroup>\n                    </Hide>\n                  </Form>\n                </Td>\n              </Tr>\n            </Tbody>\n          ),\n        )}\n      </TableComposable>\n    </Modal>\n  );\n};\n\nexport default AddContent;\n","import { Flex, FlexItem, Spinner } from '@patternfly/react-core';\nimport { FormikErrors, FormikTouched } from 'formik';\nimport { global_success_color_100, global_danger_color_100 } from '@patternfly/react-tokens';\nimport { CheckCircleIcon, ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { createUseStyles } from 'react-jss';\n\nconst red = global_danger_color_100.value;\nconst green = global_success_color_100.value;\n\nconst useStyles = createUseStyles({\n  red: { color: red, fontWeight: 'bold', fontSize: '14px' },\n  green: { color: green, fontWeight: 'bold', fontSize: '14px' },\n});\n\ninterface Props {\n  touched?: FormikTouched<{\n    name: string;\n    url: string;\n    gpgKey: string;\n    gpgLoading: boolean;\n    expanded: boolean;\n  }>;\n  errors?: FormikErrors<{\n    name: string;\n    url: string;\n    gpgKey: string;\n    gpgLoading: boolean;\n    expanded: boolean;\n  }>;\n  loading?: boolean;\n}\n\nconst ContentValidity = ({ touched, errors, loading }: Props) => {\n  const classes = useStyles();\n  const required = ['name', 'url'];\n  const allTouched = required.every((val) => touched?.[val]);\n  const noErrors = Object.values(errors || {}).every((val) => !val);\n  const hasTouchedError = Object.keys(touched || {})\n    .filter((key) => !!touched?.[key])\n    .some((key) => errors?.[key]);\n\n  switch (true) {\n    case loading:\n      return <Spinner size='md' />;\n    case allTouched && noErrors:\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <CheckCircleIcon color={green} />\n          </FlexItem>\n          <FlexItem>\n            <span className={classes.green}>Valid</span>\n          </FlexItem>\n        </Flex>\n      );\n    case hasTouchedError:\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <ExclamationCircleIcon color={red} />\n          </FlexItem>\n          <FlexItem>\n            <span className={classes.red}>Invalid</span>\n          </FlexItem>\n        </Flex>\n      );\n    default:\n      return <></>;\n  }\n};\n\nexport default ContentValidity;\n","import { isEmpty } from 'lodash';\nimport * as Yup from 'yup';\nimport { FormikErrors } from 'formik';\nimport { ValidationResponse } from '../../../../services/Content/ContentApi';\nimport { NotificationPayload } from '../../../../Hooks/useNotification';\nimport ERROR_CODE from './httpErrorCodes.json';\nimport { AlertVariant } from '@patternfly/react-core';\n\nexport interface FormikValues {\n  name: string;\n  url: string;\n  gpgKey: string;\n  arch: string;\n  versions: string[];\n  gpgLoading: boolean;\n  metadataVerification: boolean;\n  expanded: boolean;\n  snapshot: boolean;\n}\n\nexport const getDefaultFormikValues = (overrides: Partial<FormikValues> = {}): FormikValues => ({\n  name: '',\n  url: '',\n  gpgKey: '',\n  arch: 'any',\n  versions: ['any'],\n  gpgLoading: false,\n  expanded: true,\n  metadataVerification: false,\n  snapshot: false,\n  ...overrides,\n});\n\nexport const REGEX_URL =\n  /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/;\n\nexport const isValidURL = (val: string) => {\n  if (!val) return false;\n  const regex = new RegExp(REGEX_URL);\n  return val.match(regex);\n};\n\nexport const mapFormikToAPIValues = (formikValues: FormikValues[]) =>\n  formikValues.map(({ name, url, arch, versions, gpgKey, metadataVerification, snapshot }) => ({\n    name,\n    url,\n    distribution_arch: arch,\n    distribution_versions: versions,\n    gpg_key: gpgKey,\n    snapshot,\n    metadata_verification: metadataVerification,\n  }));\n\nconst mapNoMetaDataError = (validationData: ValidationResponse) =>\n  validationData.map(({ url, ...rest }) => ({\n    ...rest,\n    url: {\n      ...url,\n      error:\n        !url?.error && !url?.metadata_present\n          ? `Unable to retrieve YUM Metadata, Recieved HTTP ${url?.http_code}: ${\n              url ? ERROR_CODE[url.http_code] : ''\n            }`\n          : url?.error,\n    },\n  }));\n\nexport const mapValidationData = (\n  validationData: ValidationResponse,\n  formikErrors: FormikErrors<FormikValues | undefined>[],\n) => {\n  const updatedValidationData = mapNoMetaDataError(validationData);\n  const errors = updatedValidationData.map(({ name, url, gpg_key: gpgKey }, index: number) => ({\n    // First apply the errors found in the ValidationAPI\n    ...(name?.error ? { name: name?.error } : {}),\n    ...(url?.error ? { url: url?.error } : {}),\n    ...(gpgKey?.error ? { gpgKey: gpgKey?.error } : {}),\n    // Overwrite any errors with errors found within the UI itself\n    ...formikErrors[index],\n  }));\n\n  if (errors.every((err) => isEmpty(err))) {\n    return [];\n  }\n\n  return errors;\n};\n\nexport const makeValidationSchema = () => {\n  // This adds the uniqueProperty function to the below schema validation\n  Yup.addMethod(Yup.object, 'uniqueProperty', function (propertyName, message) {\n    return this.test('unique', message, function (value) {\n      if (!value || !value[propertyName]) {\n        return true;\n      }\n      if (\n        this.parent.filter((v) => v !== value).some((v) => v[propertyName] === value[propertyName])\n      ) {\n        throw this.createError({\n          path: `${this.path}.${propertyName}`,\n        });\n      }\n\n      return true;\n    });\n  });\n\n  return Yup.array(\n    Yup.object()\n      .shape({\n        name: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Required'),\n        url: Yup.string().url('Invalid URL').required('Required'),\n      })\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore-next-line\n      .uniqueProperty('name', 'Names must be unique')\n      .uniqueProperty('url', 'Url\\'s must be unique'),\n  );\n};\n\nexport const maxUploadSize = 32000;\nexport const failedFileUpload = (files: File[], notify: (arg: NotificationPayload) => void) => {\n  let description = 'Check the file and try again.';\n  if (files.length != 1) {\n    description = 'Only a single file upload is supported.';\n  } else if (files[0].size > maxUploadSize) {\n    description = 'The file is larger than ' + maxUploadSize + ' bytes.';\n  }\n  notify({\n    variant: AlertVariant.danger,\n    title: 'There was an problem uploading the file.',\n    description,\n  });\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport {\n  Button,\n  Chip,\n  ChipGroup,\n  Flex,\n  FlexItem,\n  InputGroup,\n  SelectVariant,\n  TextInput,\n} from '@patternfly/react-core';\nimport DropdownSelect from '../../../components/DropdownSelect/DropdownSelect';\nimport { FilterIcon, SearchIcon } from '@patternfly/react-icons';\nimport { global_BackgroundColor_100, global_secondary_color_100 } from '@patternfly/react-tokens';\nimport Hide from '../../../components/Hide/Hide';\nimport { FilterData, RepositoryParamsResponse } from '../../../services/Content/ContentApi';\nimport { useQueryClient } from 'react-query';\nimport { REPOSITORY_PARAMS_KEY } from '../../../services/Content/ContentQueries';\nimport useDebounce from '../../../Hooks/useDebounce';\nimport { createUseStyles } from 'react-jss';\nimport { isEmpty } from 'lodash';\nimport { useAppContext } from '../../../middleware/AppContext';\nimport ConditionalTooltip from '../../../components/ConditionalTooltip/ConditionalTooltip';\nimport { useNavigate } from 'react-router-dom';\nimport DeleteKebab from '../../../components/DeleteKebab/DeleteKebab';\n\ninterface Props {\n  isLoading?: boolean;\n  setFilterData: (filterData: FilterData) => void;\n  filterData: FilterData;\n  atLeastOneRepoChecked: boolean;\n  numberOfReposChecked: number;\n  deleteCheckedRepos: () => void;\n}\n\nconst useStyles = createUseStyles({\n  chipsContainer: {\n    backgroundColor: global_BackgroundColor_100.value,\n    paddingTop: '16px',\n  },\n  clearFilters: {\n    marginLeft: '16px',\n  },\n  searchInput: {\n    paddingRight: '35px',\n    marginRight: '-23px',\n  },\n  searchIcon: {\n    color: global_secondary_color_100.value,\n    position: 'relative',\n    top: '3px',\n    left: '-5px',\n    pointerEvents: 'none',\n  },\n  // Needed to fix styling when \"Add repositories\" button is disabled\n  repositoryActions: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n});\n\nconst statusValues = ['Invalid', 'Pending', 'Unavailable', 'Valid'];\nexport type Filters = 'Name/URL' | 'Version' | 'Architecture' | 'Status';\n\nconst ContentListFilters = ({\n  isLoading,\n  setFilterData,\n  filterData,\n  atLeastOneRepoChecked,\n  numberOfReposChecked,\n  deleteCheckedRepos,\n}: Props) => {\n  const classes = useStyles();\n  const { rbac } = useAppContext();\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n  const filters = ['Name/URL', 'Version', 'Architecture', 'Status'];\n  const [filterType, setFilterType] = useState<Filters>('Name/URL');\n  const [versionNamesLabels, setVersionNamesLabels] = useState({});\n  const [archNamesLabels, setArchNamesLabels] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedVersions, setSelectedVersions] = useState<string[]>([]);\n  const [selectedArches, setSelectedArches] = useState<string[]>([]);\n  const [selectedStatuses, setSelectedStatuses] = useState<string[]>([]);\n\n  const { distribution_arches = [], distribution_versions = [] } =\n    queryClient.getQueryData<RepositoryParamsResponse>(REPOSITORY_PARAMS_KEY) || {};\n\n  const clearFilters = () => {\n    setSearchQuery('');\n    setSelectedVersions([]);\n    setSelectedArches([]);\n    setSelectedStatuses([]);\n    setFilterData({ searchQuery: '', versions: [], arches: [], statuses: [] });\n  };\n\n  useEffect(() => {\n    // If the filters get cleared at the top level, sense that and clear them here.\n    if (\n      filterData.arches.length === 0 &&\n      filterData.versions.length === 0 &&\n      filterData.statuses.length === 0 &&\n      filterData.searchQuery === '' &&\n      (searchQuery !== '' ||\n        selectedArches.length !== 0 ||\n        selectedVersions.length !== 0 ||\n        selectedStatuses.length !== 0)\n    ) {\n      clearFilters();\n    }\n  }, [filterData]);\n\n  const {\n    searchQuery: debouncedSearchQuery,\n    selectedVersions: debouncedSelectedVersions,\n    selectedArches: debouncedSelectedArches,\n    selectedStatuses: debouncedSelectedStatuses,\n  } = useDebounce({\n    searchQuery,\n    selectedVersions,\n    selectedArches,\n    selectedStatuses,\n  });\n\n  const getLabels = (type: string, names: Array<string>) => {\n    const namesLabels = type === 'arch' ? distribution_arches : distribution_versions;\n\n    const labels: Array<string> = [];\n    names.forEach((name) => {\n      const found = namesLabels.find((v) => v.name === name);\n      if (found) {\n        labels.push(found.label);\n      }\n    });\n    return labels;\n  };\n\n  useEffect(() => {\n    setFilterData({\n      searchQuery: debouncedSearchQuery,\n      versions: getLabels('version', debouncedSelectedVersions),\n      arches: getLabels('arch', debouncedSelectedArches),\n      statuses: debouncedSelectedStatuses,\n    });\n  }, [\n    debouncedSearchQuery,\n    debouncedSelectedVersions,\n    debouncedSelectedArches,\n    debouncedSelectedStatuses,\n  ]);\n\n  const deleteItem = (id: string, chips, setChips) => {\n    const copyOfChips = [...chips];\n    const filteredCopy = copyOfChips.filter((chip) => chip !== id);\n    setChips(filteredCopy);\n  };\n\n  useEffect(() => {\n    if (\n      isEmpty(versionNamesLabels) &&\n      isEmpty(archNamesLabels) &&\n      distribution_arches.length !== 0 &&\n      distribution_versions.length !== 0\n    ) {\n      const arches = {};\n      const versions = {};\n      distribution_arches.forEach((arch) => (arches[arch.name] = arch.label));\n      distribution_versions.forEach((version) => (versions[version.name] = version.label));\n      setVersionNamesLabels(versions);\n      setArchNamesLabels(arches);\n    }\n  }, [distribution_arches, distribution_versions]);\n\n  const Filter = useMemo(() => {\n    switch (filterType) {\n      case 'Name/URL':\n        return (\n          <Flex>\n            <TextInput\n              isDisabled={isLoading}\n              id='search'\n              ouiaId='filter_search'\n              placeholder='Filter by name/url'\n              value={searchQuery}\n              onChange={(value) => setSearchQuery(value)}\n              className={classes.searchInput}\n            />\n            <SearchIcon size='sm' className={classes.searchIcon} />\n          </Flex>\n        );\n      case 'Version':\n        return (\n          <DropdownSelect\n            toggleAriaLabel='filter version'\n            toggleId='versionSelect'\n            ouiaId='filter_version'\n            isDisabled={isLoading}\n            options={Object.keys(versionNamesLabels)}\n            variant={SelectVariant.checkbox}\n            selectedProp={selectedVersions}\n            setSelected={setSelectedVersions}\n            placeholderText='Filter by version'\n          />\n        );\n      case 'Architecture':\n        return (\n          <DropdownSelect\n            toggleAriaLabel='filter architecture'\n            toggleId='archSelect'\n            ouiaId='filter_arch'\n            isDisabled={isLoading}\n            options={Object.keys(archNamesLabels)}\n            variant={SelectVariant.checkbox}\n            selectedProp={selectedArches}\n            setSelected={setSelectedArches}\n            placeholderText='Filter by architecture'\n          />\n        );\n      case 'Status':\n        return (\n          <DropdownSelect\n            toggleAriaLabel='filter status'\n            toggleId='statusSelect'\n            ouiaId='filter_status'\n            isDisabled={isLoading}\n            options={statusValues}\n            variant={SelectVariant.checkbox}\n            selectedProp={selectedStatuses}\n            setSelected={setSelectedStatuses}\n            placeholderText='Filter by status'\n          />\n        );\n      default:\n        return <></>;\n    }\n  }, [\n    filterType,\n    isLoading,\n    searchQuery,\n    versionNamesLabels,\n    selectedVersions,\n    archNamesLabels,\n    selectedArches,\n    selectedStatuses,\n  ]);\n\n  return (\n    <Flex>\n      <FlexItem>\n        <InputGroup>\n          <FlexItem>\n            <DropdownSelect\n              toggleId='filterSelectionDropdown'\n              ouiaId='filter_type'\n              isDisabled={isLoading}\n              options={filters}\n              variant={SelectVariant.single}\n              selectedProp={filterType}\n              setSelected={setFilterType}\n              placeholderText='filter'\n              toggleIcon={<FilterIcon />}\n            />\n          </FlexItem>\n          <FlexItem>{Filter}</FlexItem>\n        </InputGroup>\n      </FlexItem>\n      <FlexItem className={classes.repositoryActions}>\n        <ConditionalTooltip\n          content='You do not have the required permissions to perform this action.'\n          show={!rbac?.write}\n          setDisabled\n        >\n          <Button\n            id='createContentSourceButton'\n            ouiaId='create_content_source'\n            variant='primary'\n            isDisabled={isLoading}\n            onClick={() => navigate('add-repository')}\n          >\n            Add repositories\n          </Button>\n        </ConditionalTooltip>\n        <ConditionalTooltip\n          content='You do not have the required permissions to perform this action.'\n          show={!rbac?.write}\n          setDisabled\n        >\n          <DeleteKebab\n            atLeastOneRepoChecked={atLeastOneRepoChecked}\n            numberOfReposChecked={numberOfReposChecked}\n            deleteCheckedRepos={deleteCheckedRepos}\n          />\n        </ConditionalTooltip>\n      </FlexItem>\n      <Hide\n        hide={\n          !(\n            selectedVersions.length ||\n            selectedArches.length ||\n            selectedStatuses.length ||\n            searchQuery != ''\n          )\n        }\n      >\n        <FlexItem fullWidth={{ default: 'fullWidth' }} className={classes.chipsContainer}>\n          <ChipGroup categoryName='Version'>\n            {selectedVersions.map((version) => (\n              <Chip\n                key={version}\n                onClick={() => deleteItem(version, selectedVersions, setSelectedVersions)}\n              >\n                {version}\n              </Chip>\n            ))}\n          </ChipGroup>\n          <ChipGroup categoryName='Architecture'>\n            {selectedArches.map((arch) => (\n              <Chip key={arch} onClick={() => deleteItem(arch, selectedArches, setSelectedArches)}>\n                {arch}\n              </Chip>\n            ))}\n          </ChipGroup>\n          <ChipGroup categoryName='Status'>\n            {selectedStatuses.map((status) => (\n              <Chip\n                key={status}\n                onClick={() => deleteItem(status, selectedStatuses, setSelectedStatuses)}\n              >\n                {status}\n              </Chip>\n            ))}\n          </ChipGroup>\n          {searchQuery !== '' && (\n            <ChipGroup categoryName='Name/URL'>\n              <Chip key='search_chip' onClick={() => setSearchQuery('')}>\n                {searchQuery}\n              </Chip>\n            </ChipGroup>\n          )}\n          {((debouncedSearchQuery !== '' && searchQuery !== '') ||\n            !!selectedVersions?.length ||\n            !!selectedArches?.length ||\n            !!selectedStatuses?.length) && (\n            <Button className={classes.clearFilters} onClick={clearFilters} variant='link' isInline>\n              Clear filters\n            </Button>\n          )}\n        </FlexItem>\n      </Hide>\n    </Flex>\n  );\n};\n\nexport default ContentListFilters;\n","import {\n  Alert,\n  FileUpload,\n  Form,\n  FormGroup,\n  Radio,\n  SelectVariant,\n  TextInput,\n  Switch,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { CheckCircleIcon, OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport { TableComposable, Tbody, Td, Tr } from '@patternfly/react-table';\nimport {\n  global_Color_200,\n  global_success_color_100,\n  global_link_Color,\n} from '@patternfly/react-tokens';\nimport { useFormik } from 'formik';\nimport { useEffect, useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport Hide from '../../../../components/Hide/Hide';\nimport useDebounce from '../../../../Hooks/useDebounce';\nimport {\n  REPOSITORY_PARAMS_KEY,\n  useFetchGpgKey,\n  useValidateContentList,\n} from '../../../../services/Content/ContentQueries';\nimport {\n  ContentItem,\n  EditContentRequest,\n  RepositoryParamsResponse,\n} from '../../../../services/Content/ContentApi';\nimport DropdownSelect from '../../../../components/DropdownSelect/DropdownSelect';\nimport { useQueryClient } from 'react-query';\nimport {\n  failedFileUpload,\n  isValidURL,\n  makeValidationSchema,\n  mapValidationData,\n  maxUploadSize,\n} from '../AddContent/helpers';\nimport ContentValidity from '../AddContent/components/ContentValidity';\nimport { FormikEditValues, mapFormikToEditAPIValues, mapToDefaultFormikValues } from './helpers';\nimport { isEmpty, isEqual } from 'lodash';\nimport ConditionalTooltip from '../../../../components/ConditionalTooltip/ConditionalTooltip';\nimport useNotification from '../../../../Hooks/useNotification';\nimport useDeepCompareEffect from '../../../../Hooks/useDeepCompareEffect';\nimport { useAppContext } from '../../../../middleware/AppContext';\n\nconst green = global_success_color_100.value;\n\nconst useStyles = createUseStyles({\n  description: {\n    paddingTop: '12px', // 4px on the title bottom padding makes this the \"standard\" 16 total padding\n    color: global_Color_200.value,\n  },\n  removeSideBorder: {\n    '&:after': {\n      borderLeft: 'none!important',\n    },\n  },\n  toggleAllRow: {\n    composes: ['$removeSideBorder'],\n    cursor: 'pointer',\n    borderBottom: 'none!important',\n    '& td': {\n      color: global_link_Color.value + '!important',\n      padding: '12px 0!important',\n    },\n    '& svg': {\n      fill: global_link_Color.value + '!important',\n      padding: '',\n    },\n  },\n  colHeader: {\n    '& td': {\n      '&:not(:last-child)': { cursor: 'pointer' },\n      padding: '12px 0!important',\n    },\n  },\n  mainContentCol: {\n    composes: ['$removeSideBorder'],\n    padding: '16px 0px 16px 36px!important',\n  },\n  toggleAction: {\n    composes: ['$removeSideBorder'],\n    '& button': {\n      padding: '8px',\n    },\n  },\n  saveButton: {\n    marginRight: '36px',\n    transition: 'unset!important',\n  },\n  singleContentCol: {\n    padding: '8px 0px 0px !important',\n  },\n  gpgKeyInput: {\n    '& .pf-c-form-control': {\n      backgroundPositionX: 'calc(100% - 1.3em)',\n    },\n  },\n});\nexport interface EditContentProps {\n  values: ContentItem[];\n  setIsLoading: (bool: boolean) => void;\n  setUpdatedValues: (values: EditContentRequest) => void;\n  setIsValid: (bool: boolean) => void;\n}\n\nconst EditContentForm = ({\n  setIsValid,\n  values,\n  setIsLoading,\n  setUpdatedValues,\n}: EditContentProps) => {\n  const initialValues = mapToDefaultFormikValues(values);\n  const [changeVerified, setChangeVerified] = useState(false);\n  const [gpgKeyList, setGpgKeyList] = useState<Array<string>>(\n    initialValues.map(({ gpgKey }) => gpgKey),\n  );\n  const classes = useStyles();\n  const queryClient = useQueryClient();\n  const { features } = useAppContext();\n  const snapshottingEnabled = useMemo(\n    () => !!features?.snapshots?.enabled && !!features?.snapshots?.accessible,\n    [!!features?.snapshots?.enabled],\n  );\n\n  const formik = useFormik({\n    initialValues: initialValues,\n    validateOnBlur: false,\n    validateOnChange: false,\n    validationSchema: makeValidationSchema(),\n    initialTouched: values.map(() => ({ name: true, url: true })),\n    onSubmit: () => undefined,\n  });\n\n  const updateGpgKey = (index: number, value: string) => {\n    setChangeVerified(false);\n    const updatedData: Array<string> = [...gpgKeyList];\n    updatedData[index] = value;\n    setGpgKeyList(updatedData);\n  };\n  const { fetchGpgKey, isLoading: isFetchingGpgKey } = useFetchGpgKey();\n\n  const debouncedGpgKeyList = useDebounce(gpgKeyList, 300);\n\n  const updateGpgKeyList = async (list: Array<string>) => {\n    const updatedData = await Promise.all(\n      [...formik.values].map(async (values, index) => {\n        const updateValue = list[index];\n        if (isValidURL(updateValue)) {\n          const result = await fetchGpgKey(updateValue);\n          // If successful\n          if (result !== updateValue) {\n            updateGpgKey(index, result);\n            return {\n              ...values,\n              gpgKey: result,\n              ...(values.gpgKey === '' && !!updateValue\n                ? {\n                    metadataVerification:\n                      !!validationList?.[index]?.url?.metadata_signature_present,\n                  }\n                : {}),\n            };\n          }\n        }\n\n        return {\n          ...values,\n          gpgKey: updateValue,\n          ...(values.gpgKey === '' && !!updateValue\n            ? {\n                metadataVerification: !!validationList?.[index]?.url?.metadata_signature_present,\n              }\n            : {}),\n        };\n      }),\n    );\n\n    formik.setValues(updatedData);\n  };\n\n  const { distribution_arches: distArches = [], distribution_versions: distVersions = [] } =\n    queryClient.getQueryData<RepositoryParamsResponse>(REPOSITORY_PARAMS_KEY) || {};\n\n  useEffect(() => {\n    updateGpgKeyList(debouncedGpgKeyList);\n  }, [debouncedGpgKeyList]);\n\n  const { distributionArches, distributionVersions } = useMemo(() => {\n    const distributionArches = {};\n    const distributionVersions = {};\n    distArches.forEach(({ name, label }) => (distributionArches[name] = label));\n    distVersions.forEach(({ name, label }) => (distributionVersions[name] = label));\n    return { distributionArches, distributionVersions };\n  }, [distArches, distVersions]);\n\n  const createDataLengthOf1 = formik.values.length === 1;\n\n  const allExpanded = !formik.values.some(({ expanded }) => !expanded);\n\n  const expandAllToggle = () => {\n    formik.setValues([...formik.values.map((vals) => ({ ...vals, expanded: !allExpanded }))]);\n  };\n\n  const updateVariable = (index: number, newValue) => {\n    setChangeVerified(false);\n    const updatedData = [...formik.values];\n    updatedData[index] = { ...updatedData[index], ...newValue };\n    formik.setValues(updatedData);\n  };\n\n  const getFieldValidation = (\n    index: number,\n    field: keyof FormikEditValues,\n  ): 'default' | 'success' | 'error' => {\n    const hasNotChanged = isEqual(initialValues[index]?.[field], formik.values[index]?.[field]);\n    const errors = !!formik.errors[index]?.[field];\n    switch (true) {\n      case errors:\n        return 'error';\n      case hasNotChanged:\n        return 'default';\n      case !hasNotChanged:\n        return 'success';\n      default:\n        return 'default';\n    }\n  };\n\n  const debouncedValues = useDebounce(formik.values);\n\n  const {\n    mutateAsync: validateContentList,\n    data: validationList,\n    isLoading: isValidating,\n  } = useValidateContentList();\n\n  useDeepCompareEffect(() => {\n    validateContentList(\n      debouncedValues.map(({ name, url, gpgKey, metadataVerification, uuid }) => ({\n        name,\n        url,\n        gpg_key: gpgKey,\n        metadata_verification: metadataVerification,\n        uuid,\n      })),\n    ).then(async (validationData) => {\n      const formikErrors = await formik.validateForm(debouncedValues);\n      const mappedErrorData = mapValidationData(validationData, formikErrors);\n      formik.setErrors(mappedErrorData);\n      setChangeVerified(true);\n    });\n  }, [debouncedValues, values, open]);\n\n  const onToggle = (index: number) => {\n    if (formik.values[index]?.expanded) {\n      updateVariable(index, { ...formik.values[index], expanded: false });\n    } else updateVariable(index, { ...formik.values[index], expanded: true });\n  };\n\n  const updateArchAndVersion = (index: number) => {\n    const url = formik.values[index]?.url;\n    if (\n      isValidURL(url) &&\n      (formik.values[index]?.arch === 'any' || formik.values[index].versions[0] === 'any')\n    ) {\n      const arch =\n        (formik.values[index]?.arch !== 'any' && formik.values[index]?.arch) ||\n        distArches.find(({ name, label }) => url.includes(name) || url.includes(label))?.label ||\n        'any';\n\n      let versions: Array<string> = [];\n      if (formik.values[index]?.versions?.length && formik.values[index].versions[0] !== 'any') {\n        versions = formik.values[index]?.versions;\n      } else {\n        const newVersion = distVersions.find(\n          ({ name, label }) => url.includes(name) || url.includes('/' + label),\n        )?.label;\n        if (newVersion) versions = [newVersion];\n        if (isEmpty(versions)) versions = ['any'];\n      }\n      if (formik.values[index]?.arch !== arch && !isEqual(versions, formik.values[index]?.arch)) {\n        const updatedData = [...formik.values];\n        updatedData[index] = { ...updatedData[index], ...{ arch, versions } };\n        formik.setValues(updatedData);\n      }\n    }\n  };\n\n  const urlOnBlur = (index: number) => {\n    updateArchAndVersion(index);\n  };\n\n  const setVersionSelected = (value: string[], index: number) => {\n    let valueToUpdate = value.map((val) => distributionVersions[val]);\n    if (value.length === 0 || valueToUpdate[value.length - 1] === 'any') {\n      valueToUpdate = ['any'];\n    }\n    if (valueToUpdate.length > 1 && valueToUpdate.includes('any')) {\n      valueToUpdate = valueToUpdate.filter((val) => val !== 'any');\n    }\n\n    updateVariable(index, {\n      versions: valueToUpdate,\n    });\n  };\n\n  const { notify } = useNotification();\n\n  // Tell the parent modal that things are happening\n  const actionTakingPlace = isFetchingGpgKey || isValidating || !changeVerified;\n\n  useEffect(() => {\n    setIsLoading(actionTakingPlace);\n    setIsValid(formik.isValid);\n  }, [actionTakingPlace, formik.isValid]);\n\n  useEffect(() => {\n    setUpdatedValues(mapFormikToEditAPIValues(formik.values));\n  }, [formik.values]);\n\n  return (\n    <TableComposable aria-label='Table for edit modal' ouiaId='edit_modal_table'>\n      <Hide hide={createDataLengthOf1}>\n        <Tbody isExpanded={allExpanded}>\n          <Tr onClick={expandAllToggle} className={classes.toggleAllRow}>\n            <Td\n              className={classes.toggleAction}\n              isActionCell\n              expand={{\n                rowIndex: 0,\n                isExpanded: allExpanded,\n              }}\n            />\n            <Td dataLabel='expand-collapse'>{allExpanded ? 'Collapse all' : 'Expand all'}</Td>\n          </Tr>\n        </Tbody>\n      </Hide>\n      {formik.values.map(\n        (\n          {\n            expanded,\n            name,\n            url,\n            arch,\n            gpgKey,\n            versions,\n            gpgLoading,\n            metadataVerification,\n            snapshot,\n          },\n          index,\n        ) => (\n          <Tbody key={index} isExpanded={createDataLengthOf1 ? undefined : expanded}>\n            <Hide hide={createDataLengthOf1}>\n              <Tr className={classes.colHeader}>\n                <Td\n                  onClick={() => onToggle(index)}\n                  className={classes.toggleAction}\n                  isActionCell\n                  expand={{\n                    rowIndex: index,\n                    isExpanded: expanded,\n                  }}\n                />\n                <Td width={35} onClick={() => onToggle(index)} dataLabel={name}>\n                  {name || 'New content'}\n                </Td>\n                <Td onClick={() => onToggle(index)} dataLabel='validity'>\n                  <ContentValidity touched={formik.touched[index]} errors={formik.errors[index]} />\n                </Td>\n              </Tr>\n            </Hide>\n            <Tr isExpanded={createDataLengthOf1 ? undefined : expanded}>\n              <Td\n                colSpan={4}\n                className={createDataLengthOf1 ? classes.singleContentCol : classes.mainContentCol}\n              >\n                <Form>\n                  <Hide hide={!snapshottingEnabled}>\n                    <FormGroup fieldId='snapshot'>\n                      <Switch\n                        id='snapshot-switch'\n                        hasCheckIcon\n                        label='Snapshot creation enabled'\n                        labelOff='Snapshot creation disabled'\n                        isChecked={snapshot}\n                        onChange={() => {\n                          updateVariable(index, { snapshot: !snapshot });\n                        }}\n                      />\n                      <Tooltip content='Automatically create daily snapshots of this repository.'>\n                        <OutlinedQuestionCircleIcon\n                          className='pf-u-ml-xs'\n                          color={global_Color_200.value}\n                        />\n                      </Tooltip>\n                      <Hide hide={snapshot}>\n                        <Alert\n                          variant='warning'\n                          style={{ paddingTop: '10px' }}\n                          title='Disabling snapshots may result in a higher risk of losing content or unintentionally modifying it irreversibly.'\n                          isInline\n                          isPlain\n                        />\n                      </Hide>\n                    </FormGroup>\n                  </Hide>\n                  <FormGroup\n                    label='Name'\n                    isRequired\n                    fieldId='namegroup'\n                    validated={getFieldValidation(index, 'name')}\n                    helperTextInvalid={formik.errors[index]?.name}\n                  >\n                    <TextInput\n                      isRequired\n                      id='name'\n                      name='name'\n                      label='Name'\n                      ouiaId='input_name'\n                      type='text'\n                      validated={getFieldValidation(index, 'name')}\n                      onChange={(value) => {\n                        updateVariable(index, { name: value });\n                      }}\n                      value={name || ''}\n                      placeholder='Enter name'\n                    />\n                  </FormGroup>\n                  <FormGroup\n                    label='URL'\n                    isRequired\n                    fieldId='url'\n                    validated={getFieldValidation(index, 'url')}\n                    helperTextInvalid={formik.errors[index]?.url}\n                  >\n                    <TextInput\n                      isRequired\n                      type='url'\n                      validated={getFieldValidation(index, 'url')}\n                      onBlur={() => urlOnBlur(index)}\n                      onChange={(value) => {\n                        if (url !== value) {\n                          updateVariable(index, { url: value });\n                        }\n                      }}\n                      value={url || ''}\n                      placeholder='https://'\n                      id='url'\n                      name='url'\n                      label='Url'\n                      ouiaId='input_url'\n                    />\n                  </FormGroup>\n                  <FormGroup\n                    label='Restrict architecture'\n                    aria-label='restrict_to_architecture'\n                    labelIcon={\n                      <Tooltip content='Optional: Select value to restrict package architecture'>\n                        <OutlinedQuestionCircleIcon\n                          className='pf-u-ml-xs'\n                          color={global_Color_200.value}\n                        />\n                      </Tooltip>\n                    }\n                    fieldId='arch'\n                  >\n                    <DropdownSelect\n                      ouiaId='restrict_to_architecture'\n                      validated={getFieldValidation(index, 'arch')}\n                      menuAppendTo={document.body}\n                      toggleId={'archSelection' + index}\n                      options={Object.keys(distributionArches)}\n                      variant={SelectVariant.single}\n                      selectedProp={Object.keys(distributionArches).find(\n                        (key: string) => arch === distributionArches[key],\n                      )}\n                      setSelected={(value) =>\n                        updateVariable(index, { arch: distributionArches[value] })\n                      }\n                    />\n                  </FormGroup>\n                  <FormGroup\n                    label='Restrict OS version'\n                    aria-label='restrict_to_os_version'\n                    labelIcon={\n                      <Tooltip content='Optional: Select value to restrict package OS version'>\n                        <OutlinedQuestionCircleIcon\n                          className='pf-u-ml-xs'\n                          color={global_Color_200.value}\n                        />\n                      </Tooltip>\n                    }\n                    fieldId='version'\n                  >\n                    <DropdownSelect\n                      ouiaId='restrict_to_os_version'\n                      validated={getFieldValidation(index, 'versions')}\n                      menuAppendTo={document.body}\n                      toggleId={'versionSelection' + index}\n                      options={Object.keys(distributionVersions)}\n                      variant={SelectVariant.typeaheadMulti}\n                      selectedProp={Object.keys(distributionVersions).filter((key: string) =>\n                        versions?.includes(distributionVersions[key]),\n                      )}\n                      placeholderText={versions?.length ? '' : 'Any version'}\n                      setSelected={(value) => setVersionSelected(value, index)}\n                    />\n                  </FormGroup>\n                  <FormGroup\n                    label='GPG key'\n                    labelIcon={\n                      <Tooltip content='Optional: Add GPG Key file or URL'>\n                        <OutlinedQuestionCircleIcon\n                          className='pf-u-ml-xs'\n                          color={global_Color_200.value}\n                        />\n                      </Tooltip>\n                    }\n                    fieldId='gpgKey'\n                    validated={getFieldValidation(index, 'gpgKey')}\n                    helperTextInvalid={formik.errors[index]?.gpgKey}\n                  >\n                    <FileUpload\n                      className={classes.gpgKeyInput}\n                      validated={getFieldValidation(index, 'gpgKey')}\n                      id='gpgKey-uploader'\n                      aria-label='gpgkey_file_to_upload'\n                      type='text'\n                      filenamePlaceholder='Drag a file here or upload one'\n                      textAreaPlaceholder='Paste GPG key or URL here'\n                      value={gpgKeyList[index]}\n                      isLoading={gpgLoading}\n                      spellCheck={false}\n                      onDataChange={(value) => updateGpgKey(index, value)}\n                      onTextChange={(value) => updateGpgKey(index, value)}\n                      onClearClick={() => updateGpgKey(index, '')}\n                      dropzoneProps={{\n                        maxSize: maxUploadSize,\n                        onDropRejected: (files) => failedFileUpload(files, notify),\n                      }}\n                      allowEditingUploadedText\n                      browseButtonText='Upload'\n                    />\n                  </FormGroup>\n                  <Hide hide={!gpgKey}>\n                    <FormGroup fieldId='metadataVerification' label='Use GPG key for' isInline>\n                      <Radio\n                        id='package verification only'\n                        name='package-verification-only'\n                        label='Package verification only'\n                        isChecked={!metadataVerification}\n                        onChange={() => updateVariable(index, { metadataVerification: false })}\n                      />\n                      <ConditionalTooltip\n                        show={validationList?.[index]?.url?.metadata_signature_present === false}\n                        content=\"This repository's metadata is not signed, metadata verification is not possible.\"\n                      >\n                        <Radio\n                          id='Package and metadata verification'\n                          name='package-and-repository-verification'\n                          label='Package and metadata verification'\n                          isChecked={metadataVerification}\n                          onChange={() => updateVariable(index, { metadataVerification: true })}\n                        />\n                      </ConditionalTooltip>\n                      <Hide hide={getFieldValidation(index, 'metadataVerification') !== 'success'}>\n                        <CheckCircleIcon noVerticalAlign color={green} />\n                      </Hide>\n                    </FormGroup>\n                  </Hide>\n                </Form>\n              </Td>\n            </Tr>\n          </Tbody>\n        ),\n      )}\n    </TableComposable>\n  );\n};\n\nexport default EditContentForm;\n","import {\n  Bullseye,\n  Button,\n  Modal,\n  ModalVariant,\n  Popover,\n  Spinner,\n  Stack,\n  StackItem,\n} from '@patternfly/react-core';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport { global_Color_200 } from '@patternfly/react-tokens';\nimport { useEffect, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport Hide from '../../../../components/Hide/Hide';\nimport {\n  CONTENT_ITEM_KEY,\n  useEditContentQuery,\n  useFetchContent,\n} from '../../../../services/Content/ContentQueries';\nimport { useQueryClient } from 'react-query';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport EditContentForm from './EditContentForm';\nimport { EditContentRequest } from '../../../../services/Content/ContentApi';\nimport { isEqual } from 'lodash';\nimport { mapToContentItemsToEditContentRequest } from './helpers';\nimport { useContentListOutletContext } from '../../ContentListTable';\nimport useRootPath from '../../../../Hooks/useRootPath';\n\nconst useStyles = createUseStyles({\n  description: {\n    paddingTop: '12px', // 4px on the title bottom padding makes this the \"standard\" 16 total padding\n    color: global_Color_200.value,\n  },\n  saveButton: {\n    marginRight: '36px',\n    transition: 'unset!important',\n  },\n});\n\nconst EditContentModal = () => {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const rootPath = useRootPath();\n  const queryClient = useQueryClient();\n  const { search } = useLocation();\n  const [initialLoad, setInitialLoad] = useState(true);\n  const [updatedValues, setUpdatedValues] = useState<EditContentRequest>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isValid, setIsValid] = useState(false);\n  const { clearCheckedRepositories } = useContentListOutletContext();\n\n  const uuids = new URLSearchParams(search).get('repoUUIDS')?.split(',') || [];\n\n  const { mutateAsync: editContent, isLoading: isEditing } = useEditContentQuery(\n    queryClient,\n    updatedValues,\n  );\n\n  const onClose = () => navigate(rootPath);\n  const onSave = async () =>\n    editContent().then(() => {\n      onClose();\n      clearCheckedRepositories();\n      queryClient.invalidateQueries(CONTENT_ITEM_KEY);\n    });\n\n  const { data, isError } = useFetchContent(uuids);\n  const values = data ? [data] : [];\n\n  useEffect(() => {\n    if (data) {\n      setUpdatedValues(values); // This has to happen above the initial Load being set\n    }\n    if (isError) {\n      onClose();\n    }\n  }, [isError, !!data]);\n\n  useEffect(() => {\n    if (values.length) {\n      setInitialLoad(false);\n    }\n  }, [values]);\n\n  const valuesHaveChanged = !isEqual(mapToContentItemsToEditContentRequest(values), updatedValues);\n  const actionTakingPlace = isEditing || isLoading || initialLoad;\n\n  return (\n    <Modal\n      position='top'\n      variant={ModalVariant.medium}\n      title='Edit custom repository'\n      ouiaId='edit_custom_repository'\n      ouiaSafe={!actionTakingPlace}\n      help={\n        <Popover\n          headerContent={<div>Edit custom repository</div>}\n          bodyContent={<div>Use this form to edit the values of an existing repository.</div>}\n        >\n          <Button variant='plain' aria-label='Help'>\n            <OutlinedQuestionCircleIcon />\n          </Button>\n        </Popover>\n      }\n      description={\n        <p className={classes.description}>\n          Edit by completing the form. Default values may be provided automatically.\n        </p>\n      }\n      isOpen\n      onClose={onClose}\n      footer={\n        <Stack>\n          <StackItem>\n            <Button\n              className={classes.saveButton}\n              key='confirm'\n              ouiaId='edit_modal_save'\n              variant='primary'\n              isLoading={actionTakingPlace}\n              isDisabled={actionTakingPlace || !valuesHaveChanged || !isValid}\n              onClick={onSave}\n            >\n              {valuesHaveChanged ? 'Save changes' : 'No changes'}\n            </Button>\n            <Button key='cancel' variant='link' onClick={onClose} ouiaId='edit_modal_cancel'>\n              Cancel\n            </Button>\n          </StackItem>\n        </Stack>\n      }\n    >\n      <Hide hide={!initialLoad}>\n        <Bullseye>\n          <Spinner />\n        </Bullseye>\n      </Hide>\n      <Hide hide={initialLoad}>\n        <EditContentForm\n          setIsValid={setIsValid}\n          values={values}\n          setIsLoading={setIsLoading}\n          setUpdatedValues={setUpdatedValues}\n        />\n      </Hide>\n    </Modal>\n  );\n};\n\nexport default EditContentModal;\n","import { ContentItem, EditContentRequest } from '../../../../services/Content/ContentApi';\n\nexport interface FormikEditValues {\n  name: string;\n  url: string;\n  gpgKey: string;\n  metadataVerification: boolean;\n  arch: string;\n  versions: string[];\n  gpgLoading: boolean;\n  expanded: boolean;\n  uuid: string;\n  snapshot: boolean;\n}\n\nexport const mapFormikToEditAPIValues = (formikValues: FormikEditValues[]): EditContentRequest =>\n  formikValues.map(\n    ({ name, url, arch, versions, gpgKey, metadataVerification, uuid, snapshot }) => ({\n      uuid,\n      name,\n      url,\n      distribution_arch: arch,\n      distribution_versions: versions,\n      gpg_key: gpgKey,\n      metadata_verification: metadataVerification,\n      snapshot,\n    }),\n  );\n\nexport const mapToDefaultFormikValues = (values: ContentItem[]): FormikEditValues[] =>\n  values.map(\n    (\n      {\n        name,\n        url,\n        distribution_arch: arch,\n        distribution_versions: versions,\n        uuid,\n        gpg_key: gpgKey,\n        metadata_verification: metadataVerification,\n        snapshot,\n      },\n      index,\n    ) => ({\n      name,\n      url,\n      arch,\n      versions,\n      gpgKey,\n      gpgLoading: false,\n      metadataVerification,\n      expanded: index + 1 === values.length,\n      uuid,\n      snapshot,\n    }),\n  );\n\nexport const mapToContentItemsToEditContentRequest = (values: ContentItem[]): EditContentRequest =>\n  mapFormikToEditAPIValues(mapToDefaultFormikValues(values));\n","import { Button, Text, Tooltip } from '@patternfly/react-core';\nimport { createUseStyles } from 'react-jss';\nimport { global_disabled_color_100 } from '@patternfly/react-tokens';\nimport { useNavigate } from 'react-router-dom';\n\nimport { ContentItem } from '../../../services/Content/ContentApi';\n\nconst useStyles = createUseStyles({\n  text: {\n    color: global_disabled_color_100.value,\n    width: 'fit-content',\n  },\n  link: {\n    padding: 0,\n  },\n});\n\ninterface Props {\n  rowData: ContentItem;\n}\n\nconst PackageCount = ({ rowData }: Props) => {\n  const classes = useStyles();\n  const navigate = useNavigate();\n\n  if (!rowData.package_count && rowData.status === 'Pending') {\n    return (\n      <Tooltip isContentLeftAligned content='Introspection is in progress'>\n        <Text className={classes.text}>N/A</Text>\n      </Tooltip>\n    );\n  }\n\n  if (rowData.status === 'Invalid') {\n    return (\n      <Tooltip isContentLeftAligned content='Repository is invalid.'>\n        <Text className={classes.text}>N/A</Text>\n      </Tooltip>\n    );\n  }\n\n  return (\n    <Button\n      ouiaId='package_count_button'\n      variant='link'\n      className={classes.link}\n      onClick={() => navigate(`${rowData.uuid}/packages`)}\n    >\n      {rowData.package_count}\n    </Button>\n  );\n};\n\nexport default PackageCount;\n","import {\n  Button,\n  Flex,\n  FlexItem,\n  Grid,\n  Modal,\n  ModalVariant,\n  OnPerPageSelect,\n  OnSetPage,\n  Pagination,\n  PaginationVariant,\n  TextInput,\n} from '@patternfly/react-core';\nimport {\n  InnerScrollContainer,\n  TableComposable,\n  TableVariant,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  ThProps,\n  Tr,\n} from '@patternfly/react-table';\nimport {\n  global_BackgroundColor_100,\n  global_secondary_color_100,\n  global_Color_200,\n} from '@patternfly/react-tokens';\nimport { useEffect, useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { SkeletonTable } from '@redhat-cloud-services/frontend-components';\nimport Hide from '../../../../components/Hide/Hide';\nimport { PackageItem } from '../../../../services/Content/ContentApi';\nimport { useGetPackagesQuery } from '../../../../services/Content/ContentQueries';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport useDebounce from '../../../../Hooks/useDebounce';\nimport EmptyPackageState from './components/EmptyPackageState';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport useRootPath from '../../../../Hooks/useRootPath';\n\nconst useStyles = createUseStyles({\n  description: {\n    paddingTop: '12px', // 4px on the title bottom padding makes this the \"standard\" 16 total padding\n    paddingBottom: '8px',\n    color: global_Color_200.value,\n  },\n  mainContainer: {\n    backgroundColor: global_BackgroundColor_100.value,\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  topContainer: {\n    justifyContent: 'space-between',\n    padding: '16px 24px',\n    height: 'fit-content',\n  },\n  bottomContainer: {\n    justifyContent: 'space-between',\n    height: 'fit-content',\n  },\n  searchInput: {\n    paddingRight: '35px',\n    marginRight: '-23px',\n  },\n  searchIcon: {\n    color: global_secondary_color_100.value,\n    position: 'relative',\n    top: '3px',\n    left: '-5px',\n    pointerEvents: 'none',\n  },\n});\n\nconst perPageKey = 'packagePerPage';\n\nexport default function PackageModal() {\n  const classes = useStyles();\n  const { repoUUID: uuid } = useParams();\n  const rootPath = useRootPath();\n  const navigate = useNavigate();\n  const storedPerPage = Number(localStorage.getItem(perPageKey)) || 20;\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(storedPerPage);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeSortIndex, setActiveSortIndex] = useState<number>(0);\n  const [activeSortDirection, setActiveSortDirection] = useState<'asc' | 'desc'>('asc');\n\n  const columnHeaders = ['Name', 'Version', 'Release', 'Arch'];\n\n  const columnSortAttributes = ['name', 'version', 'release', 'arch'];\n\n  const sortString = useMemo(\n    () => columnSortAttributes[activeSortIndex] + ':' + activeSortDirection,\n    [activeSortIndex, activeSortDirection],\n  );\n\n  const debouncedSearchQuery = useDebounce(searchQuery);\n\n  useEffect(() => {\n    setPage(1);\n  }, [debouncedSearchQuery, sortString]);\n\n  const {\n    isLoading,\n    isFetching,\n    isError,\n    data = { data: [], meta: { count: 0, limit: 20, offset: 0 } },\n  } = useGetPackagesQuery(uuid as string, page, perPage, debouncedSearchQuery, sortString);\n\n  useEffect(() => {\n    if (isError) {\n      onClose();\n    }\n  }, [isError]);\n\n  const onSetPage: OnSetPage = (_, newPage) => setPage(newPage);\n\n  const onPerPageSelect: OnPerPageSelect = (_, newPerPage, newPage) => {\n    // Save this value through page refresh for use on next reload\n\n    setPerPage(newPerPage);\n    setPage(newPage);\n    localStorage.setItem(perPageKey, newPerPage.toString());\n  };\n\n  const sortParams = (columnIndex: number, isDisabled: boolean): ThProps['sort'] | undefined => {\n    if (isDisabled) return;\n    return {\n      sortBy: {\n        index: activeSortIndex,\n        direction: activeSortDirection,\n        defaultDirection: 'asc', // starting sort direction when first sorting a column. Defaults to 'asc'\n      },\n      onSort: (_event, index, direction) => {\n        setActiveSortIndex(index);\n        setActiveSortDirection(direction);\n      },\n      columnIndex,\n    };\n  };\n\n  const onClose = () => navigate(rootPath);\n\n  const {\n    data: packageList = [],\n    meta: { count = 0 },\n  } = data;\n\n  const fetchingOrLoading = isFetching || isLoading;\n\n  const loadingOrZeroCount = fetchingOrLoading || !count;\n\n  return (\n    <Modal\n      key={uuid}\n      position='top'\n      hasNoBodyWrapper\n      aria-label='RPM package modal'\n      ouiaId='rpm_package_modal'\n      ouiaSafe={fetchingOrLoading}\n      variant={ModalVariant.medium}\n      title='Packages'\n      description={<p className={classes.description}>View list of packages</p>}\n      isOpen\n      onClose={onClose}\n      footer={\n        <Button key='close' variant='secondary' onClick={onClose}>\n          Close\n        </Button>\n      }\n    >\n      <InnerScrollContainer>\n        <Grid className={classes.mainContainer}>\n          <Flex className={classes.topContainer}>\n            <Flex>\n              <TextInput\n                id='search'\n                ouiaId='name_search'\n                placeholder='Filter by name'\n                value={searchQuery}\n                onChange={(value) => setSearchQuery(value)}\n                className={classes.searchInput}\n              />\n              <SearchIcon size='sm' className={classes.searchIcon} />\n            </Flex>\n            <FlexItem>\n              <Hide hide={loadingOrZeroCount}>\n                <Pagination\n                  id='top-pagination-id'\n                  widgetId='topPaginationWidgetId'\n                  perPageComponent='button'\n                  itemCount={count}\n                  perPage={perPage}\n                  page={page}\n                  onSetPage={onSetPage}\n                  isCompact\n                  onPerPageSelect={onPerPageSelect}\n                />\n              </Hide>\n            </FlexItem>\n          </Flex>\n          <Hide hide={!fetchingOrLoading}>\n            <Grid className={classes.mainContainer}>\n              <SkeletonTable\n                rowSize={perPage}\n                colSize={columnHeaders.length}\n                variant={TableVariant.compact}\n              />\n            </Grid>\n          </Hide>\n          <Hide hide={fetchingOrLoading}>\n            <TableComposable\n              aria-label='Custom repositories table'\n              ouiaId='packages_table'\n              variant='compact'\n            >\n              <Hide hide={loadingOrZeroCount}>\n                <Thead>\n                  <Tr>\n                    {columnHeaders.map((columnHeader, index) => (\n                      <Th\n                        key={columnHeader + '_column'}\n                        sort={sortParams(index, loadingOrZeroCount)}\n                      >\n                        {columnHeader}\n                      </Th>\n                    ))}\n                  </Tr>\n                </Thead>\n              </Hide>\n              <Tbody>\n                {packageList.map(({ name, version, release, arch }: PackageItem, index: number) => (\n                  <Tr key={name + index}>\n                    <Td>{name}</Td>\n                    <Td>{version}</Td>\n                    <Td>{release}</Td>\n                    <Td>{arch}</Td>\n                  </Tr>\n                ))}\n                <Hide hide={!loadingOrZeroCount}>\n                  <EmptyPackageState clearSearch={() => setSearchQuery('')} />\n                </Hide>\n              </Tbody>\n            </TableComposable>\n          </Hide>\n          <Flex className={classes.bottomContainer}>\n            <FlexItem />\n            <FlexItem>\n              <Hide hide={loadingOrZeroCount}>\n                <Pagination\n                  id='bottom-pagination-id'\n                  widgetId='bottomPaginationWidgetId'\n                  perPageComponent='button'\n                  itemCount={count}\n                  perPage={perPage}\n                  page={page}\n                  onSetPage={onSetPage}\n                  variant={PaginationVariant.bottom}\n                  onPerPageSelect={onPerPageSelect}\n                />\n              </Hide>\n            </FlexItem>\n          </Flex>\n        </Grid>\n      </InnerScrollContainer>\n    </Modal>\n  );\n}\n","import {\n  EmptyStateBody,\n  EmptyState,\n  EmptyStateVariant,\n  Title,\n  EmptyStateIcon,\n  Button,\n  Bullseye,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons/dist/js/icons';\nimport { Td, Tr } from '@patternfly/react-table';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  emptyStateContainer: {\n    display: 'flex',\n    flexGrow: 1,\n    margin: 'auto',\n  },\n});\n\ninterface Props {\n  clearSearch: () => void;\n}\n\nexport default function EmptyPackageState({ clearSearch }: Props) {\n  const classes = useStyles();\n  return (\n    <Tr>\n      <Td colSpan={4}>\n        <Bullseye>\n          <EmptyState variant={EmptyStateVariant.full} className={classes.emptyStateContainer}>\n            <EmptyStateIcon icon={SearchIcon} />\n            <Title headingLevel='h2' size='lg'>\n              No packages match the search criteria\n            </Title>\n            <EmptyStateBody>Clear your current search to show more results</EmptyStateBody>\n            <Button ouiaId='clear_filters' variant='link' onClick={clearSearch}>\n              Clear search\n            </Button>\n          </EmptyState>\n        </Bullseye>\n      </Td>\n    </Tr>\n  );\n}\n","import {\n  Button,\n  Flex,\n  FlexItem,\n  Grid,\n  Modal,\n  ModalVariant,\n  OnPerPageSelect,\n  OnSetPage,\n  Pagination,\n  PaginationVariant,\n} from '@patternfly/react-core';\nimport {\n  InnerScrollContainer,\n  TableComposable,\n  TableVariant,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  ThProps,\n  Tr,\n} from '@patternfly/react-table';\nimport {\n  global_BackgroundColor_100,\n  global_secondary_color_100,\n  global_Color_200,\n} from '@patternfly/react-tokens';\nimport { useEffect, useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { SkeletonTable } from '@redhat-cloud-services/frontend-components';\nimport Hide from '../../../../components/Hide/Hide';\nimport { SnapshotItem } from '../../../../services/Content/ContentApi';\nimport { useFetchContent, useGetSnapshotList } from '../../../../services/Content/ContentQueries';\nimport useDebounce from '../../../../Hooks/useDebounce';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport useRootPath from '../../../../Hooks/useRootPath';\nimport EmptyPackageState from '../PackageModal/components/EmptyPackageState';\nimport ChangedArrows from './components/ChangedArrows';\n\nconst useStyles = createUseStyles({\n  description: {\n    paddingTop: '12px', // 4px on the title bottom padding makes this the \"standard\" 16 total padding\n    paddingBottom: '8px',\n    color: global_Color_200.value,\n  },\n  mainContainer: {\n    backgroundColor: global_BackgroundColor_100.value,\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  topContainer: {\n    justifyContent: 'space-between',\n    padding: '16px 24px',\n    height: 'fit-content',\n  },\n  bottomContainer: {\n    justifyContent: 'space-between',\n    height: 'fit-content',\n  },\n  searchInput: {\n    paddingRight: '35px',\n    marginRight: '-23px',\n  },\n  searchIcon: {\n    color: global_secondary_color_100.value,\n    position: 'relative',\n    top: '3px',\n    left: '-5px',\n    pointerEvents: 'none',\n  },\n});\n\nconst perPageKey = 'snapshotPerPage';\n\nexport default function SnapshotListModal() {\n  const classes = useStyles();\n  const rootPath = useRootPath();\n  const { repoUUID: uuid = '' } = useParams();\n  const navigate = useNavigate();\n  const storedPerPage = Number(localStorage.getItem(perPageKey)) || 20;\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(storedPerPage);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeSortIndex, setActiveSortIndex] = useState<number>(0);\n  const [activeSortDirection, setActiveSortDirection] = useState<'asc' | 'desc'>('asc');\n\n  const columnHeaders = ['Snapshots', 'Change', 'Packages', 'Errata'];\n\n  const columnSortAttributes = ['created_at'];\n\n  const sortString = useMemo(\n    () => columnSortAttributes[activeSortIndex] + ':' + activeSortDirection,\n    [activeSortIndex, activeSortDirection],\n  );\n\n  const debouncedSearchQuery = useDebounce(searchQuery);\n\n  useEffect(() => {\n    setPage(1);\n  }, [debouncedSearchQuery, sortString]);\n\n  const {\n    isLoading,\n    isFetching,\n    isError,\n    data = { data: [], meta: { count: 0, limit: 20, offset: 0 } },\n  } = useGetSnapshotList(uuid as string, page, perPage, debouncedSearchQuery, sortString);\n\n  const { data: contentData } = useFetchContent([uuid]);\n\n  useEffect(() => {\n    if (isError) {\n      onClose();\n    }\n  }, [isError]);\n\n  const onSetPage: OnSetPage = (_, newPage) => setPage(newPage);\n\n  const onPerPageSelect: OnPerPageSelect = (_, newPerPage, newPage) => {\n    // Save this value through page refresh for use on next reload\n    setPerPage(newPerPage);\n    setPage(newPage);\n    localStorage.setItem(perPageKey, newPerPage.toString());\n  };\n\n  const sortParams = (columnIndex: number, isDisabled: boolean): ThProps['sort'] | undefined => {\n    if (isDisabled || !columnSortAttributes[columnIndex]) return;\n    return {\n      sortBy: {\n        index: activeSortIndex,\n        direction: activeSortDirection,\n        defaultDirection: 'asc', // starting sort direction when first sorting a column. Defaults to 'asc'\n      },\n      onSort: (_event, index, direction) => {\n        setActiveSortIndex(index);\n        setActiveSortDirection(direction);\n      },\n      columnIndex,\n    };\n  };\n\n  const onClose = () => navigate(rootPath);\n\n  const {\n    data: snapshotsList = [],\n    meta: { count = 0 },\n  } = data;\n\n  const fetchingOrLoading = isFetching || isLoading;\n\n  const loadingOrZeroCount = fetchingOrLoading || !count;\n\n  return (\n    <Modal\n      key={uuid}\n      position='top'\n      hasNoBodyWrapper\n      aria-label='Snapshot list modal'\n      ouiaId='snapshot_list_modal'\n      ouiaSafe={fetchingOrLoading}\n      variant={ModalVariant.medium}\n      title='Snapshots'\n      description={\n        <p className={classes.description}>\n          View list of snapshots for{' '}\n          {contentData?.name ? <b>{contentData?.name}</b> : 'a repository'}.\n          {/* You may select snapshots to delete them.\n          <br />\n          You may also view the snapshot comparisons <b>here</b>. */}\n        </p>\n      }\n      isOpen\n      onClose={onClose}\n      footer={\n        <Button key='close' variant='secondary' onClick={onClose}>\n          Close\n        </Button>\n      }\n    >\n      <InnerScrollContainer>\n        <Grid className={classes.mainContainer}>\n          <Flex className={classes.topContainer}>\n            <FlexItem>\n              {/* <TextInput\n                id='search'\n                ouiaId='name_search'\n                placeholder='Search snapshot'\n                value={searchQuery}\n                onChange={(value) => setSearchQuery(value)}\n                className={classes.searchInput}\n              />\n              <SearchIcon size='sm' className={classes.searchIcon} /> */}\n            </FlexItem>\n            <FlexItem>\n              <Hide hide={loadingOrZeroCount}>\n                <Pagination\n                  id='top-pagination-id'\n                  widgetId='topPaginationWidgetId'\n                  perPageComponent='button'\n                  itemCount={count}\n                  perPage={perPage}\n                  page={page}\n                  onSetPage={onSetPage}\n                  isCompact\n                  onPerPageSelect={onPerPageSelect}\n                />\n              </Hide>\n            </FlexItem>\n          </Flex>\n          <Hide hide={!fetchingOrLoading}>\n            <Grid className={classes.mainContainer}>\n              <SkeletonTable\n                rowSize={perPage}\n                colSize={columnHeaders.length}\n                variant={TableVariant.compact}\n              />\n            </Grid>\n          </Hide>\n          <Hide hide={fetchingOrLoading}>\n            <TableComposable\n              aria-label='snapshot list table'\n              ouiaId='snapshot_list_table'\n              variant='compact'\n            >\n              <Hide hide={loadingOrZeroCount}>\n                <Thead>\n                  <Tr>\n                    {columnHeaders.map((columnHeader, index) => (\n                      <Th\n                        key={columnHeader + '_column'}\n                        sort={sortParams(index, loadingOrZeroCount)}\n                      >\n                        {columnHeader}\n                      </Th>\n                    ))}\n                  </Tr>\n                </Thead>\n              </Hide>\n              <Tbody>\n                {snapshotsList.map(\n                  (\n                    { created_at, content_counts, added_counts, removed_counts }: SnapshotItem,\n                    index: number,\n                  ) => (\n                    <Tr key={created_at + index}>\n                      <Td>{new Date(created_at).toUTCString()}</Td>\n                      <Td>\n                        <ChangedArrows\n                          addedCount={\n                            (added_counts?.['rpm.advisory'] || 0) +\n                            (added_counts?.['rpm.package'] || 0)\n                          }\n                          removedCount={\n                            (removed_counts?.['rpm.advisory'] || 0) +\n                            (removed_counts?.['rpm.package'] || 0)\n                          }\n                        />\n                      </Td>\n                      <Td>{content_counts?.['rpm.package'] || 0}</Td>\n                      <Td>{content_counts?.['rpm.advisory'] || 0}</Td>\n                    </Tr>\n                  ),\n                )}\n                <Hide hide={!loadingOrZeroCount}>\n                  <EmptyPackageState clearSearch={() => setSearchQuery('')} />\n                </Hide>\n              </Tbody>\n            </TableComposable>\n          </Hide>\n          <Flex className={classes.bottomContainer}>\n            <FlexItem />\n            <FlexItem>\n              <Hide hide={loadingOrZeroCount}>\n                <Pagination\n                  id='bottom-pagination-id'\n                  widgetId='bottomPaginationWidgetId'\n                  perPageComponent='button'\n                  itemCount={count}\n                  perPage={perPage}\n                  page={page}\n                  onSetPage={onSetPage}\n                  variant={PaginationVariant.bottom}\n                  onPerPageSelect={onPerPageSelect}\n                />\n              </Hide>\n            </FlexItem>\n          </Flex>\n        </Grid>\n      </InnerScrollContainer>\n    </Modal>\n  );\n}\n","import { LongArrowAltDownIcon, LongArrowAltUpIcon } from '@patternfly/react-icons';\nimport { Flex, FlexItem } from '@patternfly/react-core';\nimport { global_danger_color_100, global_success_color_100 } from '@patternfly/react-tokens';\nimport { createUseStyles } from 'react-jss';\n\nconst red = global_danger_color_100.value;\nconst green = global_success_color_100.value;\n\nconst useStyles = createUseStyles({\n  base: {\n    fontWeight: 'bold',\n    alignItems: 'center',\n    display: 'flex',\n    '& svg': {\n      marginRight: '5px',\n    },\n  },\n  red: { extend: 'base', color: red },\n  green: { extend: 'base', color: green },\n});\n\ninterface Props {\n  addedCount: number;\n  removedCount: number;\n}\n\nconst ChangedArrows = ({ addedCount, removedCount }: Props) => {\n  const classes = useStyles();\n  return (\n    <Flex>\n      <FlexItem className={classes.green}>\n        <LongArrowAltUpIcon />\n        {addedCount}\n      </FlexItem>\n      <FlexItem className={classes.red}>\n        <LongArrowAltDownIcon />\n        {removedCount}\n      </FlexItem>\n    </Flex>\n  );\n};\n\nexport default ChangedArrows;\n","import {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n} from '@patternfly/react-icons';\nimport {\n  Button,\n  Flex,\n  FlexItem,\n  Popover,\n  Spinner,\n  Stack,\n  StackItem,\n  Tooltip,\n} from '@patternfly/react-core';\nimport StatusText from '../../../components/StatusText/StatusText';\nimport {\n  global_danger_color_100,\n  global_success_color_100,\n  global_warning_color_100,\n} from '@patternfly/react-tokens';\nimport { createUseStyles } from 'react-jss';\nimport dayjs from 'dayjs';\nimport relativeTime = require('dayjs/plugin/relativeTime');\nimport { ContentItem } from '../../../services/Content/ContentApi';\nimport ConditionalTooltip from '../../../components/ConditionalTooltip/ConditionalTooltip';\nimport { useAppContext } from '../../../middleware/AppContext';\ndayjs.extend(relativeTime);\n\nconst red = global_danger_color_100.value;\nconst green = global_success_color_100.value;\nconst gold = global_warning_color_100.value;\n\nconst useStyles = createUseStyles({\n  spinner: {\n    animationDuration: '6s !important',\n    margin: '-3px 0',\n  },\n});\n\ninterface Props {\n  rowData: ContentItem;\n  retryHandler?: (string) => Promise<void>;\n}\n\ninterface DescriptionProps {\n  error?: string;\n  count?: number;\n  time?: string;\n}\n\ninterface FooterProps {\n  retryHandler?: (string) => Promise<void>;\n  uuid: string;\n}\n\nconst PopoverDescription = ({ error, count, time }: DescriptionProps) => {\n  const timeText = time === '' || time === undefined ? 'Never' : dayjs(time).fromNow();\n  return (\n    <div>\n      {error}\n      <Flex>\n        <Stack className='pf-u-mt-sm'>\n          <StackItem className='pf-u-font-weight-bold'>Last introspection</StackItem>\n          <StackItem> {timeText} </StackItem>\n        </Stack>\n        <Stack className='pf-u-mt-sm'>\n          <StackItem className='pf-u-font-weight-bold'>Failed attempts</StackItem>\n          <StackItem> {count} </StackItem>\n        </Stack>\n      </Flex>\n    </div>\n  );\n};\n\nconst PopoverFooter = ({ retryHandler, uuid }: FooterProps) => {\n  const { rbac } = useAppContext();\n  return (\n    <Flex>\n      <ConditionalTooltip\n        content='You do not have the required permissions to perform this action.'\n        show={!rbac?.write}\n        setDisabled\n      >\n        <Button variant='link' isInline onClick={() => (retryHandler ? retryHandler(uuid) : null)}>\n          Retry\n        </Button>\n      </ConditionalTooltip>\n    </Flex>\n  );\n};\n\nconst StatusIcon = ({\n  rowData: {\n    uuid,\n    status,\n    failed_introspections_count: failedIntrospectionsCount,\n    last_introspection_time: lastIntrospectionTime,\n    last_introspection_error: error,\n  },\n  retryHandler,\n}: Props) => {\n  const classes = useStyles();\n\n  switch (status) {\n    case 'Valid':\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <CheckCircleIcon color={green} />\n          </FlexItem>\n          <FlexItem>\n            <StatusText color='green'>Valid</StatusText>\n          </FlexItem>\n        </Flex>\n      );\n    case 'Invalid':\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <ExclamationCircleIcon color={red} />\n          </FlexItem>\n          <FlexItem>\n            <Popover\n              aria-label='invalid popover'\n              alertSeverityVariant='danger'\n              headerContent='Invalid'\n              headerIcon={<ExclamationCircleIcon />}\n              bodyContent={\n                <PopoverDescription\n                  error={error}\n                  count={failedIntrospectionsCount}\n                  time={lastIntrospectionTime}\n                />\n              }\n              position='left'\n              footerContent={<PopoverFooter retryHandler={retryHandler} uuid={uuid} />}\n            >\n              <Button variant='link' isInline>\n                <StatusText color='red' isLink>\n                  Invalid\n                </StatusText>\n              </Button>\n            </Popover>\n          </FlexItem>\n        </Flex>\n      );\n    case 'Unavailable':\n      return (\n        <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n          <FlexItem spacer={{ default: 'spacerSm' }}>\n            <ExclamationTriangleIcon color={gold} />\n          </FlexItem>\n          <FlexItem>\n            <Popover\n              aria-label='unavailable popover'\n              alertSeverityVariant='warning'\n              headerContent='Unavailable'\n              headerIcon={<ExclamationTriangleIcon />}\n              bodyContent={\n                <PopoverDescription\n                  error={error}\n                  count={failedIntrospectionsCount}\n                  time={lastIntrospectionTime}\n                />\n              }\n              position='left'\n              footerContent={<PopoverFooter retryHandler={retryHandler} uuid={uuid} />}\n            >\n              <StatusText color='gold' isLink>\n                Unavailable\n              </StatusText>\n            </Popover>\n          </FlexItem>\n        </Flex>\n      );\n    case 'Pending':\n      return (\n        <Tooltip position='top-start' content='Repository is being introspected'>\n          <Flex alignContent={{ default: 'alignContentCenter' }} direction={{ default: 'row' }}>\n            <FlexItem spacer={{ default: 'spacerSm' }}>\n              <Spinner size='md' className={classes.spinner} />\n            </FlexItem>\n            <FlexItem>\n              <StatusText color='blue'>In progress</StatusText>\n            </FlexItem>\n          </Flex>\n        </Tooltip>\n      );\n    default:\n      return <></>;\n  }\n};\n\nexport default StatusIcon;\n","import {\n  Button,\n  Flex,\n  FlexItem,\n  Grid,\n  InputGroup,\n  OnPerPageSelect,\n  OnSetPage,\n  Pagination,\n  PaginationVariant,\n  Spinner,\n  TextInput,\n} from '@patternfly/react-core';\nimport { TableComposable, TableVariant, Tbody, Td, Th, Thead, Tr } from '@patternfly/react-table';\nimport {\n  global_BackgroundColor_100,\n  global_secondary_color_100,\n  global_disabled_color_100,\n} from '@patternfly/react-tokens';\nimport { useEffect, useState, useMemo } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { SkeletonTable } from '@redhat-cloud-services/frontend-components';\n\nimport {\n  usePopularRepositoriesQuery,\n  useDeletePopularRepositoryMutate,\n  useRepositoryParams,\n  useAddPopularRepositoryQuery,\n  useBulkDeleteContentItemMutate,\n} from '../../services/Content/ContentQueries';\nimport {\n  CreateContentRequest,\n  CreateContentRequestItem,\n  FilterData,\n  PopularRepository,\n} from '../../services/Content/ContentApi';\nimport Hide from '../../components/Hide/Hide';\nimport { useQueryClient } from 'react-query';\nimport { useAppContext } from '../../middleware/AppContext';\nimport ConditionalTooltip from '../../components/ConditionalTooltip/ConditionalTooltip';\nimport UrlWithExternalIcon from '../../components/UrlWithLinkIcon/UrlWithLinkIcon';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport useDebounce from '../../Hooks/useDebounce';\nimport EmptyTableState from '../../components/EmptyTableState/EmptyTableState';\nimport DeleteKebab from '../../components/DeleteKebab/DeleteKebab';\nimport { repoToRequestItem } from './helper';\n\nconst useStyles = createUseStyles({\n  mainContainer: {\n    backgroundColor: global_BackgroundColor_100.value,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n\n  topContainer: {\n    justifyContent: 'space-between',\n    padding: '16px 24px', // This is needed\n    height: 'fit-content',\n  },\n  bottomContainer: {\n    justifyContent: 'space-between',\n    height: 'fit-content',\n  },\n  invisible: {\n    opacity: 0,\n  },\n  searchInput: {\n    paddingRight: '35px',\n    marginRight: '-23px',\n  },\n  searchIcon: {\n    color: global_secondary_color_100.value,\n    position: 'relative',\n    left: '-5px',\n    pointerEvents: 'none',\n  },\n  addRepositoriesButton: {\n    marginLeft: '16px',\n  },\n  checkboxMinWidth: {\n    minWidth: '45px!important',\n  },\n  disabled: {\n    color: global_disabled_color_100.value,\n  },\n  repositoryActions: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n});\n\nconst perPageKey = 'popularRepositoriesperPage';\n\nconst PopularRepositoriesTable = () => {\n  const classes = useStyles();\n  const queryClient = useQueryClient();\n  const { rbac } = useAppContext();\n  // Uses urls as map key because uuids don't exist on repositories that haven't been created\n  const [checkedRepositoriesToAdd, setCheckedRepositoriesToAdd] = useState<\n    Map<string, CreateContentRequestItem>\n  >(new Map());\n  // Set of uuids which are required for bulk delete\n  const [checkedRepositoriesToDelete, setCheckedRepositoriesToDelete] = useState<Set<string>>(\n    new Set(),\n  );\n  const [selectedData, setSelectedData] = useState<CreateContentRequest>([]);\n  const [selectedUUID, setSelectedUUID] = useState<string>('');\n\n  const storedPerPage = Number(localStorage.getItem(perPageKey)) || 20;\n  const [page, setPage] = useState(1);\n  const [searchValue, setSearchValue] = useState('');\n  const debouncedSearchValue = useDebounce(searchValue);\n  const [perPage, setPerPage] = useState(storedPerPage);\n\n  const {\n    isLoading,\n    error,\n    isError,\n    isFetching,\n    data = { data: [], meta: { count: 0, limit: 20, offset: 0 } },\n  } = usePopularRepositoriesQuery(page, perPage, {\n    searchQuery: !searchValue ? searchValue : debouncedSearchValue,\n  });\n\n  const {\n    isLoading: repositoryParamsLoading,\n    error: repositoryParamsError,\n    isError: repositoryParamsIsError,\n    data: { distribution_versions: distVersions, distribution_arches: distArches } = {\n      distribution_versions: [],\n      distribution_arches: [],\n    },\n  } = useRepositoryParams();\n\n  const { mutateAsync: addContentQuery, isLoading: isAdding } = useAddPopularRepositoryQuery(\n    queryClient,\n    selectedData,\n    page,\n    perPage,\n    { searchQuery: debouncedSearchValue } as FilterData,\n  );\n\n  const clearCheckedRepositories = () => {\n    setCheckedRepositoriesToAdd(new Map());\n    setCheckedRepositoriesToDelete(new Set());\n  };\n\n  const selectAllRepos = (_, checked: boolean) => {\n    const newSet = new Set(checkedRepositoriesToDelete);\n    const newMap = new Map(checkedRepositoriesToAdd);\n    if (checked) {\n      popularData.forEach((repo) => {\n        if (repo.uuid) {\n          newSet.add(repo.uuid);\n        } else {\n          newMap.set(repo.url, repoToRequestItem(repo));\n        }\n      });\n    } else {\n      popularData.forEach((repo) => {\n        if (repo.uuid) {\n          newSet.delete(repo.uuid);\n        } else {\n          newMap.delete(repo.url);\n        }\n      });\n    }\n    setCheckedRepositoriesToDelete(newSet);\n    setCheckedRepositoriesToAdd(newMap);\n  };\n\n  const atLeastOneRepoToDeleteChecked = useMemo(\n    () => checkedRepositoriesToDelete.size >= 1,\n    [checkedRepositoriesToDelete],\n  );\n  const atLeastOneRepoToAddChecked = useMemo(\n    () => checkedRepositoriesToAdd.size >= 1,\n    [checkedRepositoriesToAdd],\n  );\n\n  const areAllReposSelected = useMemo(\n    () =>\n      data.data.every((repo) => {\n        if (repo.uuid) {\n          return checkedRepositoriesToDelete.has(repo.uuid);\n        } else {\n          return checkedRepositoriesToAdd.has(repo.url);\n        }\n      }),\n    [data, checkedRepositoriesToAdd, checkedRepositoriesToDelete],\n  );\n\n  const onSelectRepo = (repo: PopularRepository, value: boolean) => {\n    if (repo.uuid) {\n      const newSet = new Set(checkedRepositoriesToDelete);\n      if (value) {\n        newSet.add(repo.uuid);\n      } else {\n        newSet.delete(repo.uuid);\n      }\n      setCheckedRepositoriesToDelete(newSet);\n    } else {\n      const newMap = new Map(checkedRepositoriesToAdd);\n      if (value) {\n        newMap.set(repo.url, repoToRequestItem(repo));\n      } else {\n        newMap.delete(repo.url);\n      }\n      setCheckedRepositoriesToAdd(newMap);\n    }\n  };\n\n  useEffect(() => {\n    if (!isFetching) {\n      setSelectedData([]);\n      setSelectedUUID('');\n    }\n  }, [isFetching]);\n\n  useEffect(() => {\n    if (selectedData.length != 0) {\n      addContentQuery().then(\n        () => {\n          setSelectedData([]);\n          clearCheckedRepositories();\n        },\n        () => setSelectedData([]),\n      );\n    }\n  }, [selectedData]);\n\n  useEffect(() => {\n    if (selectedUUID) {\n      deleteItem(selectedUUID).then(clearCheckedRepositories, () => setSelectedUUID(''));\n    }\n  }, [selectedUUID]);\n\n  const archesDisplay = (arch: string) => distArches.find(({ label }) => arch === label)?.name;\n\n  const versionDisplay = (versions: Array<string>): string =>\n    distVersions\n      .filter(({ label }) => versions?.includes(label))\n      .map(({ name }) => name)\n      .join(', ');\n\n  const { mutateAsync: deleteItem, isLoading: isDeleting } = useDeletePopularRepositoryMutate(\n    queryClient,\n    page,\n    perPage,\n    { searchQuery: debouncedSearchValue } as FilterData,\n  );\n\n  const { mutateAsync: deleteItems, isLoading: isDeletingItems } = useBulkDeleteContentItemMutate(\n    queryClient,\n    checkedRepositoriesToDelete,\n    page,\n    perPage,\n    { searchQuery: debouncedSearchValue } as FilterData,\n    undefined, // sort string\n  );\n\n  // Other update actions will be added to this later.\n  const actionTakingPlace =\n    isDeleting || isFetching || repositoryParamsLoading || isAdding || isDeletingItems;\n\n  const onSetPage: OnSetPage = (_, newPage) => setPage(newPage);\n\n  const onPerPageSelect: OnPerPageSelect = (_, newPerPage, newPage) => {\n    // Save this value through page refresh for use on next reload\n    localStorage.setItem(perPageKey, newPerPage.toString());\n    setPerPage(newPerPage);\n    setPage(newPage);\n  };\n\n  const addSelected = () => {\n    const request: CreateContentRequest = [];\n    checkedRepositoriesToAdd.forEach((repo) => {\n      request.push(repo);\n    });\n    setSelectedData(request);\n  };\n\n  const deleteSelected = async () => {\n    deleteItems(checkedRepositoriesToDelete).then(() => {\n      const newMaxPage = Math.ceil((count - checkedRepositoriesToDelete.size) / perPage);\n      if (page > 1 && newMaxPage < page) {\n        setPage(newMaxPage);\n      }\n      clearCheckedRepositories();\n    });\n  };\n\n  const columnHeaders = ['Name', 'Architecture', 'Versions'];\n\n  // Error is caught in the wrapper component\n  if (isError) throw error;\n  if (repositoryParamsIsError) throw repositoryParamsError;\n\n  const {\n    data: popularData = [],\n    meta: { count = 0 },\n  } = data;\n\n  const countIsZero = !data?.data?.length;\n\n  return (\n    <Grid\n      data-ouia-safe={!actionTakingPlace}\n      data-ouia-component-id='popular_repositories_page'\n      className={classes.mainContainer}\n    >\n      <Flex className={classes.topContainer}>\n        <FlexItem>\n          <InputGroup>\n            <FlexItem>\n              <TextInput\n                isDisabled={isLoading}\n                id='search'\n                ouiaId='popular_filter_search'\n                placeholder='Filter by name/url'\n                value={searchValue}\n                onChange={setSearchValue}\n                className={classes.searchInput}\n              />\n              <SearchIcon size='sm' className={classes.searchIcon} />\n            </FlexItem>\n            <FlexItem className={classes.repositoryActions}>\n              {/* RBAC popover takes precedence */}\n              <ConditionalTooltip\n                content={\n                  !rbac?.write\n                    ? 'You do not have the required permissions to perform this action.'\n                    : 'Make a selection below to add multiple repositories'\n                }\n                show={!rbac?.write || !atLeastOneRepoToAddChecked}\n                setDisabled\n              >\n                <Button\n                  onClick={addSelected}\n                  className={classes.addRepositoriesButton}\n                  ouiaId='add_checked_repos'\n                >\n                  {atLeastOneRepoToAddChecked\n                    ? `Add ${checkedRepositoriesToAdd.size} repositories`\n                    : 'Add selected repositories'}\n                </Button>\n              </ConditionalTooltip>\n              <ConditionalTooltip\n                content='You do not have the required permissions to perform this action.'\n                show={!rbac?.write}\n                setDisabled\n              >\n                <DeleteKebab\n                  atLeastOneRepoChecked={atLeastOneRepoToDeleteChecked}\n                  numberOfReposChecked={checkedRepositoriesToDelete.size}\n                  deleteCheckedRepos={deleteSelected}\n                />\n              </ConditionalTooltip>\n            </FlexItem>\n          </InputGroup>\n        </FlexItem>\n        <FlexItem>\n          <Hide hide={isLoading || countIsZero}>\n            <Pagination\n              id='top-pagination-id'\n              widgetId='topPaginationWidgetId'\n              perPageComponent='button'\n              isDisabled={isLoading}\n              itemCount={count}\n              perPage={perPage}\n              page={page}\n              onSetPage={onSetPage}\n              isCompact\n              onPerPageSelect={onPerPageSelect}\n            />\n          </Hide>\n        </FlexItem>\n      </Flex>\n      <Hide hide={!isLoading}>\n        <Grid className={classes.mainContainer}>\n          <SkeletonTable\n            rowSize={perPage}\n            colSize={columnHeaders.length}\n            variant={TableVariant.compact}\n          />\n        </Grid>\n      </Hide>\n      <Hide hide={isLoading || countIsZero}>\n        <>\n          <TableComposable\n            aria-label='Popular repositories table'\n            ouiaId='popular_repos_table'\n            variant='compact'\n          >\n            <Thead>\n              <Tr>\n                <Hide hide={!rbac?.write}>\n                  <Th\n                    className={classes.checkboxMinWidth}\n                    select={{\n                      onSelect: selectAllRepos,\n                      isSelected: areAllReposSelected,\n                    }}\n                  />\n                </Hide>\n                {columnHeaders.map((columnHeader) => (\n                  <Th key={columnHeader + 'column'}>{columnHeader}</Th>\n                ))}\n                <Th>\n                  <Spinner size='md' className={actionTakingPlace ? '' : classes.invisible} />\n                </Th>\n              </Tr>\n            </Thead>\n            <Tbody>\n              {popularData.map((repo, key) => {\n                const {\n                  uuid,\n                  existing_name,\n                  suggested_name,\n                  url,\n                  distribution_arch,\n                  distribution_versions,\n                  gpg_key,\n                  metadata_verification,\n                } = repo;\n                return (\n                  <Tr key={suggested_name + key}>\n                    <Hide hide={!rbac?.write}>\n                      {/* Never disabled because popular repositories can be both added and deleted */}\n                      <Td\n                        select={{\n                          rowIndex: key,\n                          onSelect: (_event, isSelecting) => onSelectRepo(repo, isSelecting),\n                          isSelected: uuid\n                            ? checkedRepositoriesToDelete.has(uuid)\n                            : checkedRepositoriesToAdd.has(url),\n                        }}\n                      />\n                    </Hide>\n                    <Td>\n                      <>\n                        <Flex direction={{ default: 'row' }}>\n                          <FlexItem> {suggested_name}</FlexItem>\n                          {existing_name && suggested_name !== existing_name && (\n                            <FlexItem className={classes.disabled}>\n                              Current name: {existing_name}\n                            </FlexItem>\n                          )}\n                        </Flex>\n                        <UrlWithExternalIcon href={url} />\n                      </>\n                    </Td>\n                    <Td>{archesDisplay(distribution_arch)}</Td>\n                    <Td>{versionDisplay(distribution_versions)}</Td>\n                    <Td width={10}>\n                      <ConditionalTooltip\n                        content='You do not have the required permissions to perform this action.'\n                        show={!rbac?.write}\n                        setDisabled\n                      >\n                        {uuid ? (\n                          <Button\n                            isDisabled={uuid === selectedUUID || isAdding}\n                            onClick={() => setSelectedUUID(uuid)}\n                            variant='danger'\n                            ouiaId='remove_popular_repo'\n                          >\n                            Remove\n                          </Button>\n                        ) : (\n                          <Button\n                            variant='secondary'\n                            isDisabled={\n                              selectedData[key]?.url === url ||\n                              isFetching ||\n                              isDeleting ||\n                              isDeletingItems\n                            }\n                            onClick={() => {\n                              const newData: CreateContentRequest = [];\n                              newData[key] = {\n                                name: suggested_name,\n                                url,\n                                distribution_versions,\n                                distribution_arch,\n                                gpg_key,\n                                metadata_verification,\n                              };\n                              setSelectedData(newData);\n                            }}\n                            ouiaId='add_popular_repo'\n                          >\n                            Add\n                          </Button>\n                        )}\n                      </ConditionalTooltip>\n                    </Td>\n                  </Tr>\n                );\n              })}\n            </Tbody>\n          </TableComposable>\n          <Hide hide={isLoading || countIsZero}>\n            <Flex className={classes.bottomContainer}>\n              <FlexItem />\n              <FlexItem>\n                <Pagination\n                  id='bottom-pagination-id'\n                  widgetId='bottomPaginationWidgetId'\n                  perPageComponent='button'\n                  itemCount={count}\n                  perPage={perPage}\n                  page={page}\n                  onSetPage={onSetPage}\n                  variant={PaginationVariant.bottom}\n                  onPerPageSelect={onPerPageSelect}\n                />\n              </FlexItem>\n            </Flex>\n          </Hide>\n        </>\n      </Hide>\n      <Hide hide={!countIsZero}>\n        <EmptyTableState\n          clearFilters={() => setSearchValue('')}\n          notFiltered={!debouncedSearchValue} // The second item prevents the clear button from being removed abruptly\n          itemName='popular repositories'\n        />\n      </Hide>\n    </Grid>\n  );\n};\n\nexport default PopularRepositoriesTable;\n","import { PopularRepository, CreateContentRequestItem } from '../../services/Content/ContentApi';\n\nexport const repoToRequestItem = (\n  repo: PopularRepository,\n  snapshot = false,\n): CreateContentRequestItem => {\n  const {\n    suggested_name,\n    url,\n    distribution_versions,\n    distribution_arch,\n    gpg_key,\n    metadata_verification,\n  } = repo;\n\n  return {\n    name: suggested_name,\n    url,\n    distribution_versions,\n    distribution_arch,\n    gpg_key,\n    metadata_verification,\n    snapshot,\n  };\n};\n","import { useMemo } from 'react';\nimport { Tab, Tabs, TabTitleText } from '@patternfly/react-core';\nimport { Link, Outlet } from 'react-router-dom';\nimport { global_BackgroundColor_100 } from '@patternfly/react-tokens';\n\nimport { createUseStyles } from 'react-jss';\nimport { last } from 'lodash';\nimport Header from '../components/Header/Header';\nimport QuickStart from '../components/QuickStart/QuickStart';\nimport { TabbedRoute } from './useTabbedRoutes';\n\nconst useStyles = createUseStyles({\n  tabs: {\n    backgroundColor: global_BackgroundColor_100.value,\n  },\n  tab: {\n    '& button': {\n      padding: 0, // Remove the default button padding\n    },\n  },\n  link: {\n    color: 'inherit', // Receives parent \"Tab\" components color\n    textDecoration: 'none',\n    padding: '8px 16px', // Add it back so that the entire clickable area works\n    '&:focus-visible': {\n      outlineOffset: '-6px',\n    },\n  },\n});\n\nexport default function Layout({ pathname, tabs }: { pathname: string; tabs: TabbedRoute[] }) {\n  const classes = useStyles();\n  const currentRoute = useMemo(() => last(pathname.split('/')), [pathname]);\n\n  return (\n    <>\n      <Header />\n      <Tabs className={classes.tabs} ouiaId='routed-tabs' activeKey={currentRoute}>\n        {tabs.map(({ title, route }) => (\n          <Tab\n            className={classes.tab}\n            keyParams={route}\n            key={route}\n            tabIndex={-1} // This prevents the tab from being targetable by accessibility features.\n            eventKey={route || 'content'} // the current route will be \"content\" when there is no route specified (root)\n            aria-label={title}\n            ouiaId={title}\n            title={\n              <Link className={classes.link} accessKey={route} key={route} to={route}>\n                <TabTitleText>{title}</TabTitleText>\n              </Link>\n            }\n          />\n        ))}\n      </Tabs>\n      <QuickStart />\n      {/* Render the app routes via the Layout Outlet */}\n      <Outlet />\n    </>\n  );\n}\n","import { Grid } from '@patternfly/react-core';\nimport { Routes, Route, Navigate, useLocation } from 'react-router-dom';\n\nimport { createUseStyles } from 'react-jss';\nimport { ErrorPage } from '../components/Error/ErrorPage';\nimport Layout from './Layout';\nimport { useMemo } from 'react';\nimport useTabbedRoutes, { DEFAULT_ROUTE } from './useTabbedRoutes';\n\nconst useStyles = createUseStyles({\n  containerMargin: {\n    margin: '24px',\n  },\n});\n\nexport default function MainRoutes() {\n  const classes = useStyles();\n  const { pathname } = useLocation();\n  const key = useMemo(() => Math.random(), []);\n  const tabs = useTabbedRoutes();\n\n  return (\n    <Routes key={key}>\n      <Route element={<Layout pathname={pathname} tabs={tabs} />}>\n        {tabs.map(({ route, Element, ChildRoutes }, key) => (\n          <Route\n            key={key.toString()}\n            path={route}\n            element={\n              <ErrorPage>\n                <Grid className={classes.containerMargin}>\n                  <Element />\n                </Grid>\n              </ErrorPage>\n            }\n          >\n            {ChildRoutes?.map(({ path, Element: ChildRouteElement }, childRouteKey) => (\n              <Route key={childRouteKey} path={path} element={<ChildRouteElement />} />\n            ))}\n          </Route>\n        ))}\n        <Route path='*' element={<Navigate to={DEFAULT_ROUTE} replace />} />\n      </Route>\n    </Routes>\n  );\n}\n","import { useMemo } from 'react';\nimport AdminTaskTable from '../Pages/AdminTaskTable/AdminTaskTable';\nimport ViewPayloadModal from '../Pages/AdminTaskTable/components/ViewPayloadModal/ViewPayloadModal';\nimport ContentListTable from '../Pages/ContentListTable/ContentListTable';\nimport AddContent from '../Pages/ContentListTable/components/AddContent/AddContent';\nimport EditContentModal from '../Pages/ContentListTable/components/EditContentModal/EditContentModal';\nimport PackageModal from '../Pages/ContentListTable/components/PackageModal/PackageModal';\nimport PopularRepositoriesTable from '../Pages/PopularRepositoriesTable/PopularRepositoriesTable';\nimport { useAppContext } from '../middleware/AppContext';\nimport SnapshotListModal from '../Pages/ContentListTable/components/SnapshotListModal/SnapshotListModal';\n\nexport const DEFAULT_ROUTE = '';\nexport const POPULAR_REPOSITORIES_ROUTE = 'popular-repositories';\nexport const ADMIN_TASKS_ROUTE = 'admin-tasks';\n\nexport type TabbedRoute = {\n  title: string;\n  route: string;\n  Element: () => JSX.Element;\n  ChildRoutes?: { path: string; Element: () => JSX.Element }[];\n};\n\nexport default function useTabbedRoutes(): TabbedRoute[] {\n  const { features, rbac } = useAppContext();\n  const hasWrite = rbac?.write;\n\n  // Wrap in a memo to prevent recalculation if values haven't changed.\n  const tabs = useMemo(\n    () => [\n      {\n        title: 'Your repositories',\n        route: DEFAULT_ROUTE,\n        Element: ContentListTable,\n        ChildRoutes: [\n          ...(hasWrite // These child routes are only permitted with rbac?.write access\n            ? [\n                { path: 'edit-repository', Element: EditContentModal },\n                { path: 'add-repository', Element: AddContent },\n              ]\n            : []),\n          ...(features?.admintasks?.enabled && features.snapshots?.accessible\n            ? [{ path: ':repoUUID/snapshots', Element: SnapshotListModal }]\n            : []),\n          { path: ':repoUUID/packages', Element: PackageModal },\n        ],\n      },\n      {\n        title: 'Popular repositories',\n        route: POPULAR_REPOSITORIES_ROUTE,\n        Element: PopularRepositoriesTable,\n      },\n      ...(features?.admintasks?.enabled && features.admintasks?.accessible\n        ? [\n            {\n              title: 'Admin tasks',\n              route: ADMIN_TASKS_ROUTE,\n              Element: AdminTaskTable,\n              ChildRoutes: [{ path: ':taskUUID', Element: ViewPayloadModal }],\n            },\n          ]\n        : []),\n    ],\n    [hasWrite, features],\n  );\n\n  return tabs;\n}\n","import { Tooltip, TooltipProps } from '@patternfly/react-core';\nimport { cloneElement } from 'react';\n\ninterface Props extends TooltipProps {\n  show: boolean;\n  setDisabled?: boolean;\n}\n\nconst ConditionalTooltip = ({ show, children, setDisabled, ...rest }: Props) =>\n  show ? (\n    <Tooltip {...rest}>\n      <div>\n        {children && cloneElement(children, setDisabled ? { isDisabled: setDisabled } : undefined)}\n      </div>\n    </Tooltip>\n  ) : (\n    <>{children}</>\n  );\n\nexport default ConditionalTooltip;\n","import { Dropdown, DropdownItem, KebabToggle } from '@patternfly/react-core';\nimport { useState } from 'react';\nimport { useAppContext } from '../../middleware/AppContext';\nimport ConditionalTooltip from '../ConditionalTooltip/ConditionalTooltip';\n\ninterface Props {\n  atLeastOneRepoChecked: boolean;\n  numberOfReposChecked: number;\n  deleteCheckedRepos: () => void;\n}\n\nconst DeleteKebab = ({\n  atLeastOneRepoChecked,\n  numberOfReposChecked,\n  deleteCheckedRepos,\n}: Props) => {\n  const { rbac } = useAppContext();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onToggle = (isOpen: boolean) => {\n    setIsOpen(isOpen);\n  };\n\n  const onFocus = () => {\n    const element = document.getElementById('delete-kebab') as HTMLElement;\n    element.focus();\n  };\n\n  const onSelect = () => {\n    setIsOpen(false);\n    onFocus();\n  };\n\n  const dropdownItems = [\n    <ConditionalTooltip\n      key='delete'\n      content='Make a selection below to delete multiple repositories'\n      show={!atLeastOneRepoChecked}\n      setDisabled\n    >\n      <DropdownItem onClick={deleteCheckedRepos}>\n        {atLeastOneRepoChecked\n          ? `Remove ${numberOfReposChecked} repositories`\n          : 'Remove selected repositories'}\n      </DropdownItem>\n    </ConditionalTooltip>,\n  ];\n\n  return (\n    <Dropdown\n      onSelect={onSelect}\n      toggle={<KebabToggle id='delete-kebab' onToggle={onToggle} isDisabled={!rbac?.write} />}\n      isOpen={isOpen}\n      isPlain\n      dropdownItems={dropdownItems}\n      direction='up'\n    />\n  );\n};\n\nexport default DeleteKebab;\n","import { Select, SelectOption, SelectProps, SelectVariant } from '@patternfly/react-core';\nimport React, { Dispatch, SetStateAction, useState } from 'react';\n\ninterface DropdownSelectProps extends Partial<SelectProps> {\n  options: Array<string>;\n  variant: SelectVariant.single | SelectVariant.checkbox | SelectVariant.typeaheadMulti;\n  selectedProp: any; // eslint-disable-line\n  setSelected: Dispatch<SetStateAction<any>>; // eslint-disable-line\n  toggleIcon?: React.ReactElement;\n  placeholderText?: string | React.ReactNode;\n  isDisabled?: boolean;\n}\n\nconst DropdownSelect = ({\n  options,\n  variant,\n  selectedProp,\n  setSelected,\n  toggleIcon,\n  placeholderText,\n  isDisabled,\n  ...rest\n}: DropdownSelectProps) => {\n  const selected = Array.isArray(selectedProp) ? selectedProp : [selectedProp];\n  const [isOpen, setIsOpen] = useState(false);\n  const onToggle = (isOpen) => setIsOpen(isOpen);\n\n  const selectFrom = options.map((option, index) => (\n    <SelectOption key={option + index} id={option} value={option} />\n  ));\n\n  const onSelect = (_event, selection) => {\n    switch (variant) {\n      case SelectVariant.single:\n        setSelected(selection);\n        setIsOpen(false);\n        break;\n      case SelectVariant.typeaheadMulti:\n      case SelectVariant.checkbox:\n        if (Array.isArray(selectedProp)) {\n          if (selected.includes(selection)) {\n            const remaining = selected.filter((item) => item !== selection);\n            setSelected(remaining);\n            break;\n          }\n          setSelected([...selected, selection]);\n          break;\n        }\n        break;\n    }\n  };\n\n  return (\n    <Select\n      isDisabled={isDisabled}\n      variant={variant}\n      onSelect={onSelect}\n      selections={selected}\n      isOpen={isOpen}\n      onToggle={onToggle}\n      placeholderText={placeholderText}\n      isCheckboxSelectionBadgeHidden\n      toggleIcon={toggleIcon}\n      {...rest}\n    >\n      {selectFrom}\n    </Select>\n  );\n};\n\nexport default DropdownSelect;\n","import {\n  EmptyStateBody,\n  EmptyState,\n  EmptyStateVariant,\n  Title,\n  EmptyStateIcon,\n  Button,\n} from '@patternfly/react-core';\nimport { SearchIcon, PlusCircleIcon } from '@patternfly/react-icons/dist/js/icons';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  emptyStateContainer: {\n    display: 'flex',\n    flexGrow: 1,\n  },\n  emptyStateBody: {\n    marginBottom: '16px',\n  },\n});\n\ninterface Props {\n  notFiltered?: boolean;\n  clearFilters: () => void;\n  itemName: string;\n  notFilteredBody?: string;\n  notFilteredButton?: React.ReactNode;\n}\n\nconst EmptyTableState = ({\n  notFiltered,\n  clearFilters,\n  itemName,\n  notFilteredBody,\n  notFilteredButton,\n}: Props) => {\n  const classes = useStyles();\n  return (\n    <EmptyState variant={EmptyStateVariant.full} className={classes.emptyStateContainer}>\n      <EmptyStateIcon icon={notFiltered ? PlusCircleIcon : SearchIcon} />\n      <Title headingLevel='h2' size='lg' ouiaId='empty_custom_title'>\n        {notFiltered ? `No ${itemName}` : `No ${itemName} match the filter criteria`}\n      </Title>\n      <EmptyStateBody className={classes.emptyStateBody}>\n        {notFiltered ? notFilteredBody : 'Clear all filters to show more results'}\n      </EmptyStateBody>\n      {notFiltered ? (\n        notFilteredButton\n      ) : (\n        <Button ouiaId='clear_filters' variant='link' onClick={clearFilters}>\n          Clear all filters\n        </Button>\n      )}\n    </EmptyState>\n  );\n};\n\nexport default EmptyTableState;\n","import { ErrorBoundary as _ErrorBoundaryPage } from '@redhat-cloud-services/frontend-components';\n\nconst ErrorBoundaryPage = _ErrorBoundaryPage as unknown as React.FunctionComponent<{\n  children?: React.ReactNode;\n  headerTitle: string;\n  errorTitle?: string;\n  errorDescription?: string;\n}>;\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nexport const ErrorPage = ({ children }: Props) => (\n  <ErrorBoundaryPage\n    headerTitle='Content Sources'\n    errorTitle='Unhandled error'\n    errorDescription='There was a problem trying to process your request'\n  >\n    {children}\n  </ErrorBoundaryPage>\n);\n","import { Text } from '@patternfly/react-core';\nimport {\n  PageHeader as _PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components';\nimport { PageHeaderProps as _PageHeaderProps } from '@redhat-cloud-services/frontend-components/PageHeader/PageHeader';\nimport { global_Color_100 } from '@patternfly/react-tokens';\n\nimport { FunctionComponent, ReactElement } from 'react';\nimport { createUseStyles } from 'react-jss';\n\ninterface PageHeaderProps extends _PageHeaderProps {\n  children?: ReactElement | Array<ReactElement>;\n}\n\n// Example of how to extend inaccurately typed imports\nconst PageHeader = _PageHeader as FunctionComponent<PageHeaderProps>;\n\nconst useStyles = createUseStyles({\n  subtext: {\n    color: global_Color_100.value,\n    paddingTop: '8px',\n  },\n});\n\nexport default function Header() {\n  const classes = useStyles();\n\n  return (\n    <PageHeader>\n      <PageHeaderTitle title='Custom Repositories' />\n      <Text className={classes.subtext} ouiaId='custom_repositories_description'>\n        View all custom repositories within your organization.\n      </Text>\n    </PageHeader>\n  );\n}\n","interface Props {\n  hide: boolean;\n  children?: React.ReactNode;\n}\n\nconst Hide = ({ hide, children }: Props) => (hide ? <></> : <>{children}</>);\n\nexport default Hide;\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Grid,\n  Title,\n} from '@patternfly/react-core';\nimport { LockIcon } from '@patternfly/react-icons';\nimport {\n  PageHeader as _PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components';\nimport { FunctionComponent } from 'react';\n\nconst PageHeader = _PageHeader as unknown as FunctionComponent<{\n  children: React.ReactNode;\n}>;\n\nexport const NoPermissionsPage: React.FunctionComponent = () => (\n  <>\n    <PageHeader>\n      <PageHeaderTitle title='Repositories' />\n    </PageHeader>\n    <Grid style={{ margin: '24px' }}>\n      <EmptyState variant={EmptyStateVariant.full}>\n        <EmptyStateIcon icon={LockIcon} />\n        <Title headingLevel='h5' size='lg'>\n          You do not have access to Repositories\n        </Title>\n        <EmptyStateBody>\n          Contact your organization administrator(s) for more information.\n        </EmptyStateBody>\n      </EmptyState>\n    </Grid>\n  </>\n);\n","import { Button, ExpandableSection, Grid, Spinner, Text } from '@patternfly/react-core';\nimport { global_BackgroundColor_100 } from '@patternfly/react-tokens';\n\nimport { useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { useChrome } from '@redhat-cloud-services/frontend-components/useChrome';\nimport { ArrowRightIcon } from '@patternfly/react-icons';\n\nconst useStyles = createUseStyles({\n  quickstartContainer: {\n    margin: '24px 24px 0',\n    backgroundColor: global_BackgroundColor_100.value,\n  },\n  quickstartSpinner: {\n    margin: '0 0 -4px 5px',\n  },\n  buildCustomButton: {\n    marginTop: '20px',\n    padding: 0,\n    fontWeight: 600,\n  },\n});\n\ninterface QuickStarts {\n  version: number;\n  updateQuickStarts: (key: string, quickstarts: unknown[]) => void;\n  toggle: (quickstartId: string) => void;\n  Catalog: unknown;\n  activateQuickstart: (key: string) => Promise<void>;\n}\n\nconst quickStartExpandedKey = 'QUICKSTART_EXPANDED';\n\nexport default function QuickStart() {\n  const { isBeta, quickStarts } = useChrome();\n  // These values only need to be computed once\n  // So we wrap them in useMemos and give them an empty dependency array to prevent them from being called on every render.\n  const isPreview = useMemo(isBeta, []);\n  const quickStartExpanded = useMemo(\n    () => localStorage.getItem(quickStartExpandedKey) || 'true',\n    [],\n  );\n\n  const [isExpanded, setIsExpanded] = useState<boolean>(quickStartExpanded === 'true');\n  const [quickStartLoading, setQuickStartLoading] = useState(false);\n  const classes = useStyles();\n\n  if (!isPreview) return <></>;\n\n  const onToggle = () =>\n    setIsExpanded((prev) => {\n      localStorage.setItem(quickStartExpandedKey, `${!prev}`);\n      return !prev;\n    });\n\n  const activateQuickStart = async () => {\n    setQuickStartLoading(true);\n    try {\n      await (quickStarts as QuickStarts)?.activateQuickstart('insights-custom-repos');\n      onToggle();\n    } catch (error) {\n      console.warn(error);\n    }\n    setQuickStartLoading(false);\n  };\n\n  return (\n    <Grid className={classes.quickstartContainer}>\n      <ExpandableSection\n        toggleText='Need help getting started with Preview features?'\n        onToggle={onToggle}\n        isExpanded={isExpanded}\n        displaySize='large'\n        aria-label='quickStart-expansion'\n        data-ouia-component-id='quickstart_expand'\n      >\n        <Text>For help getting started, access the quick start below:</Text>\n        <Button\n          className={classes.buildCustomButton}\n          iconPosition='right'\n          icon={\n            quickStartLoading ? (\n              <Spinner size='md' className={classes.quickstartSpinner} />\n            ) : (\n              <ArrowRightIcon />\n            )\n          }\n          variant='link'\n          ouiaId='quickstart_link'\n          onClick={activateQuickStart}\n          isDisabled={quickStartLoading}\n        >\n          Build an Image with Custom Content\n        </Button>\n      </ExpandableSection>\n    </Grid>\n  );\n}\n","import { createUseStyles } from 'react-jss';\nimport {\n  global_danger_color_200,\n  global_info_color_200,\n  global_success_color_200,\n  global_warning_color_200,\n} from '@patternfly/react-tokens';\n\nconst red = global_danger_color_200.value;\nconst green = global_success_color_200.value;\nconst gold = global_warning_color_200.value;\nconst blue = global_info_color_200.value;\n\ninterface Props {\n  color: 'red' | 'green' | 'gold' | 'blue';\n  isLink?: boolean;\n  children?: React.ReactNode;\n}\n\nconst useStyles = ({ isLink }: Props) =>\n  createUseStyles({\n    fontStyle: {\n      fontWeight: 'bold',\n      fontSize: '14px',\n      ...(isLink\n        ? {\n            textDecoration: 'grey dotted underline',\n            cursor: 'pointer',\n          }\n        : {}),\n    },\n    red: { extend: 'fontStyle', color: red },\n    green: { extend: 'fontStyle', color: green },\n    gold: { extend: 'fontStyle', color: gold },\n    blue: { extend: 'fontStyle', color: blue },\n  });\n\nconst StatusText = (props: Props) => {\n  const classes = useStyles(props)();\n  const { color, children } = props;\n\n  return <span className={classes[color]}>{children}</span>;\n};\n\nexport default StatusText;\n","import { ExternalLinkAltIcon } from '@patternfly/react-icons';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  link: {\n    alignItems: 'center',\n    display: 'flex',\n    width: 'fit-content', // Prevents overflow of clickable area beyond visible content\n  },\n  icon: {\n    marginLeft: '5px',\n  },\n});\n\ninterface Props {\n  href: string;\n}\n\nconst UrlWithExternalIcon = ({ href }: Props) => {\n  const classes = useStyles();\n  return (\n    <a href={href} className={classes.link} rel='noreferrer' target='_blank'>\n      {href} <ExternalLinkAltIcon className={classes.icon} />\n    </a>\n  );\n};\n\nexport default UrlWithExternalIcon;\n","import { createContext, ReactNode, useContext, useEffect, useState } from 'react';\nimport { fetchRBAC, Rbac } from '@redhat-cloud-services/insights-common-typescript';\nimport { Features } from '../services/Features/FeatureApi';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { getRegistry as _getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport { insights } from '../../package.json';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { useFetchFeaturesQuery } from '../services/Features/FeatureQueries';\n\nconst getRegistry = _getRegistry as unknown as () => { register: ({ notifications }) => void };\nconst { appname } = insights;\n\nexport interface AppContextInterface {\n  rbac?: { read: boolean; write: boolean };\n  features: Features | null;\n  isFetchingFeatures: boolean;\n}\n\nexport const AppContext = createContext({} as AppContextInterface);\n\nexport const ContextProvider = ({ children }: { children: ReactNode }) => {\n  const [rbac, setRbac] = useState<Rbac | undefined>(undefined);\n  const [features, setFeatures] = useState<Features | null>(null);\n  const chrome = useChrome();\n  const { fetchFeatures, isLoading: isFetchingFeatures } = useFetchFeaturesQuery();\n\n  useEffect(() => {\n    // Get chrome and register app\n    const registry = getRegistry();\n    registry.register({ notifications: notificationsReducer });\n\n    if (chrome && !rbac) {\n      // Get permissions and store them in context\n      chrome.auth.getUser().then(async () => fetchRBAC(appname).then(setRbac));\n    }\n\n    (async () => {\n      const fetchedFeatures = await fetchFeatures();\n      setFeatures(fetchedFeatures);\n    })();\n  }, [!!chrome]);\n\n  return (\n    <AppContext.Provider\n      value={{\n        rbac: rbac\n          ? {\n              read: rbac?.hasPermission('content-sources', 'repositories', 'read'),\n              write: rbac?.hasPermission('content-sources', 'repositories', 'write'),\n            }\n          : undefined,\n        features: features,\n        isFetchingFeatures: isFetchingFeatures,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useAppContext = () => useContext(AppContext);\n","import axios from 'axios';\nimport { Links, Meta } from '../Content/ContentApi';\n\nexport interface AdminTaskFilterData {\n  statuses: string[];\n  accountId: string;\n  orgId: string;\n}\n\nexport interface PulpData {\n  sync?: Record<string, unknown>;\n  publication?: Record<string, unknown>;\n  distribution?: Record<string, unknown>;\n}\n\nexport interface AdminTask {\n  uuid: string;\n  account_id?: string;\n  org_id: string;\n  typename: string;\n  status: 'running' | 'failed' | 'completed' | 'canceled' | 'pending';\n  queued_at: string;\n  started_at: string;\n  finished_at: string;\n  error: string;\n  payload?: Record<string, unknown>;\n  pulp?: PulpData;\n}\n\nexport type AdminTaskList = AdminTask[];\n\nexport interface AdminTaskListResponse {\n  data: AdminTaskList;\n  links: Links;\n  meta: Meta;\n}\n\nexport const getAdminTasks: (\n  page: number,\n  limit: number,\n  filterData: AdminTaskFilterData,\n  sortBy: string,\n) => Promise<AdminTaskListResponse> = async (page, limit, filterData, sortBy) => {\n  const accountIdParam = filterData.accountId;\n  const orgIdParam = filterData.orgId;\n  const statusParam = filterData?.statuses?.join(',').toLowerCase();\n  const { data } = await axios.get(\n    `/api/content-sources/v1/admin/tasks/?offset=${\n      (page - 1) * limit\n    }&limit=${limit}&account_id=${accountIdParam}&org_id=${orgIdParam}&status=${statusParam}&sort_by=${sortBy}`,\n  );\n  return data;\n};\n\nexport const getAdminTask: (uuid: string) => Promise<AdminTask> = async (uuid) => {\n  const { data } = await axios.get(`/api/content-sources/v1/admin/tasks/${uuid}`);\n  return data;\n};\n","import { useState } from 'react';\nimport { useQuery } from 'react-query';\nimport {\n  AdminTaskFilterData,\n  AdminTaskListResponse,\n  getAdminTasks,\n  AdminTask,\n  getAdminTask,\n} from './AdminTaskApi';\nimport useErrorNotification from '../../Hooks/useErrorNotification';\n\nexport const ADMIN_TASK_LIST_KEY = 'ADMIN_TASK_LIST_KEY';\nexport const ADMIN_TASK_KEY = 'ADMIN_TASK_KEY';\n\nconst ADMIN_TASK_LIST_POLLING_TIME = 15000; // 15 seconds\n\nexport const useAdminTaskListQuery = (\n  page: number,\n  limit: number,\n  filterData: AdminTaskFilterData,\n  sortBy: string,\n) => {\n  const [polling, setPolling] = useState(false);\n  const [pollCount, setPollCount] = useState(0);\n  const errorNotifier = useErrorNotification();\n  const flattenedFilterData = Object.values(filterData).flat(1);\n  return useQuery<AdminTaskListResponse>(\n    [ADMIN_TASK_LIST_KEY, page, limit, sortBy, ...flattenedFilterData],\n    () => getAdminTasks(page, limit, filterData, sortBy),\n    {\n      onSuccess: (data) => {\n        const containsRunning = data?.data?.some(({ status }) => status === 'running');\n        if (polling && containsRunning) {\n          // Count each consecutive time polling occurs\n          setPollCount(pollCount + 1);\n        }\n        if (polling && !containsRunning) {\n          // We were polling, but now the data is valid, we stop the count.\n          setPollCount(0);\n        }\n        if (pollCount > 40) {\n          // If polling occurs 40 times in a row, we stop it. Likely a data/kafka issue has occurred with the API.\n          return setPolling(false);\n        }\n        // This sets the polling state based whether the data contains any \"Running\" status\n        return setPolling(containsRunning);\n      },\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onError: (err: any) => {\n        setPolling(false);\n        setPollCount(0);\n        errorNotifier('Unable to get admin task list', 'An error occurred', err);\n      },\n      refetchInterval: polling ? ADMIN_TASK_LIST_POLLING_TIME : undefined,\n      refetchIntervalInBackground: false, // This prevents endless polling when our app isn't the focus tab in a browser\n      refetchOnWindowFocus: polling, // If polling and navigate to another tab, on refocus, we want to poll once more. (This is based off of the stalestime below)\n      keepPreviousData: true,\n      staleTime: 20000,\n    },\n  );\n};\n\nexport const useFetchAdminTaskQuery = (uuid?: string) => {\n  const errorNotifier = useErrorNotification();\n  return useQuery<AdminTask>(\n    [ADMIN_TASK_KEY, uuid],\n    () => getAdminTask(uuid as string), // Will be disabled if undefined\n    {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onError: (err: any) => {\n        errorNotifier(\n          'Unable to find an Admin task with the given UUID.',\n          'An error occurred',\n          err,\n        );\n      },\n      keepPreviousData: true,\n      staleTime: 20000,\n    },\n  );\n};\n","import axios from 'axios';\n\nexport interface ContentItem {\n  uuid: string;\n  name: string;\n  package_count: number;\n  url: string;\n  distribution_versions: Array<string>;\n  distribution_arch: string;\n  account_id: string;\n  org_id: string;\n  status: string;\n  last_introspection_error: string;\n  last_introspection_time: string;\n  failed_introspections_count: number;\n  gpg_key: string;\n  metadata_verification: boolean;\n  snapshot: boolean;\n  last_snapshot_uuid?: string;\n  last_snapshot?: SnapshotItem;\n}\n\nexport interface PopularRepository {\n  uuid: string;\n  existing_name: string;\n  suggested_name: string;\n  url: string;\n  distribution_versions: Array<string>;\n  distribution_arch: string;\n  gpg_key: string;\n  metadata_verification: boolean;\n}\n\nexport interface CreateContentRequestItem {\n  name: string;\n  url: string;\n  distribution_versions?: Array<string>;\n  distribution_arch?: string;\n  gpg_key?: string;\n  metadata_verification?: boolean;\n  snapshot?: boolean;\n}\n\nexport interface ErrorItem {\n  status: number;\n  title?: string;\n  detail?: string;\n}\n\nexport interface ErrorResponse {\n  errors: ErrorItem[];\n}\n\nexport type CreateContentRequestResponse = ContentItem[] | ErrorResponse;\n\nexport type CreateContentRequest = Array<CreateContentRequestItem>;\n\nexport interface EditContentRequestItem {\n  uuid: string;\n  name: string;\n  url: string;\n  distribution_arch: string;\n  distribution_versions: string[];\n  gpg_key: string;\n  metadata_verification: boolean;\n  snapshot: boolean;\n}\n\nexport type EditContentRequest = Array<EditContentRequestItem>;\n\nexport type ContentList = Array<ContentItem>;\n\nexport type Links = {\n  first: string;\n  last: string;\n  next?: string;\n  prev?: string;\n};\n\nexport type Meta = {\n  count: number;\n  limit: number;\n  offset: number;\n};\n\nexport interface ContentListResponse {\n  data: ContentList;\n  links: Links;\n  meta: Meta;\n}\n\nexport interface PopularRepositoriesResponse {\n  data: PopularRepository[];\n  links: Links;\n  meta: Meta;\n}\n\nexport interface RepositoryParamsResponse {\n  distribution_versions: Array<NameLabel>;\n  distribution_arches: Array<NameLabel>;\n}\n\nexport interface GpgKeyResponse {\n  gpg_key: string;\n}\n\nexport type NameLabel = {\n  name: string;\n  label: string;\n};\n\nexport type FilterData = {\n  searchQuery: string;\n  versions: Array<string>;\n  arches: Array<string>;\n  statuses: Array<string>;\n};\n\nexport type ValidateItem = {\n  skipped: boolean;\n  valid: boolean;\n  error: string;\n};\n\nexport interface ValidationUrl extends ValidateItem {\n  http_code: number;\n  metadata_present: boolean;\n  metadata_signature_present: boolean;\n}\n\nexport type ValidationResponse = {\n  name?: ValidateItem;\n  url?: ValidationUrl;\n  distribution_versions?: ValidateItem;\n  distribution_arch?: ValidateItem;\n  gpg_key?: ValidateItem;\n}[];\n\nexport interface PackageItem {\n  arch: string;\n  checksum: string;\n  epoch: number;\n  name: string;\n  release: string;\n  summary: string;\n  uuid: string;\n  version: string;\n}\n\nexport type PackagesResponse = {\n  data: PackageItem[];\n  links: Links;\n  meta: Meta;\n};\n\nexport type ContentCounts = {\n  'rpm.advisory'?: number;\n  'rpm.package'?: number;\n  'rpm.packagecategory'?: number;\n  'rpm.packageenvironment'?: number;\n  'rpm.packagegroup'?: number;\n};\n\nexport interface SnapshotItem {\n  created_at: string;\n  distribution_path: string;\n  content_counts: ContentCounts;\n  added_counts: ContentCounts;\n  removed_counts: ContentCounts;\n}\n\nexport type SnapshotListResponse = {\n  data: SnapshotItem[];\n  links: Links;\n  meta: Meta;\n};\n\nexport type IntrospectRepositoryRequestItem = {\n  uuid: string;\n  reset_count?: boolean;\n};\n\nexport const getPopularRepositories: (\n  page: number,\n  limit: number,\n  filterData?: Partial<FilterData>,\n  sortBy?: string,\n) => Promise<PopularRepositoriesResponse> = async (page, limit, filterData, sortBy) => {\n  const searchQuery = filterData?.searchQuery;\n  const versionParam = filterData?.versions?.join(',');\n  const archParam = filterData?.arches?.join(',');\n  const { data } = await axios.get(\n    `/api/content-sources/v1/popular_repositories/?offset=${\n      (page - 1) * limit\n    }&limit=${limit}&search=${searchQuery}&version=${versionParam}&arch=${archParam}&sort_by=${sortBy}`,\n  );\n  return data;\n};\n\nexport const getContentList: (\n  page: number,\n  limit: number,\n  filterData: FilterData,\n  sortBy: string,\n) => Promise<ContentListResponse> = async (page, limit, filterData, sortBy) => {\n  const searchQuery = filterData.searchQuery;\n  const versionParam = filterData.versions.join(',');\n  const archParam = filterData.arches.join(',');\n  const statusParam = filterData?.statuses?.join(',');\n  const { data } = await axios.get(\n    `/api/content-sources/v1/repositories/?offset=${\n      (page - 1) * limit\n    }&limit=${limit}&search=${searchQuery}&version=${versionParam}&status=${statusParam}&arch=${archParam}&sort_by=${sortBy}`,\n  );\n  return data;\n};\n\nexport const fetchContentItem: (uuid: string) => Promise<ContentItem> = async (uuid: string) => {\n  const { data } = await axios.get(`/api/content-sources/v1/repositories/${uuid}`);\n  return data;\n};\n\nexport const deleteContentListItem: (uuid: string) => Promise<void> = async (uuid: string) => {\n  const { data } = await axios.delete(`/api/content-sources/v1/repositories/${uuid}`);\n  return data;\n};\n\nexport const deleteContentListItems: (uuids: string[]) => Promise<void> = async (\n  uuids: string[],\n) => {\n  const { data } = await axios.post('/api/content-sources/v1/repositories/bulk_delete/', { uuids });\n  return data;\n};\n\nexport const AddContentListItems: (\n  request: CreateContentRequest,\n) => Promise<CreateContentRequestResponse> = async (request) => {\n  const { data } = await axios.post('/api/content-sources/v1.0/repositories/bulk_create/', request);\n  return data;\n};\n\nexport const EditContentListItem: (request: EditContentRequestItem) => Promise<void> = async (\n  request,\n) => {\n  const { data } = await axios.patch(\n    `/api/content-sources/v1.0/repositories/${request.uuid}`,\n    request,\n  );\n  return data;\n};\n\nexport const getRepositoryParams: () => Promise<RepositoryParamsResponse> = async () => {\n  const { data } = await axios.get('/api/content-sources/v1/repository_parameters/');\n  return data;\n};\n\nexport const validateContentListItems: (\n  request: CreateContentRequest,\n) => Promise<ValidationResponse> = async (request) => {\n  const { data } = await axios.post(\n    '/api/content-sources/v1.0/repository_parameters/validate/',\n    request,\n  );\n  return data;\n};\n\nexport const getGpgKey: (url: string) => Promise<GpgKeyResponse> = async (url: string) => {\n  const { data } = await axios.post(\n    '/api/content-sources/v1/repository_parameters/external_gpg_key/',\n    { url },\n  );\n  return data;\n};\n\nexport const getPackages: (\n  uuid: string,\n  page: number,\n  limit: number,\n  searchQuery: string,\n  sortBy: string,\n) => Promise<PackagesResponse> = async (\n  uuid: string,\n  page: number,\n  limit: number,\n  searchQuery: string,\n  sortBy: string,\n) => {\n  const { data } = await axios.get(\n    `/api/content-sources/v1.0/repositories/${uuid}/rpms?offset=${\n      (page - 1) * limit\n    }&limit=${limit}&search=${searchQuery}&sort_by=${sortBy}`,\n  );\n  return data;\n};\n\nexport const getSnapshotList: (\n  uuid: string,\n  page: number,\n  limit: number,\n  searchQuery: string,\n  sortBy: string,\n) => Promise<SnapshotListResponse> = async (\n  uuid: string,\n  page: number,\n  limit: number,\n  searchQuery: string,\n  sortBy: string,\n) => {\n  const { data } = await axios.get(\n    `/api/content-sources/v1.0/repositories/${uuid}/snapshots/?offset=${\n      (page - 1) * limit\n    }&limit=${limit}&search=${searchQuery}&sort_by=${sortBy}`,\n  );\n  return data;\n};\n\nexport const introspectRepository: (\n  request: IntrospectRepositoryRequestItem,\n) => Promise<void> = async (request) => {\n  const { data } = await axios.post(\n    `/api/content-sources/v1/repositories/${request.uuid}/introspect/`,\n    { reset_count: request.reset_count },\n  );\n  return data;\n};\n","import { AlertVariant } from '@patternfly/react-core';\nimport { useState } from 'react';\nimport { QueryClient, useMutation, useQuery } from 'react-query';\nimport { cloneDeep } from 'lodash';\n\nimport {\n  ContentListResponse,\n  deleteContentListItem,\n  getContentList,\n  RepositoryParamsResponse,\n  getRepositoryParams,\n  AddContentListItems,\n  CreateContentRequest,\n  FilterData,\n  validateContentListItems,\n  EditContentListItem,\n  EditContentRequest,\n  getGpgKey,\n  PackagesResponse,\n  getPackages,\n  getPopularRepositories,\n  PopularRepositoriesResponse,\n  CreateContentRequestResponse,\n  ContentItem,\n  introspectRepository,\n  IntrospectRepositoryRequestItem,\n  fetchContentItem,\n  deleteContentListItems,\n  Meta,\n  ErrorResponse,\n  getSnapshotList,\n  SnapshotListResponse,\n} from './ContentApi';\nimport { ADMIN_TASK_LIST_KEY } from '../AdminTasks/AdminTaskQueries';\nimport useErrorNotification from '../../Hooks/useErrorNotification';\nimport useNotification from '../../Hooks/useNotification';\n\nexport const CONTENT_LIST_KEY = 'CONTENT_LIST_KEY';\nexport const POPULAR_REPOSITORIES_LIST_KEY = 'POPULAR_REPOSITORIES_LIST_KEY';\nexport const REPOSITORY_PARAMS_KEY = 'REPOSITORY_PARAMS_KEY';\nexport const CREATE_PARAMS_KEY = 'CREATE_PARAMS_KEY';\nexport const PACKAGES_KEY = 'PACKAGES_KEY';\nexport const LIST_SNAPSHOTS_KEY = 'PACKAGES_KEY';\nexport const CONTENT_ITEM_KEY = 'CONTENT_ITEM_KEY';\n\nconst CONTENT_LIST_POLLING_TIME = 15000; // 15 seconds\n\nexport const useFetchContent = (uuids: string[]) => {\n  const errorNotifier = useErrorNotification();\n  return useQuery<ContentItem>([CONTENT_ITEM_KEY, ...uuids], () => fetchContentItem(uuids[0]), {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onError: (err: any) =>\n      errorNotifier('Unable to find associated repository.', 'An error occurred', err),\n    keepPreviousData: true,\n    staleTime: 20000,\n  });\n};\n\nexport const usePopularRepositoriesQuery = (\n  page: number,\n  limit: number,\n  filterData?: Partial<FilterData>,\n  sortBy?: string,\n) => {\n  const errorNotifier = useErrorNotification();\n  return useQuery<PopularRepositoriesResponse>(\n    [POPULAR_REPOSITORIES_LIST_KEY, page, limit, sortBy, ...Object.values(filterData || {})], // NOTE: Update this if larger list!!!!\n    () => getPopularRepositories(page, limit, filterData, sortBy),\n    {\n      keepPreviousData: true,\n      staleTime: 20000,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onError: (err: any) =>\n        errorNotifier('Unable to get popular repositories list', 'An error occurred', err),\n    },\n  );\n};\n\nexport const useContentListQuery = (\n  page: number,\n  limit: number,\n  filterData: FilterData,\n  sortBy: string,\n) => {\n  const [polling, setPolling] = useState(false);\n  const [pollCount, setPollCount] = useState(0);\n  const errorNotifier = useErrorNotification();\n  return useQuery<ContentListResponse>(\n    // Below MUST match the \"contentListKeyArray\" seen below in the useDeleteContent.\n    [CONTENT_LIST_KEY, page, limit, sortBy, ...Object.values(filterData)],\n    () => getContentList(page, limit, filterData, sortBy),\n    {\n      onSuccess: (data) => {\n        const containsPending = data?.data?.some(\n          ({ status }) => status === 'Pending' || status === '',\n        );\n        if (polling && containsPending) {\n          // Count each consecutive time polling occurs\n          setPollCount(pollCount + 1);\n        }\n        if (polling && !containsPending) {\n          // We were polling, but now the data is valid, we stop the count.\n          setPollCount(0);\n        }\n        if (pollCount > 40) {\n          // If polling occurs 40 times in a row, we stop it. Likely a data/kafka issue has occurred with the API.\n          return setPolling(false);\n        }\n        // This sets the polling state based whether the data contains any \"Pending\" status\n        return setPolling(containsPending);\n      },\n      onError: (err) => {\n        setPolling(false);\n        setPollCount(0);\n        errorNotifier('Unable to get repositories list', 'An error occurred', err);\n      },\n      refetchInterval: polling ? CONTENT_LIST_POLLING_TIME : undefined,\n      refetchIntervalInBackground: false, // This prevents endless polling when our app isn't the focus tab in a browser\n      refetchOnWindowFocus: polling, // If polling and navigate to another tab, on refocus, we want to poll once more. (This is based off of the stalestime below)\n      keepPreviousData: true,\n      staleTime: 20000,\n    },\n  );\n};\n\nexport const useAddContentQuery = (queryClient: QueryClient, request: CreateContentRequest) => {\n  const errorNotifier = useErrorNotification();\n  const { notify } = useNotification();\n  return useMutation(() => AddContentListItems(request.filter((item) => !!item)), {\n    onSuccess: (data: CreateContentRequestResponse) => {\n      const hasPending = (data as ContentItem[]).some(({ status }) => status === 'Pending');\n\n      notify({\n        variant: AlertVariant.success,\n        title:\n          request?.length > 1\n            ? `${request?.length} custom repositories added`\n            : `Custom repository \"${request?.[0]?.name}\" added`,\n        description: hasPending\n          ? 'Repository introspection in progress'\n          : 'Repository introspection data already available',\n      });\n\n      queryClient.invalidateQueries(CONTENT_LIST_KEY);\n      queryClient.invalidateQueries(ADMIN_TASK_LIST_KEY);\n      queryClient.invalidateQueries(POPULAR_REPOSITORIES_LIST_KEY);\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onError: (err: any) => {\n      errorNotifier('Error adding items to content list', 'An error occurred', err);\n    },\n  });\n};\n\nexport const useAddPopularRepositoryQuery = (\n  queryClient: QueryClient,\n  request: CreateContentRequest,\n  page: number,\n  perPage: number,\n  filterData?: FilterData,\n) => {\n  const errorNotifier = useErrorNotification();\n  const { notify } = useNotification();\n  const popularRepositoriesKeyArray = [\n    POPULAR_REPOSITORIES_LIST_KEY,\n    page,\n    perPage,\n    undefined,\n    ...Object.values(filterData || {}),\n  ];\n  const filteredRequest = request.filter((item) => !!item);\n  return useMutation(() => AddContentListItems(filteredRequest), {\n    onMutate: async () => {\n      const { name } = filteredRequest[0];\n      // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n      await queryClient.cancelQueries(popularRepositoriesKeyArray);\n      // Snapshot the previous value\n      const previousPopularData: Partial<PopularRepositoriesResponse> =\n        queryClient.getQueryData(popularRepositoriesKeyArray) || {};\n\n      queryClient.setQueryData(popularRepositoriesKeyArray, () => ({\n        ...previousPopularData,\n        data: previousPopularData.data?.map((data) => {\n          if (name === data.suggested_name && !data.uuid) {\n            return { ...data, uuid: 'temp', existing_name: name };\n          }\n          return data;\n        }),\n      }));\n      return { previousData: previousPopularData };\n    },\n    onSuccess: (data: CreateContentRequestResponse) => {\n      const hasPending = (data as ContentItem[]).some(({ status }) => status === 'Pending');\n      notify({\n        variant: AlertVariant.success,\n        title: `Custom repository \"${data?.[0]?.name}\" added`,\n        description: hasPending\n          ? 'Repository introspection in progress'\n          : 'Repository introspection data already available',\n      });\n\n      queryClient.invalidateQueries(CONTENT_LIST_KEY);\n      queryClient.invalidateQueries(ADMIN_TASK_LIST_KEY);\n      queryClient.invalidateQueries(POPULAR_REPOSITORIES_LIST_KEY);\n    },\n    onError: (err, _newData, context) => {\n      if (context) {\n        const { previousData } = context as {\n          previousData: PopularRepositoriesResponse;\n        };\n        queryClient.setQueryData(popularRepositoriesKeyArray, previousData);\n      }\n      errorNotifier('Error adding item from popularRepo', 'An error occurred', err);\n    },\n  });\n};\n\nexport const useEditContentQuery = (queryClient: QueryClient, request: EditContentRequest) => {\n  const errorNotifier = useErrorNotification();\n  const { notify } = useNotification();\n  return useMutation(() => EditContentListItem(request[0]), {\n    onSuccess: () => {\n      notify({\n        variant: AlertVariant.success,\n        title: `Successfully edited ${request.length} ${request.length > 1 ? 'items' : 'item'}`,\n      });\n\n      queryClient.invalidateQueries(CONTENT_LIST_KEY);\n      queryClient.invalidateQueries(ADMIN_TASK_LIST_KEY);\n      queryClient.invalidateQueries(POPULAR_REPOSITORIES_LIST_KEY);\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onError: (err: any) => {\n      errorNotifier('Error editing items on content list', 'An error occurred', err);\n    },\n  });\n};\n\nexport const useValidateContentList = () => {\n  const errorNotifier = useErrorNotification();\n  return useMutation((request: CreateContentRequest) => validateContentListItems(request), {\n    onError: (err) => {\n      errorNotifier('Error validating form fields', 'An error occurred', err);\n    },\n  });\n};\n\nexport const useDeletePopularRepositoryMutate = (\n  queryClient: QueryClient,\n  page: number,\n  perPage: number,\n  filterData?: FilterData,\n) => {\n  const popularRepositoriesKeyArray = [\n    POPULAR_REPOSITORIES_LIST_KEY,\n    page,\n    perPage,\n    undefined,\n    ...Object.values(filterData || {}),\n  ];\n  const errorNotifier = useErrorNotification();\n  return useMutation(deleteContentListItem, {\n    onMutate: async (uuid: string) => {\n      // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n      await queryClient.cancelQueries(popularRepositoriesKeyArray);\n      // Snapshot the previous value\n      const previousPopularData: Partial<PopularRepositoriesResponse> =\n        queryClient.getQueryData(popularRepositoriesKeyArray) || {};\n\n      queryClient.setQueryData(popularRepositoriesKeyArray, () => ({\n        ...previousPopularData,\n        data: previousPopularData.data?.map((data) => {\n          if (data.uuid === uuid) {\n            return { ...data, uuid: undefined };\n          }\n          return data;\n        }),\n      }));\n      // Return a context object with the snapshotted value\n      return { previousData: previousPopularData, queryClient };\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries(CONTENT_LIST_KEY);\n      queryClient.invalidateQueries(ADMIN_TASK_LIST_KEY);\n      queryClient.invalidateQueries(POPULAR_REPOSITORIES_LIST_KEY);\n    },\n    // If the mutation fails, use the context returned from onMutate to roll back\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onError: (err: any, _newData, context) => {\n      if (context) {\n        const { previousData } = context as {\n          previousData: PopularRepositoriesResponse;\n        };\n        queryClient.setQueryData(popularRepositoriesKeyArray, previousData);\n      }\n      errorNotifier('Unable to delete the given repository.', 'An error occurred', err);\n    },\n  });\n};\n\nexport const useDeleteContentItemMutate = (\n  queryClient: QueryClient,\n  page: number,\n  perPage: number,\n  filterData?: FilterData,\n  sortString?: string,\n) => {\n  // Below MUST match the \"useContentList\" key found above or updates will fail.\n  const contentListKeyArray = [\n    CONTENT_LIST_KEY,\n    page,\n    perPage,\n    sortString,\n    ...Object.values(filterData || {}),\n  ];\n  const errorNotifier = useErrorNotification();\n  return useMutation(deleteContentListItem, {\n    onMutate: async (uuid: string) => {\n      // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n      await queryClient.cancelQueries(contentListKeyArray);\n      // Snapshot the previous value\n      const previousData: Partial<ContentListResponse> =\n        queryClient.getQueryData(contentListKeyArray) || {};\n\n      // Optimistically update to the new value\n      queryClient.setQueryData(contentListKeyArray, () => ({\n        ...previousData,\n        data: previousData.data?.filter((data) => uuid !== data.uuid),\n        meta: previousData.meta\n          ? {\n              ...previousData.meta,\n              count: previousData.meta.count ? previousData.meta.count - 1 : 1,\n            }\n          : undefined,\n      }));\n      // Return a context object with the snapshotted value\n      return { previousData, queryClient };\n    },\n    onSuccess: (_data, _variables, context) => {\n      // Update all of the existing calls \"count\" to prevent number jumping on pagination\n      const { previousData } = context as {\n        previousData: ContentListResponse;\n      };\n      queryClient.setQueriesData(CONTENT_LIST_KEY, (data: Partial<ContentListResponse> = {}) => {\n        if (data?.meta?.count) {\n          data.meta.count = previousData?.meta?.count - 1;\n        }\n\n        return data;\n      });\n      queryClient.invalidateQueries(CONTENT_LIST_KEY);\n      queryClient.invalidateQueries(ADMIN_TASK_LIST_KEY);\n      queryClient.invalidateQueries(POPULAR_REPOSITORIES_LIST_KEY);\n    },\n    // If the mutation fails, use the context returned from onMutate to roll back\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onError: (err: any, _newData, context) => {\n      if (context) {\n        const { previousData } = context as {\n          previousData: ContentListResponse;\n        };\n        queryClient.setQueryData(contentListKeyArray, previousData);\n      }\n      errorNotifier('Unable to delete the given repository.', 'An error occurred', err);\n    },\n  });\n};\n\nexport const useBulkDeleteContentItemMutate = (\n  queryClient: QueryClient,\n  selected: Set<string>,\n  page: number,\n  perPage: number,\n  filterData?: FilterData,\n  sortString?: string,\n) => {\n  const uuids = Array.from(selected);\n  // Below MUST match the \"useContentList\" key found above or updates will fail.\n  const contentListKeyArray = [\n    CONTENT_LIST_KEY,\n    page,\n    perPage,\n    sortString,\n    ...Object.values(filterData || {}),\n  ];\n  const errorNotifier = useErrorNotification();\n  return useMutation(() => deleteContentListItems(uuids), {\n    onMutate: async (checkedRepositories: Set<string>) => {\n      // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n      await queryClient.cancelQueries(contentListKeyArray);\n      // Snapshot the previous value\n      const previousData: Partial<ContentListResponse> =\n        queryClient.getQueryData(contentListKeyArray) || {};\n\n      const newMeta = previousData.meta\n        ? {\n            ...previousData.meta,\n            count: previousData.meta.count ? previousData.meta.count - checkedRepositories.size : 1,\n          }\n        : undefined;\n\n      // Optimistically update to the new value\n      queryClient.setQueryData(contentListKeyArray, () => ({\n        ...previousData,\n        data: previousData.data?.filter((data) => !checkedRepositories.has(data.uuid)),\n        meta: newMeta,\n      }));\n      // Return a context object with the snapshotted value\n      return { previousData, newMeta, queryClient };\n    },\n    onSuccess: (_data, _variables, context) => {\n      // Update all of the existing calls \"count\" to prevent number jumping on pagination\n      const { newMeta } = context as {\n        newMeta: Meta;\n      };\n      queryClient.setQueriesData(CONTENT_LIST_KEY, (data: Partial<ContentListResponse> = {}) => {\n        if (data?.meta?.count) {\n          data.meta.count = newMeta?.count;\n        }\n        return data;\n      });\n      queryClient.invalidateQueries(CONTENT_LIST_KEY);\n      queryClient.invalidateQueries(ADMIN_TASK_LIST_KEY);\n      queryClient.invalidateQueries(POPULAR_REPOSITORIES_LIST_KEY);\n    },\n    // If the mutation fails, use the context returned from onMutate to roll back\n    onError: (err: { response?: { data: ErrorResponse } }, _newData, context) => {\n      if (context) {\n        const { previousData } = context as {\n          previousData: ContentListResponse;\n        };\n        queryClient.setQueryData(contentListKeyArray, previousData);\n      }\n      errorNotifier('Error deleting items from content list', 'An error occurred', err);\n    },\n  });\n};\n\nexport const useRepositoryParams = () =>\n  useQuery<RepositoryParamsResponse>(REPOSITORY_PARAMS_KEY, getRepositoryParams, {\n    keepPreviousData: true,\n    staleTime: Infinity,\n  });\n\nexport const useFetchGpgKey = () => {\n  const errorNotifier = useErrorNotification();\n  const [isLoading, setIsLoading] = useState(false);\n\n  const fetchGpgKey = async (url: string): Promise<string> => {\n    setIsLoading(true);\n    let gpg_key = url;\n    try {\n      const data = await getGpgKey(url);\n      gpg_key = data.gpg_key;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (err: any) {\n      errorNotifier('Error fetching GPG key from provided URL', 'An error occurred', err);\n    }\n    setIsLoading(false);\n    return gpg_key;\n  };\n\n  return { fetchGpgKey, isLoading };\n};\n\nexport const useGetSnapshotList = (\n  uuid: string,\n  page: number,\n  limit: number,\n  searchQuery: string,\n  sortBy: string,\n) => {\n  const errorNotifier = useErrorNotification();\n  return useQuery<SnapshotListResponse>(\n    [LIST_SNAPSHOTS_KEY, uuid, page, limit, searchQuery, sortBy],\n    () => getSnapshotList(uuid, page, limit, searchQuery, sortBy),\n    {\n      keepPreviousData: true,\n      optimisticResults: true,\n      staleTime: 60000,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onError: (err: any) => {\n        errorNotifier('Unable to find snapshots with the given UUID.', 'An error occurred', err);\n      },\n    },\n  );\n};\n\nexport const useGetPackagesQuery = (\n  uuid: string,\n  page: number,\n  limit: number,\n  searchQuery: string,\n  sortBy: string,\n) => {\n  const errorNotifier = useErrorNotification();\n  return useQuery<PackagesResponse>(\n    [PACKAGES_KEY, uuid, page, limit, searchQuery, sortBy],\n    () => getPackages(uuid, page, limit, searchQuery, sortBy),\n    {\n      keepPreviousData: true,\n      optimisticResults: true,\n      staleTime: 60000,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      onError: (err: any) => {\n        errorNotifier('Unable to find packages with the given UUID.', 'An error occurred', err);\n      },\n    },\n  );\n};\n\nexport const useIntrospectRepositoryMutate = (\n  queryClient: QueryClient,\n  page: number,\n  perPage: number,\n  filterData?: FilterData,\n  sortString?: string,\n) => {\n  // Below MUST match the \"useContentList\" key found above or updates will fail.\n  const contentListKeyArray = [\n    CONTENT_LIST_KEY,\n    page,\n    perPage,\n    sortString,\n    ...Object.values(filterData || {}),\n  ];\n  const errorNotifier = useErrorNotification();\n  const { notify } = useNotification();\n  return useMutation(introspectRepository, {\n    onMutate: async (item: IntrospectRepositoryRequestItem) => {\n      // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n      await queryClient.cancelQueries(contentListKeyArray);\n      // Snapshot the previous value\n      const previousData: Partial<ContentListResponse> =\n        queryClient.getQueryData(contentListKeyArray) || {};\n\n      const previousStatus = previousData.data?.find((data) => item.uuid == data.uuid)?.status;\n      const newData = cloneDeep(previousData);\n      if (previousStatus) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        newData.data.filter((data) => item.uuid == data.uuid).at(0).status = 'Pending';\n      }\n\n      // Optimistically update to the new value\n      queryClient.setQueryData(contentListKeyArray, () => ({\n        ...newData,\n      }));\n      // Return a context object with the snapshotted value\n      return { previousData, queryClient };\n    },\n    onSuccess: () => {\n      notify({\n        variant: AlertVariant.success,\n        title: 'Repository introspection in progress',\n      });\n      queryClient.invalidateQueries(ADMIN_TASK_LIST_KEY);\n    },\n    // If the mutation fails, use the context returned from onMutate to roll back\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onError: (err: any, _newData, context) => {\n      if (context) {\n        const { previousData } = context as {\n          previousData: ContentListResponse;\n        };\n        queryClient.setQueryData(contentListKeyArray, previousData);\n      }\n      errorNotifier('Error introspecting repository', 'An error occurred', err);\n    },\n  });\n};\n","import axios from 'axios';\n\nexport interface Feature {\n  enabled: boolean;\n  accessible: boolean;\n}\n\nexport interface Features {\n  snapshots?: Feature;\n  admintasks?: Feature;\n}\n\nexport const getFeatures: () => Promise<Features> = async () => {\n  const { data } = await axios.get('/api/content-sources/v1/features/');\n  return data;\n};\n","import { useState } from 'react';\nimport { Features, getFeatures } from './FeatureApi';\nimport useErrorNotification from '../../Hooks/useErrorNotification';\n\nexport const useFetchFeaturesQuery = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const errorNotifier = useErrorNotification();\n\n  const fetchFeatures = async (): Promise<Features | null> => {\n    setIsLoading(true);\n    let features: Features | null = null;\n    try {\n      features = await getFeatures();\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (err: any) {\n      errorNotifier('Error fetching features', 'An error occurred', err);\n    }\n    setIsLoading(false);\n    return features;\n  };\n\n  return { fetchFeatures, isLoading };\n};\n","import { initStore, restoreStore } from '@redhat-cloud-services/insights-common-typescript';\nimport { Middleware } from 'redux';\n\nexport const createStore = (...middleware: Middleware[]) => initStore({}, {}, ...middleware);\n\nexport const resetStore = () => restoreStore();\n"],"names":["useAppContext","rbac","isFetchingFeatures","Bullseye","Spinner","size","read","NoPermissionsPage","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","logger","store","useMemo","resetStore","createStore","useEffect","insights","chrome","appAction","QueryClientProvider","client","ContextProvider","value","delay","useState","debouncedValue","setDebouncedValue","isEqual","setTimeout","clearTimeout","useDeepCompareMemoize","ref","useRef","current","callback","dependencies","map","notify","defaultTitle","defaultDescription","err","title","description","response","data","errors","find","errTitle","detail","errDescription","variant","AlertVariant","danger","dispatch","useDispatch","payload","addNotification","pathname","useLocation","split","useStyles","createUseStyles","mainContainer","backgroundColor","global_BackgroundColor_100","display","flexDirection","mainContainer100Height","composes","minHeight","topContainer","justifyContent","padding","height","bottomContainer","invisible","opacity","formatDate","date","format","perPageKey","classes","navigate","useNavigate","storedPerPage","Number","localStorage","getItem","page","setPage","perPage","setPerPage","activeSortIndex","setActiveSortIndex","activeSortDirection","setActiveSortDirection","accountId","orgId","statuses","filterData","setFilterData","clearFilters","notFiltered","length","columnSortAttributes","sortString","useAdminTaskListQuery","isLoading","error","isError","isFetching","meta","count","limit","offset","actionTakingPlace","onSetPage","_","newPage","onPerPageSelect","newPerPage","setItem","toString","columnHeaders","adminTaskList","itemName","notFilteredBody","countIsZero","Grid","className","Outlet","Flex","values","FlexItem","hide","Pagination","id","widgetId","perPageComponent","isDisabled","itemCount","isCompact","SkeletonTable","rowSize","colSize","TableVariant","compact","TableComposable","ouiaId","Thead","Tr","columnHeader","index","Th","sort","columnIndex","sortBy","direction","defaultDirection","onSort","_event","Tbody","adminTask","Td","org_id","account_id","typename","queued_at","status","width","Button","onClick","uuid","PaginationVariant","bottom","chipsContainer","paddingTop","marginLeft","searchInput","paddingRight","marginRight","searchIcon","color","global_secondary_color_100","position","top","left","pointerEvents","statusValues","filters","filterType","setFilterType","setAccountId","setOrgId","selectedStatuses","setSelectedStatuses","debouncedAccountId","debouncedOrgId","debouncedSelectedStatuses","Filter","TextInput","placeholder","onChange","SearchIcon","toggleAriaLabel","toggleId","options","SelectVariant","checkbox","selectedProp","setSelected","placeholderText","InputGroup","single","toggleIcon","FilterIcon","fullWidth","default","ChipGroup","categoryName","Chip","filter","chip","isInline","red","global_danger_color_100","green","global_success_color_100","gold","global_warning_color_100","spinner","animationDuration","margin","alignContent","spacer","ExclamationCircleIcon","CheckCircleIcon","BanIcon","ClockIcon","jsonView","fontSize","useParams","rootPath","onClose","ADMIN_TASKS_ROUTE","activeTabKey","setActiveTabKey","detailRef","createRef","useFetchAdminTaskQuery","tabs","push","contentRef","pulp","sync","distribution","publication","showLoading","Modal","ModalVariant","medium","ouiaSafe","isOpen","header","Tabs","activeKey","onSelect","tabIndex","Tab","TabTitleText","eventKey","tabContentRef","TabContent","hidden","name","src","enableClipboard","copy","navigator","clipboard","writeText","JSON","stringify","DescriptionList","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","started_at","finished_at","checkboxMinWidth","minWidth","useContentListOutletContext","useOutletContext","useQueryClient","features","Set","checkedRepositories","setCheckedRepositories","searchQuery","versions","arches","useRepositoryParams","repositoryParamsLoading","repositoryParamsError","repositoryParamsIsError","distribution_versions","distribution_arches","distVersions","distArches","useContentListQuery","useDeleteContentItemMutate","deleteItem","isDeleting","useIntrospectRepositoryMutate","introspectRepository","isIntrospecting","introspectRepoForUuid","reset_count","useBulkDeleteContentItemMutate","deleteItems","isDeletingItems","archesDisplay","arch","label","contentList","rowActions","useCallback","rowData","snapshots","accessible","snapshot","last_snapshot_uuid","then","clearCheckedRepositories","isSeparator","repoCanBeChecked","contentItem","atLeastOneRepoChecked","areAllReposPending","every","areAllReposSelected","atLeastOneSelectedOnPage","has","showLoader","context","notFilteredButton","content","show","write","setDisabled","numberOfReposChecked","deleteCheckedRepos","newMaxPage","Math","ceil","select","checked","forEach","add","newSet","delete","isSelected","isHeaderSelectDisabled","time","url","distribution_arch","last_introspection_time","rowIndex","isSelecting","onSelectRepo","disable","href","includes","join","undefined","fromNow","retryHandler","isActionCell","ActionsColumn","items","global_Color_200","removeSideBorder","borderLeft","toggleAllRow","cursor","borderBottom","global_link_Color","fill","colHeader","mainContentCol","toggleAction","addRepositoryButton","marginBottom","saveButton","transition","removeButton","singleContentCol","gpgKeyInput","backgroundPositionX","defaultTouchedState","gpgKey","changeVerified","setChangeVerified","gpgKeyList","setGpgKeyList","snapshottingEnabled","enabled","formik","useFormik","initialValues","getDefaultFormikValues","validateOnBlur","validateOnChange","validationSchema","makeValidationSchema","initialTouched","onSubmit","updateGpgKey","updatedData","useFetchGpgKey","fetchGpgKey","isFetchingGpgKey","debouncedGpgKeyList","getQueryData","REPOSITORY_PARAMS_KEY","list","Promise","all","updateValue","isValidURL","result","metadataVerification","validationList","metadata_signature_present","setValues","distributionArches","distributionVersions","useAddContentQuery","mapFormikToAPIValues","addContent","isAdding","createDataLengthOf1","allExpanded","some","updateVariable","newValue","getFieldValidation","field","touched","setTouchedOnLastItemIfUntouchedAndCollapsed","lastItem","updatedTouched","setTouched","debouncedValues","useValidateContentList","validateContentList","isValidating","newTouchedValues","gpg_key","metadata_verification","validationData","validateForm","formikErrors","mappedErrorData","mapValidationData","setErrors","onToggle","expanded","help","Popover","headerContent","bodyContent","OutlinedQuestionCircleIcon","footer","Stack","StackItem","isValid","vals","icon","PlusCircleIcon","isExpanded","expand","dataLabel","gpgLoading","newValues","splice","newTouched","newErrors","removeRepository","MinusCircleIcon","colSpan","Form","FormGroup","fieldId","Switch","hasCheckIcon","labelOff","isChecked","Tooltip","Alert","style","isPlain","isRequired","validated","helperTextInvalid","type","onBlur","newVersion","isEmpty","updateArchAndVersion","labelIcon","menuAppendTo","document","body","Object","keys","key","typeaheadMulti","valueToUpdate","val","setVersionSelected","FileUpload","filenamePlaceholder","textAreaPlaceholder","spellCheck","onDataChange","onTextChange","onClearClick","dropzoneProps","maxSize","maxUploadSize","onDropRejected","files","failedFileUpload","allowEditingUploadedText","browseButtonText","Radio","fontWeight","loading","allTouched","noErrors","hasTouchedError","overrides","REGEX_URL","regex","RegExp","match","formikValues","updatedValidationData","rest","metadata_present","http_code","mapNoMetaDataError","Yup","addMethod","object","propertyName","message","this","test","parent","v","createError","path","array","shape","string","min","max","required","uniqueProperty","repositoryActions","versionNamesLabels","setVersionNamesLabels","archNamesLabels","setArchNamesLabels","setSearchQuery","selectedVersions","setSelectedVersions","selectedArches","setSelectedArches","debouncedSearchQuery","debouncedSelectedVersions","debouncedSelectedArches","getLabels","names","namesLabels","labels","found","chips","setChips","version","setIsValid","setIsLoading","setUpdatedValues","mapToDefaultFormikValues","hasNotChanged","open","mapFormikToEditAPIValues","urlOnBlur","noVerticalAlign","search","initialLoad","setInitialLoad","updatedValues","uuids","URLSearchParams","get","useEditContentQuery","editContent","isEditing","useFetchContent","valuesHaveChanged","mapToContentItemsToEditContentRequest","invalidateQueries","CONTENT_ITEM_KEY","text","global_disabled_color_100","link","package_count","isContentLeftAligned","Text","paddingBottom","useGetPackagesQuery","sortParams","packageList","fetchingOrLoading","loadingOrZeroCount","hasNoBodyWrapper","InnerScrollContainer","release","clearSearch","emptyStateContainer","flexGrow","EmptyState","EmptyStateVariant","full","EmptyStateIcon","Title","headingLevel","EmptyStateBody","useGetSnapshotList","contentData","snapshotsList","created_at","content_counts","added_counts","removed_counts","Date","toUTCString","addedCount","removedCount","base","alignItems","extend","LongArrowAltUpIcon","LongArrowAltDownIcon","relativeTime","PopoverDescription","timeText","PopoverFooter","failedIntrospectionsCount","lastIntrospectionTime","alertSeverityVariant","headerIcon","footerContent","isLink","ExclamationTriangleIcon","addRepositoriesButton","disabled","Map","checkedRepositoriesToAdd","setCheckedRepositoriesToAdd","checkedRepositoriesToDelete","setCheckedRepositoriesToDelete","selectedData","setSelectedData","selectedUUID","setSelectedUUID","searchValue","setSearchValue","debouncedSearchValue","usePopularRepositoriesQuery","useAddPopularRepositoryQuery","addContentQuery","atLeastOneRepoToDeleteChecked","atLeastOneRepoToAddChecked","repo","useDeletePopularRepositoryMutate","popularData","request","newMap","set","repoToRequestItem","existing_name","suggested_name","newData","tab","textDecoration","outlineOffset","currentRoute","last","route","keyParams","Link","accessKey","to","containerMargin","random","Routes","Route","element","Element","ChildRoutes","ErrorPage","childRouteKey","ChildRouteElement","Navigate","DEFAULT_ROUTE","replace","POPULAR_REPOSITORIES_ROUTE","hasWrite","admintasks","children","cloneElement","setIsOpen","dropdownItems","DropdownItem","Dropdown","getElementById","focus","toggle","KebabToggle","selected","Array","isArray","selectFrom","option","SelectOption","Select","selection","remaining","item","selections","isCheckboxSelectionBadgeHidden","emptyStateBody","ErrorBoundaryPage","headerTitle","errorTitle","errorDescription","PageHeader","subtext","global_Color_100","PageHeaderTitle","LockIcon","quickstartContainer","quickstartSpinner","buildCustomButton","marginTop","quickStartExpandedKey","useChrome","isBeta","quickStarts","isPreview","quickStartExpanded","setIsExpanded","quickStartLoading","setQuickStartLoading","prev","ExpandableSection","toggleText","displaySize","iconPosition","ArrowRightIcon","activateQuickstart","console","warn","global_danger_color_200","global_success_color_200","global_warning_color_200","blue","global_info_color_200","props","fontStyle","rel","target","ExternalLinkAltIcon","getRegistry","appname","AppContext","createContext","setRbac","setFeatures","useFetchFeaturesQuery","fetchFeatures","register","notifications","notificationsReducer","auth","getUser","fetchRBAC","fetchedFeatures","Provider","hasPermission","useContext","getAdminTasks","accountIdParam","orgIdParam","statusParam","toLowerCase","getAdminTask","ADMIN_TASK_LIST_KEY","ADMIN_TASK_KEY","polling","setPolling","pollCount","setPollCount","errorNotifier","flattenedFilterData","flat","useQuery","onSuccess","containsRunning","onError","refetchInterval","refetchIntervalInBackground","keepPreviousData","staleTime","getPopularRepositories","versionParam","archParam","getContentList","fetchContentItem","deleteContentListItem","deleteContentListItems","post","AddContentListItems","EditContentListItem","patch","getRepositoryParams","validateContentListItems","getGpgKey","getPackages","getSnapshotList","CONTENT_LIST_KEY","POPULAR_REPOSITORIES_LIST_KEY","CREATE_PARAMS_KEY","PACKAGES_KEY","LIST_SNAPSHOTS_KEY","containsPending","useMutation","hasPending","success","popularRepositoriesKeyArray","filteredRequest","onMutate","cancelQueries","previousPopularData","setQueryData","previousData","_newData","contentListKeyArray","_data","_variables","setQueriesData","from","newMeta","Infinity","optimisticResults","previousStatus","cloneDeep","at","getFeatures","initStore","middleware","restoreStore"],"sourceRoot":""}